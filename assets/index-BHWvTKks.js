var kI=Object.defineProperty;var SI=(n,e,t)=>e in n?kI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var rt=(n,e,t)=>SI(n,typeof e!="symbol"?e+"":e,t);import{g as II,r as Yv,a as Xv,s as AI,m as Jv,b as Zv,y as CI}from"./tensorflow-vzkht5av.js";function NI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Pp={exports:{}},Yl={},Rp={exports:{}},Re={},ex;function PI(){if(ex)return Re;ex=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function I(B,Y,ye){this.props=B,this.context=Y,this.refs=k,this.updater=ye||b}I.prototype.isReactComponent={},I.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function L(){}L.prototype=I.prototype;function U(B,Y,ye){this.props=B,this.context=Y,this.refs=k,this.updater=ye||b}var H=U.prototype=new L;H.constructor=U,C(H,I.prototype),H.isPureReactComponent=!0;var J=Array.isArray,ee=Object.prototype.hasOwnProperty,ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(B,Y,ye){var Ce,Ne={},je=null,Oe=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(Oe=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)ee.call(Y,Ce)&&!D.hasOwnProperty(Ce)&&(Ne[Ce]=Y[Ce]);var De=arguments.length-2;if(De===1)Ne.children=ye;else if(1<De){for(var Ke=Array(De),_t=0;_t<De;_t++)Ke[_t]=arguments[_t+2];Ne.children=Ke}if(B&&B.defaultProps)for(Ce in De=B.defaultProps,De)Ne[Ce]===void 0&&(Ne[Ce]=De[Ce]);return{$$typeof:n,type:B,key:je,ref:Oe,props:Ne,_owner:ae.current}}function N(B,Y){return{$$typeof:n,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function F(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return Y[ye]})}var z=/\/+/g;function j(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Y.toString(36)}function Xe(B,Y,ye,Ce,Ne){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var Oe=!1;if(B===null)Oe=!0;else switch(je){case"string":case"number":Oe=!0;break;case"object":switch(B.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=B,Ne=Ne(Oe),B=Ce===""?"."+j(Oe,0):Ce,J(Ne)?(ye="",B!=null&&(ye=B.replace(z,"$&/")+"/"),Xe(Ne,Y,ye,"",function(_t){return _t})):Ne!=null&&(M(Ne)&&(Ne=N(Ne,ye+(!Ne.key||Oe&&Oe.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+B)),Y.push(Ne)),1;if(Oe=0,Ce=Ce===""?".":Ce+":",J(B))for(var De=0;De<B.length;De++){je=B[De];var Ke=Ce+j(je,De);Oe+=Xe(je,Y,ye,Ke,Ne)}else if(Ke=T(B),typeof Ke=="function")for(B=Ke.call(B),De=0;!(je=B.next()).done;)je=je.value,Ke=Ce+j(je,De++),Oe+=Xe(je,Y,ye,Ke,Ne);else if(je==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Oe}function At(B,Y,ye){if(B==null)return B;var Ce=[],Ne=0;return Xe(B,Ce,"","",function(je){return Y.call(ye,je,Ne++)}),Ce}function Ct(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var ke={current:null},re={transition:null},ge={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:At,forEach:function(B,Y,ye){At(B,function(){Y.apply(this,arguments)},ye)},count:function(B){var Y=0;return At(B,function(){Y++}),Y},toArray:function(B){return At(B,function(Y){return Y})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=I,Re.Fragment=t,Re.Profiler=i,Re.PureComponent=U,Re.StrictMode=r,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=le,Re.cloneElement=function(B,Y,ye){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ce=C({},B.props),Ne=B.key,je=B.ref,Oe=B._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,Oe=ae.current),Y.key!==void 0&&(Ne=""+Y.key),B.type&&B.type.defaultProps)var De=B.type.defaultProps;for(Ke in Y)ee.call(Y,Ke)&&!D.hasOwnProperty(Ke)&&(Ce[Ke]=Y[Ke]===void 0&&De!==void 0?De[Ke]:Y[Ke])}var Ke=arguments.length-2;if(Ke===1)Ce.children=ye;else if(1<Ke){De=Array(Ke);for(var _t=0;_t<Ke;_t++)De[_t]=arguments[_t+2];Ce.children=De}return{$$typeof:n,type:B.type,key:Ne,ref:je,props:Ce,_owner:Oe}},Re.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Re.createElement=A,Re.createFactory=function(B){var Y=A.bind(null,B);return Y.type=B,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:u,render:B}},Re.isValidElement=M,Re.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Ct}},Re.memo=function(B,Y){return{$$typeof:m,type:B,compare:Y===void 0?null:Y}},Re.startTransition=function(B){var Y=re.transition;re.transition={};try{B()}finally{re.transition=Y}},Re.unstable_act=le,Re.useCallback=function(B,Y){return ke.current.useCallback(B,Y)},Re.useContext=function(B){return ke.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return ke.current.useDeferredValue(B)},Re.useEffect=function(B,Y){return ke.current.useEffect(B,Y)},Re.useId=function(){return ke.current.useId()},Re.useImperativeHandle=function(B,Y,ye){return ke.current.useImperativeHandle(B,Y,ye)},Re.useInsertionEffect=function(B,Y){return ke.current.useInsertionEffect(B,Y)},Re.useLayoutEffect=function(B,Y){return ke.current.useLayoutEffect(B,Y)},Re.useMemo=function(B,Y){return ke.current.useMemo(B,Y)},Re.useReducer=function(B,Y,ye){return ke.current.useReducer(B,Y,ye)},Re.useRef=function(B){return ke.current.useRef(B)},Re.useState=function(B){return ke.current.useState(B)},Re.useSyncExternalStore=function(B,Y,ye){return ke.current.useSyncExternalStore(B,Y,ye)},Re.useTransition=function(){return ke.current.useTransition()},Re.version="18.3.1",Re}var tx;function sg(){return tx||(tx=1,Rp.exports=PI()),Rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function RI(){if(nx)return Yl;nx=1;var n=sg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,p,m){var y,w={},T=null,b=null;m!==void 0&&(T=""+m),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(b=p.ref);for(y in p)r.call(p,y)&&!a.hasOwnProperty(y)&&(w[y]=p[y]);if(u&&u.defaultProps)for(y in p=u.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:e,type:u,key:T,ref:b,props:w,_owner:i.current}}return Yl.Fragment=t,Yl.jsx=l,Yl.jsxs=l,Yl}var rx;function jI(){return rx||(rx=1,Pp.exports=RI()),Pp.exports}var d=jI(),R=sg();const DI=II(R),VI=NI({__proto__:null,default:DI},[R]);var gh={},jp={exports:{}},xn={},Dp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function MI(){return sx||(sx=1,function(n){function e(re,ge){var le=re.length;re.push(ge);e:for(;0<le;){var B=le-1>>>1,Y=re[B];if(0<i(Y,ge))re[B]=ge,re[le]=Y,le=B;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ge=re[0],le=re.pop();if(le!==ge){re[0]=le;e:for(var B=0,Y=re.length,ye=Y>>>1;B<ye;){var Ce=2*(B+1)-1,Ne=re[Ce],je=Ce+1,Oe=re[je];if(0>i(Ne,le))je<Y&&0>i(Oe,Ne)?(re[B]=Oe,re[je]=le,B=je):(re[B]=Ne,re[Ce]=le,B=Ce);else if(je<Y&&0>i(Oe,le))re[B]=Oe,re[je]=le,B=je;else break e}}return ge}function i(re,ge){var le=re.sortIndex-ge.sortIndex;return le!==0?le:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var p=[],m=[],y=1,w=null,T=3,b=!1,C=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(re){for(var ge=t(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=re)r(m),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(m)}}function J(re){if(k=!1,H(re),!C)if(t(p)!==null)C=!0,Ct(ee);else{var ge=t(m);ge!==null&&ke(J,ge.startTime-re)}}function ee(re,ge){C=!1,k&&(k=!1,L(A),A=-1),b=!0;var le=T;try{for(H(ge),w=t(p);w!==null&&(!(w.expirationTime>ge)||re&&!F());){var B=w.callback;if(typeof B=="function"){w.callback=null,T=w.priorityLevel;var Y=B(w.expirationTime<=ge);ge=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(p)&&r(p),H(ge)}else r(p);w=t(p)}if(w!==null)var ye=!0;else{var Ce=t(m);Ce!==null&&ke(J,Ce.startTime-ge),ye=!1}return ye}finally{w=null,T=le,b=!1}}var ae=!1,D=null,A=-1,N=5,M=-1;function F(){return!(n.unstable_now()-M<N)}function z(){if(D!==null){var re=n.unstable_now();M=re;var ge=!0;try{ge=D(!0,re)}finally{ge?j():(ae=!1,D=null)}}else ae=!1}var j;if(typeof U=="function")j=function(){U(z)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,At=Xe.port2;Xe.port1.onmessage=z,j=function(){At.postMessage(null)}}else j=function(){I(z,0)};function Ct(re){D=re,ae||(ae=!0,j())}function ke(re,ge){A=I(function(){re(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){C||b||(C=!0,Ct(ee))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var le=T;T=ge;try{return re()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=T;T=re;try{return ge()}finally{T=le}},n.unstable_scheduleCallback=function(re,ge,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,re={id:y++,callback:ge,priorityLevel:re,startTime:le,expirationTime:Y,sortIndex:-1},le>B?(re.sortIndex=le,e(m,re),t(p)===null&&re===t(m)&&(k?(L(A),A=-1):k=!0,ke(J,le-B))):(re.sortIndex=Y,e(p,re),C||b||(C=!0,Ct(ee))),re},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(re){var ge=T;return function(){var le=T;T=ge;try{return re.apply(this,arguments)}finally{T=le}}}}(Vp)),Vp}var ix;function LI(){return ix||(ix=1,Dp.exports=MI()),Dp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function OI(){if(ox)return xn;ox=1;var n=sg(),e=LI();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(s){return p.call(w,s)?!0:p.call(y,s)?!1:m.test(s)?w[s]=!0:(y[s]=!0,!1)}function b(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,c,f){if(o===null||typeof o>"u"||b(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,c,f,g,x,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=E}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,U);I[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,U);I[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,U);I[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,o,c,f){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,g,f)&&(c=null),f||g===null?T(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,B;function Y(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ye=!1;function Ce(s,o){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){f=K}s.call(o.prototype)}else{try{throw Error()}catch(K){f=K}s()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),x=f.stack.split(`
`),E=g.length-1,P=x.length-1;1<=E&&0<=P&&g[E]!==x[P];)P--;for(;1<=E&&0<=P;E--,P--)if(g[E]!==x[P]){if(E!==1||P!==1)do if(E--,P--,0>P||g[E]!==x[P]){var V=`
`+g[E].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=E&&0<=P);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ne(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case ae:return"Portal";case N:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case Xe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case At:return o=s.displayName||null,o!==null?o:je(s.type)||"Memo";case Ct:o=s._payload,s=s._init;try{return je(s(o))}catch{}}return null}function Oe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _t(s){var o=Ke(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,x.call(this,E)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function tr(s){s._valueTracker||(s._valueTracker=_t(s))}function nr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Ke(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function kr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ge(s,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function En(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=De(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function hn(s,o){o=o.checked,o!=null&&H(s,"checked",o,!1)}function Sr(s,o){hn(s,o);var c=De(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?at(s,o.type,c):o.hasOwnProperty("defaultValue")&&at(s,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Qe(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function at(s,o,c){(o!=="number"||kr(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var dt=Array.isArray;function bn(s,o,c,f){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+De(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function sl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ao(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(dt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:De(c)}}function Co(s,o){var c=De(o.value),f=De(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function il(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Nt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Nt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Yr,ol=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Yr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Is(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(s){Ci.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ai[o]=Ai[s]})});function al(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ai.hasOwnProperty(s)&&Ai[s]?(""+o).trim():o+"px"}function ll(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=al(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var cl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(s,o){if(o){if(cl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function hl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function No(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Po=null,On=null,Ir=null;function Ro(s){if(s=Vl(s)){if(typeof Po!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Pu(o),Po(s.stateNode,s.type,o))}}function Ar(s){On?Ir?Ir.push(s):Ir=[s]:On=s}function dl(){if(On){var s=On,o=Ir;if(Ir=On=null,Ro(s),o)for(s=0;s<o.length;s++)Ro(o[s])}}function Pi(s,o){return s(o)}function fl(){}var Xr=!1;function pl(s,o,c){if(Xr)return s(o,c);Xr=!0;try{return Pi(s,o,c)}finally{Xr=!1,(On!==null||Ir!==null)&&(fl(),dl())}}function mt(s,o){var c=s.stateNode;if(c===null)return null;var f=Pu(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var jo=!1;if(u)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){jo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{jo=!1}function Ri(s,o,c,f,g,x,E,P,V){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(te){this.onError(te)}}var ji=!1,Do=null,sr=!1,ml=null,sf={onError:function(s){ji=!0,Do=s}};function Vo(s,o,c,f,g,x,E,P,V){ji=!1,Do=null,Ri.apply(sf,arguments)}function nu(s,o,c,f,g,x,E,P,V){if(Vo.apply(this,arguments),ji){if(ji){var K=Do;ji=!1,Do=null}else throw Error(t(198));sr||(sr=!0,ml=K)}}function ir(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Di(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function or(s){if(ir(s)!==s)throw Error(t(188))}function ru(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,f=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return or(g),s;if(x===f)return or(g),o;x=x.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=x;else{for(var E=!1,P=g.child;P;){if(P===c){E=!0,c=g,f=x;break}if(P===f){E=!0,f=g,c=x;break}P=P.sibling}if(!E){for(P=x.child;P;){if(P===c){E=!0,c=x,f=g;break}if(P===f){E=!0,f=x,c=g;break}P=P.sibling}if(!E)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function gl(s){return s=ru(s),s!==null?Mo(s):null}function Mo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Mo(s);if(o!==null)return o;s=s.sibling}return null}var Lo=e.unstable_scheduleCallback,yl=e.unstable_cancelCallback,su=e.unstable_shouldYield,of=e.unstable_requestPaint,Je=e.unstable_now,iu=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,As=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,vl=e.unstable_LowPriority,ou=e.unstable_IdlePriority,Mi=null,kn=null;function au(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Mi,s,void 0,(s.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:cu,xl=Math.log,lu=Math.LN2;function cu(s){return s>>>=0,s===0?32:31-(xl(s)/lu|0)|0}var Oo=64,Fo=4194304;function Cs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Li(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,x=s.pingedLanes,E=c&268435455;if(E!==0){var P=E&~g;P!==0?f=Cs(P):(x&=E,x!==0&&(f=Cs(x)))}else E=c&~g,E!==0?f=Cs(E):x!==0&&(f=Cs(x));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-an(o),g=1<<c,f|=s[c],o&=~g;return f}function af(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var E=31-an(x),P=1<<E,V=g[E];V===-1?((P&c)===0||(P&f)!==0)&&(g[E]=af(P,o)):V<=o&&(s.expiredLanes|=P),x&=~P}}function Sn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Oi(){var s=Oo;return Oo<<=1,(Oo&4194240)===0&&(Oo=64),s}function Ns(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ps(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-an(o),s[o]=c}function Ye(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-an(c),x=1<<g;o[g]=0,f[g]=-1,s[g]=-1,c&=~x}}function Rs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-an(c),g=1<<f;g&o|s[f]&o&&(s[f]|=o),c&=~g}}var Fe=0;function js(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var uu,Uo,hu,du,fu,wl=!1,Cr=[],Bt=null,ar=null,lr=null,Ds=new Map,Un=new Map,Nr=[],lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(s,o){switch(s){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ds.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(o.pointerId)}}function dn(s,o,c,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Vl(o),o!==null&&Uo(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function cf(s,o,c,f,g){switch(o){case"focusin":return Bt=dn(Bt,s,o,c,f,g),!0;case"dragenter":return ar=dn(ar,s,o,c,f,g),!0;case"mouseover":return lr=dn(lr,s,o,c,f,g),!0;case"pointerover":var x=g.pointerId;return Ds.set(x,dn(Ds.get(x)||null,s,o,c,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Un.set(x,dn(Un.get(x)||null,s,o,c,f,g)),!0}return!1}function mu(s){var o=$i(s.target);if(o!==null){var c=ir(o);if(c!==null){if(o=c.tag,o===13){if(o=Di(c),o!==null){s.blockedOn=o,fu(s.priority,function(){hu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Bo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Ni=f,c.target.dispatchEvent(f),Ni=null}else return o=Vl(c),o!==null&&Uo(o),s.blockedOn=c,!1;o.shift()}return!0}function Fi(s,o,c){Zr(s)&&c.delete(o)}function gu(){wl=!1,Bt!==null&&Zr(Bt)&&(Bt=null),ar!==null&&Zr(ar)&&(ar=null),lr!==null&&Zr(lr)&&(lr=null),Ds.forEach(Fi),Un.forEach(Fi)}function cr(s,o){s.blockedOn===o&&(s.blockedOn=null,wl||(wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function ur(s){function o(g){return cr(g,s)}if(0<Cr.length){cr(Cr[0],s);for(var c=1;c<Cr.length;c++){var f=Cr[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Bt!==null&&cr(Bt,s),ar!==null&&cr(ar,s),lr!==null&&cr(lr,s),Ds.forEach(o),Un.forEach(o),c=0;c<Nr.length;c++)f=Nr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Nr.length&&(c=Nr[0],c.blockedOn===null);)mu(c),c.blockedOn===null&&Nr.shift()}var es=J.ReactCurrentBatchConfig,Vs=!0;function it(s,o,c,f){var g=Fe,x=es.transition;es.transition=null;try{Fe=1,_l(s,o,c,f)}finally{Fe=g,es.transition=x}}function uf(s,o,c,f){var g=Fe,x=es.transition;es.transition=null;try{Fe=4,_l(s,o,c,f)}finally{Fe=g,es.transition=x}}function _l(s,o,c,f){if(Vs){var g=Bo(s,o,c,f);if(g===null)_f(s,o,f,Ui,c),pu(s,f);else if(cf(g,s,o,c,f))f.stopPropagation();else if(pu(s,f),o&4&&-1<lf.indexOf(s)){for(;g!==null;){var x=Vl(g);if(x!==null&&uu(x),x=Bo(s,o,c,f),x===null&&_f(s,o,f,Ui,c),x===g)break;g=x}g!==null&&f.stopPropagation()}else _f(s,o,f,null,c)}}var Ui=null;function Bo(s,o,c,f){if(Ui=null,s=No(f),s=$i(s),s!==null)if(o=ir(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Di(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ui=s,null}function Tl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iu()){case Vi:return 1;case As:return 4;case Fn:case vl:return 16;case ou:return 536870912;default:return 16}default:return 16}}var In=null,zo=null,fn=null;function El(){if(fn)return fn;var s,o=zo,c=o.length,f,g="value"in In?In.value:In.textContent,x=g.length;for(s=0;s<c&&o[s]===g[s];s++);var E=c-s;for(f=1;f<=E&&o[c-f]===g[x-f];f++);return fn=g.slice(s,1<f?1-f:void 0)}function $o(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Pr(){return!0}function bl(){return!1}function zt(s){function o(c,f,g,x,E){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(c=s[P],this[P]=c?c(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Pr:bl,this.isPropagationStopped=bl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),o}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=zt(hr),Rr=le({},hr,{view:0,detail:0}),hf=zt(Rr),qo,ts,Ms,Bi=le({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ms&&(Ms&&s.type==="mousemove"?(qo=s.screenX-Ms.screenX,ts=s.screenY-Ms.screenY):ts=qo=0,Ms=s),qo)},movementY:function(s){return"movementY"in s?s.movementY:ts}}),Ho=zt(Bi),kl=le({},Bi,{dataTransfer:0}),yu=zt(kl),Ko=le({},Rr,{relatedTarget:0}),Go=zt(Ko),vu=le({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ns=zt(vu),xu=le({},hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wu=zt(xu),_u=le({},hr,{data:0}),Sl=zt(_u),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Tu[s])?!!o[s]:!1}function jr(){return Eu}var h=le({},Rr,{key:function(s){if(s.key){var o=Qo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$o(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ln[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(s){return s.type==="keypress"?$o(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$o(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=zt(h),_=le({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=zt(_),$=le({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),G=zt($),ie=le({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=zt(ie),Rt=le({},Bi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=zt(Rt),Mt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,Bn=null;u&&"documentMode"in document&&(Bn=document.documentMode);var An=u&&"TextEvent"in window&&!Bn,zi=u&&(!Tt||Bn&&8<Bn&&11>=Bn),Yo=" ",Wy=!1;function qy(s,o){switch(s){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xo=!1;function TS(s,o){switch(s){case"compositionend":return Hy(o);case"keypress":return o.which!==32?null:(Wy=!0,Yo);case"textInput":return s=o.data,s===Yo&&Wy?null:s;default:return null}}function ES(s,o){if(Xo)return s==="compositionend"||!Tt&&qy(s,o)?(s=El(),fn=zo=In=null,Xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zi&&o.locale!=="ko"?null:o.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!bS[s.type]:o==="textarea"}function Gy(s,o,c,f){Ar(f),o=Au(o,"onChange"),0<o.length&&(c=new Wo("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Il=null,Al=null;function kS(s){d0(s,0)}function bu(s){var o=na(s);if(nr(o))return s}function SS(s,o){if(s==="change")return o}var Qy=!1;if(u){var df;if(u){var ff="oninput"in document;if(!ff){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),ff=typeof Yy.oninput=="function"}df=ff}else df=!1;Qy=df&&(!document.documentMode||9<document.documentMode)}function Xy(){Il&&(Il.detachEvent("onpropertychange",Jy),Al=Il=null)}function Jy(s){if(s.propertyName==="value"&&bu(Al)){var o=[];Gy(o,Al,s,No(s)),pl(kS,o)}}function IS(s,o,c){s==="focusin"?(Xy(),Il=o,Al=c,Il.attachEvent("onpropertychange",Jy)):s==="focusout"&&Xy()}function AS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bu(Al)}function CS(s,o){if(s==="click")return bu(o)}function NS(s,o){if(s==="input"||s==="change")return bu(o)}function PS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var dr=typeof Object.is=="function"?Object.is:PS;function Cl(s,o){if(dr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!p.call(o,g)||!dr(s[g],o[g]))return!1}return!0}function Zy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function e0(s,o){var c=Zy(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Zy(c)}}function t0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?t0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function n0(){for(var s=window,o=kr();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=kr(s.document)}return o}function pf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function RS(s){var o=n0(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&t0(c.ownerDocument.documentElement,c)){if(f!==null&&pf(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!s.extend&&x>f&&(g=f,f=x,x=g),g=e0(c,x);var E=e0(c,f);g&&E&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),x>f?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jS=u&&"documentMode"in document&&11>=document.documentMode,Jo=null,mf=null,Nl=null,gf=!1;function r0(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;gf||Jo==null||Jo!==kr(f)||(f=Jo,"selectionStart"in f&&pf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Nl&&Cl(Nl,f)||(Nl=f,f=Au(mf,"onSelect"),0<f.length&&(o=new Wo("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Jo)))}function ku(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Zo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},yf={},s0={};u&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Su(s){if(yf[s])return yf[s];if(!Zo[s])return s;var o=Zo[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in s0)return yf[s]=o[c];return s}var i0=Su("animationend"),o0=Su("animationiteration"),a0=Su("animationstart"),l0=Su("transitionend"),c0=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(s,o){c0.set(s,o),a(o,[s])}for(var vf=0;vf<u0.length;vf++){var xf=u0[vf],DS=xf.toLowerCase(),VS=xf[0].toUpperCase()+xf.slice(1);Ls(DS,"on"+VS)}Ls(i0,"onAnimationEnd"),Ls(o0,"onAnimationIteration"),Ls(a0,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(l0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function h0(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,nu(f,o,void 0,s),s.currentTarget=null}function d0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var E=f.length-1;0<=E;E--){var P=f[E],V=P.instance,K=P.currentTarget;if(P=P.listener,V!==x&&g.isPropagationStopped())break e;h0(g,P,K),x=V}else for(E=0;E<f.length;E++){if(P=f[E],V=P.instance,K=P.currentTarget,P=P.listener,V!==x&&g.isPropagationStopped())break e;h0(g,P,K),x=V}}}if(sr)throw s=ml,sr=!1,ml=null,s}function tt(s,o){var c=o[If];c===void 0&&(c=o[If]=new Set);var f=s+"__bubble";c.has(f)||(f0(o,s,2,!1),c.add(f))}function wf(s,o,c){var f=0;o&&(f|=4),f0(c,s,f,o)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Rl(s){if(!s[Iu]){s[Iu]=!0,r.forEach(function(c){c!=="selectionchange"&&(MS.has(c)||wf(c,!1,s),wf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Iu]||(o[Iu]=!0,wf("selectionchange",!1,o))}}function f0(s,o,c,f){switch(Tl(o)){case 1:var g=it;break;case 4:g=uf;break;default:g=_l}c=g.bind(null,o,c,s),g=void 0,!jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function _f(s,o,c,f,g){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var P=f.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(E===4)for(E=f.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;E=E.return}for(;P!==null;){if(E=$i(P),E===null)return;if(V=E.tag,V===5||V===6){f=x=E;continue e}P=P.parentNode}}f=f.return}pl(function(){var K=x,te=No(c),ne=[];e:{var Z=c0.get(s);if(Z!==void 0){var ue=Wo,fe=s;switch(s){case"keypress":if($o(c)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":fe="focus",ue=Go;break;case"focusout":fe="blur",ue=Go;break;case"beforeblur":case"afterblur":ue=Go;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case i0:case o0:case a0:ue=ns;break;case l0:ue=He;break;case"scroll":ue=hf;break;case"wheel":ue=Ue;break;case"copy":case"cut":case"paste":ue=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var pe=(o&4)!==0,gt=!pe&&s==="scroll",W=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var O=K,q;O!==null;){q=O;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,W!==null&&(se=mt(O,W),se!=null&&pe.push(jl(O,se,q)))),gt)break;O=O.return}0<pe.length&&(Z=new ue(Z,fe,null,c,te),ne.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&c!==Ni&&(fe=c.relatedTarget||c.fromElement)&&($i(fe)||fe[rs]))break e;if((ue||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=K,fe=fe?$i(fe):null,fe!==null&&(gt=ir(fe),fe!==gt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=K),ue!==fe)){if(pe=Ho,se="onMouseLeave",W="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(pe=S,se="onPointerLeave",W="onPointerEnter",O="pointer"),gt=ue==null?Z:na(ue),q=fe==null?Z:na(fe),Z=new pe(se,O+"leave",ue,c,te),Z.target=gt,Z.relatedTarget=q,se=null,$i(te)===K&&(pe=new pe(W,O+"enter",fe,c,te),pe.target=q,pe.relatedTarget=gt,se=pe),gt=se,ue&&fe)t:{for(pe=ue,W=fe,O=0,q=pe;q;q=ea(q))O++;for(q=0,se=W;se;se=ea(se))q++;for(;0<O-q;)pe=ea(pe),O--;for(;0<q-O;)W=ea(W),q--;for(;O--;){if(pe===W||W!==null&&pe===W.alternate)break t;pe=ea(pe),W=ea(W)}pe=null}else pe=null;ue!==null&&p0(ne,Z,ue,pe,!1),fe!==null&&gt!==null&&p0(ne,gt,fe,pe,!0)}}e:{if(Z=K?na(K):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=SS;else if(Ky(Z))if(Qy)me=NS;else{me=AS;var xe=IS}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=CS);if(me&&(me=me(s,K))){Gy(ne,me,c,te);break e}xe&&xe(s,Z,K),s==="focusout"&&(xe=Z._wrapperState)&&xe.controlled&&Z.type==="number"&&at(Z,"number",Z.value)}switch(xe=K?na(K):window,s){case"focusin":(Ky(xe)||xe.contentEditable==="true")&&(Jo=xe,mf=K,Nl=null);break;case"focusout":Nl=mf=Jo=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,r0(ne,c,te);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":r0(ne,c,te)}var we;if(Tt)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Xo?qy(s,c)&&(Se="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(zi&&c.locale!=="ko"&&(Xo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Xo&&(we=El()):(In=te,zo="value"in In?In.value:In.textContent,Xo=!0)),xe=Au(K,Se),0<xe.length&&(Se=new Sl(Se,s,null,c,te),ne.push({event:Se,listeners:xe}),we?Se.data=we:(we=Hy(c),we!==null&&(Se.data=we)))),(we=An?TS(s,c):ES(s,c))&&(K=Au(K,"onBeforeInput"),0<K.length&&(te=new Sl("onBeforeInput","beforeinput",null,c,te),ne.push({event:te,listeners:K}),te.data=we))}d0(ne,o)})}function jl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Au(s,o){for(var c=o+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=mt(s,c),x!=null&&f.unshift(jl(s,x,g)),x=mt(s,o),x!=null&&f.push(jl(s,x,g))),s=s.return}return f}function ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function p0(s,o,c,f,g){for(var x=o._reactName,E=[];c!==null&&c!==f;){var P=c,V=P.alternate,K=P.stateNode;if(V!==null&&V===f)break;P.tag===5&&K!==null&&(P=K,g?(V=mt(c,x),V!=null&&E.unshift(jl(c,V,P))):g||(V=mt(c,x),V!=null&&E.push(jl(c,V,P)))),c=c.return}E.length!==0&&s.push({event:o,listeners:E})}var LS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function m0(s){return(typeof s=="string"?s:""+s).replace(LS,`
`).replace(OS,"")}function Cu(s,o,c){if(o=m0(o),m0(s)!==o&&c)throw Error(t(425))}function Nu(){}var Tf=null,Ef=null;function bf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,FS=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(s){return g0.resolve(null).then(s).catch(BS)}:kf;function BS(s){setTimeout(function(){throw s})}function Sf(s,o){var c=o,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),ur(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);ur(o)}function Os(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function y0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ta,Dl="__reactProps$"+ta,rs="__reactContainer$"+ta,If="__reactEvents$"+ta,zS="__reactListeners$"+ta,$S="__reactHandles$"+ta;function $i(s){var o=s[Dr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[rs]||c[Dr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=y0(s);s!==null;){if(c=s[Dr])return c;s=y0(s)}return o}s=c,c=s.parentNode}return null}function Vl(s){return s=s[Dr]||s[rs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Pu(s){return s[Dl]||null}var Af=[],ra=-1;function Fs(s){return{current:s}}function nt(s){0>ra||(s.current=Af[ra],Af[ra]=null,ra--)}function Ze(s,o){ra++,Af[ra]=s.current,s.current=o}var Us={},Qt=Fs(Us),pn=Fs(!1),Wi=Us;function sa(s,o){var c=s.type.contextTypes;if(!c)return Us;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=o[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function mn(s){return s=s.childContextTypes,s!=null}function Ru(){nt(pn),nt(Qt)}function v0(s,o,c){if(Qt.current!==Us)throw Error(t(168));Ze(Qt,o),Ze(pn,c)}function x0(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,Oe(s)||"Unknown",g));return le({},c,f)}function ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Us,Wi=Qt.current,Ze(Qt,s),Ze(pn,pn.current),!0}function w0(s,o,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=x0(s,o,Wi),f.__reactInternalMemoizedMergedChildContext=s,nt(pn),nt(Qt),Ze(Qt,s)):nt(pn),Ze(pn,c)}var ss=null,Du=!1,Cf=!1;function _0(s){ss===null?ss=[s]:ss.push(s)}function WS(s){Du=!0,_0(s)}function Bs(){if(!Cf&&ss!==null){Cf=!0;var s=0,o=Fe;try{var c=ss;for(Fe=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}ss=null,Du=!1}catch(g){throw ss!==null&&(ss=ss.slice(s+1)),Lo(Vi,Bs),g}finally{Fe=o,Cf=!1}}return null}var ia=[],oa=0,Vu=null,Mu=0,zn=[],$n=0,qi=null,is=1,os="";function Hi(s,o){ia[oa++]=Mu,ia[oa++]=Vu,Vu=s,Mu=o}function T0(s,o,c){zn[$n++]=is,zn[$n++]=os,zn[$n++]=qi,qi=s;var f=is;s=os;var g=32-an(f)-1;f&=~(1<<g),c+=1;var x=32-an(o)+g;if(30<x){var E=g-g%5;x=(f&(1<<E)-1).toString(32),f>>=E,g-=E,is=1<<32-an(o)+g|c<<g|f,os=x+s}else is=1<<x|c<<g|f,os=s}function Nf(s){s.return!==null&&(Hi(s,1),T0(s,1,0))}function Pf(s){for(;s===Vu;)Vu=ia[--oa],ia[oa]=null,Mu=ia[--oa],ia[oa]=null;for(;s===qi;)qi=zn[--$n],zn[$n]=null,os=zn[--$n],zn[$n]=null,is=zn[--$n],zn[$n]=null}var Cn=null,Nn=null,ot=!1,fr=null;function E0(s,o){var c=Kn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function b0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Cn=s,Nn=Os(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Cn=s,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=qi!==null?{id:is,overflow:os}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Kn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Cn=s,Nn=null,!0):!1;default:return!1}}function Rf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function jf(s){if(ot){var o=Nn;if(o){var c=o;if(!b0(s,o)){if(Rf(s))throw Error(t(418));o=Os(c.nextSibling);var f=Cn;o&&b0(s,o)?E0(f,c):(s.flags=s.flags&-4097|2,ot=!1,Cn=s)}}else{if(Rf(s))throw Error(t(418));s.flags=s.flags&-4097|2,ot=!1,Cn=s}}}function k0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Cn=s}function Lu(s){if(s!==Cn)return!1;if(!ot)return k0(s),ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!bf(s.type,s.memoizedProps)),o&&(o=Nn)){if(Rf(s))throw S0(),Error(t(418));for(;o;)E0(s,o),o=Os(o.nextSibling)}if(k0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Nn=Os(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Nn=null}}else Nn=Cn?Os(s.stateNode.nextSibling):null;return!0}function S0(){for(var s=Nn;s;)s=Os(s.nextSibling)}function aa(){Nn=Cn=null,ot=!1}function Df(s){fr===null?fr=[s]:fr.push(s)}var qS=J.ReactCurrentBatchConfig;function Ml(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(E){var P=g.refs;E===null?delete P[x]:P[x]=E},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Ou(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function I0(s){var o=s._init;return o(s._payload)}function A0(s){function o(W,O){if(s){var q=W.deletions;q===null?(W.deletions=[O],W.flags|=16):q.push(O)}}function c(W,O){if(!s)return null;for(;O!==null;)o(W,O),O=O.sibling;return null}function f(W,O){for(W=new Map;O!==null;)O.key!==null?W.set(O.key,O):W.set(O.index,O),O=O.sibling;return W}function g(W,O){return W=Qs(W,O),W.index=0,W.sibling=null,W}function x(W,O,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<O?(W.flags|=2,O):q):(W.flags|=2,O)):(W.flags|=1048576,O)}function E(W){return s&&W.alternate===null&&(W.flags|=2),W}function P(W,O,q,se){return O===null||O.tag!==6?(O=kp(q,W.mode,se),O.return=W,O):(O=g(O,q),O.return=W,O)}function V(W,O,q,se){var me=q.type;return me===D?te(W,O,q.props.children,se,q.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ct&&I0(me)===O.type)?(se=g(O,q.props),se.ref=Ml(W,O,q),se.return=W,se):(se=lh(q.type,q.key,q.props,null,W.mode,se),se.ref=Ml(W,O,q),se.return=W,se)}function K(W,O,q,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Sp(q,W.mode,se),O.return=W,O):(O=g(O,q.children||[]),O.return=W,O)}function te(W,O,q,se,me){return O===null||O.tag!==7?(O=eo(q,W.mode,se,me),O.return=W,O):(O=g(O,q),O.return=W,O)}function ne(W,O,q){if(typeof O=="string"&&O!==""||typeof O=="number")return O=kp(""+O,W.mode,q),O.return=W,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ee:return q=lh(O.type,O.key,O.props,null,W.mode,q),q.ref=Ml(W,null,O),q.return=W,q;case ae:return O=Sp(O,W.mode,q),O.return=W,O;case Ct:var se=O._init;return ne(W,se(O._payload),q)}if(dt(O)||ge(O))return O=eo(O,W.mode,q,null),O.return=W,O;Ou(W,O)}return null}function Z(W,O,q,se){var me=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return me!==null?null:P(W,O,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:return q.key===me?V(W,O,q,se):null;case ae:return q.key===me?K(W,O,q,se):null;case Ct:return me=q._init,Z(W,O,me(q._payload),se)}if(dt(q)||ge(q))return me!==null?null:te(W,O,q,se,null);Ou(W,q)}return null}function ue(W,O,q,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(q)||null,P(O,W,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ee:return W=W.get(se.key===null?q:se.key)||null,V(O,W,se,me);case ae:return W=W.get(se.key===null?q:se.key)||null,K(O,W,se,me);case Ct:var xe=se._init;return ue(W,O,q,xe(se._payload),me)}if(dt(se)||ge(se))return W=W.get(q)||null,te(O,W,se,me,null);Ou(O,se)}return null}function fe(W,O,q,se){for(var me=null,xe=null,we=O,Se=O=0,Ft=null;we!==null&&Se<q.length;Se++){we.index>Se?(Ft=we,we=null):Ft=we.sibling;var $e=Z(W,we,q[Se],se);if($e===null){we===null&&(we=Ft);break}s&&we&&$e.alternate===null&&o(W,we),O=x($e,O,Se),xe===null?me=$e:xe.sibling=$e,xe=$e,we=Ft}if(Se===q.length)return c(W,we),ot&&Hi(W,Se),me;if(we===null){for(;Se<q.length;Se++)we=ne(W,q[Se],se),we!==null&&(O=x(we,O,Se),xe===null?me=we:xe.sibling=we,xe=we);return ot&&Hi(W,Se),me}for(we=f(W,we);Se<q.length;Se++)Ft=ue(we,W,Se,q[Se],se),Ft!==null&&(s&&Ft.alternate!==null&&we.delete(Ft.key===null?Se:Ft.key),O=x(Ft,O,Se),xe===null?me=Ft:xe.sibling=Ft,xe=Ft);return s&&we.forEach(function(Ys){return o(W,Ys)}),ot&&Hi(W,Se),me}function pe(W,O,q,se){var me=ge(q);if(typeof me!="function")throw Error(t(150));if(q=me.call(q),q==null)throw Error(t(151));for(var xe=me=null,we=O,Se=O=0,Ft=null,$e=q.next();we!==null&&!$e.done;Se++,$e=q.next()){we.index>Se?(Ft=we,we=null):Ft=we.sibling;var Ys=Z(W,we,$e.value,se);if(Ys===null){we===null&&(we=Ft);break}s&&we&&Ys.alternate===null&&o(W,we),O=x(Ys,O,Se),xe===null?me=Ys:xe.sibling=Ys,xe=Ys,we=Ft}if($e.done)return c(W,we),ot&&Hi(W,Se),me;if(we===null){for(;!$e.done;Se++,$e=q.next())$e=ne(W,$e.value,se),$e!==null&&(O=x($e,O,Se),xe===null?me=$e:xe.sibling=$e,xe=$e);return ot&&Hi(W,Se),me}for(we=f(W,we);!$e.done;Se++,$e=q.next())$e=ue(we,W,Se,$e.value,se),$e!==null&&(s&&$e.alternate!==null&&we.delete($e.key===null?Se:$e.key),O=x($e,O,Se),xe===null?me=$e:xe.sibling=$e,xe=$e);return s&&we.forEach(function(bI){return o(W,bI)}),ot&&Hi(W,Se),me}function gt(W,O,q,se){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:e:{for(var me=q.key,xe=O;xe!==null;){if(xe.key===me){if(me=q.type,me===D){if(xe.tag===7){c(W,xe.sibling),O=g(xe,q.props.children),O.return=W,W=O;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ct&&I0(me)===xe.type){c(W,xe.sibling),O=g(xe,q.props),O.ref=Ml(W,xe,q),O.return=W,W=O;break e}c(W,xe);break}else o(W,xe);xe=xe.sibling}q.type===D?(O=eo(q.props.children,W.mode,se,q.key),O.return=W,W=O):(se=lh(q.type,q.key,q.props,null,W.mode,se),se.ref=Ml(W,O,q),se.return=W,W=se)}return E(W);case ae:e:{for(xe=q.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){c(W,O.sibling),O=g(O,q.children||[]),O.return=W,W=O;break e}else{c(W,O);break}else o(W,O);O=O.sibling}O=Sp(q,W.mode,se),O.return=W,W=O}return E(W);case Ct:return xe=q._init,gt(W,O,xe(q._payload),se)}if(dt(q))return fe(W,O,q,se);if(ge(q))return pe(W,O,q,se);Ou(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,O!==null&&O.tag===6?(c(W,O.sibling),O=g(O,q),O.return=W,W=O):(c(W,O),O=kp(q,W.mode,se),O.return=W,W=O),E(W)):c(W,O)}return gt}var la=A0(!0),C0=A0(!1),Fu=Fs(null),Uu=null,ca=null,Vf=null;function Mf(){Vf=ca=Uu=null}function Lf(s){var o=Fu.current;nt(Fu),s._currentValue=o}function Of(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function ua(s,o){Uu=s,Vf=ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(gn=!0),s.firstContext=null)}function Wn(s){var o=s._currentValue;if(Vf!==s)if(s={context:s,memoizedValue:o,next:null},ca===null){if(Uu===null)throw Error(t(308));ca=s,Uu.dependencies={lanes:0,firstContext:s}}else ca=ca.next=s;return o}var Ki=null;function Ff(s){Ki===null?Ki=[s]:Ki.push(s)}function N0(s,o,c,f){var g=o.interleaved;return g===null?(c.next=c,Ff(o)):(c.next=g.next,g.next=c),o.interleaved=c,as(s,f)}function as(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var zs=!1;function Uf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ls(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function $s(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ze&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,as(s,c)}return g=f.interleaved,g===null?(o.next=o,Ff(f)):(o.next=g.next,g.next=o),f.interleaved=o,as(s,c)}function Bu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Rs(s,c)}}function R0(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=E:x=x.next=E,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function zu(s,o,c,f){var g=s.updateQueue;zs=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var V=P,K=V.next;V.next=null,E===null?x=K:E.next=K,E=V;var te=s.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==E&&(P===null?te.firstBaseUpdate=K:P.next=K,te.lastBaseUpdate=V))}if(x!==null){var ne=g.baseState;E=0,te=K=V=null,P=x;do{var Z=P.lane,ue=P.eventTime;if((f&Z)===Z){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=s,pe=P;switch(Z=o,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ne=fe.call(ue,ne,Z);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,Z=typeof fe=="function"?fe.call(ue,ne,Z):fe,Z==null)break e;ne=le({},ne,Z);break e;case 2:zs=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,Z=g.effects,Z===null?g.effects=[P]:Z.push(P))}else ue={eventTime:ue,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(K=te=ue,V=ne):te=te.next=ue,E|=Z;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);if(te===null&&(V=ne),g.baseState=V,g.firstBaseUpdate=K,g.lastBaseUpdate=te,o=g.shared.interleaved,o!==null){g=o;do E|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Yi|=E,s.lanes=E,s.memoizedState=ne}}function j0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Ll={},Vr=Fs(Ll),Ol=Fs(Ll),Fl=Fs(Ll);function Gi(s){if(s===Ll)throw Error(t(174));return s}function Bf(s,o){switch(Ze(Fl,o),Ze(Ol,s),Ze(Vr,Ll),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pt(o,s)}nt(Vr),Ze(Vr,o)}function ha(){nt(Vr),nt(Ol),nt(Fl)}function D0(s){Gi(Fl.current);var o=Gi(Vr.current),c=Pt(o,s.type);o!==c&&(Ze(Ol,s),Ze(Vr,c))}function zf(s){Ol.current===s&&(nt(Vr),nt(Ol))}var lt=Fs(0);function $u(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $f=[];function Wf(){for(var s=0;s<$f.length;s++)$f[s]._workInProgressVersionPrimary=null;$f.length=0}var Wu=J.ReactCurrentDispatcher,qf=J.ReactCurrentBatchConfig,Qi=0,ct=null,jt=null,Lt=null,qu=!1,Ul=!1,Bl=0,HS=0;function Yt(){throw Error(t(321))}function Hf(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!dr(s[c],o[c]))return!1;return!0}function Kf(s,o,c,f,g,x){if(Qi=x,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Wu.current=s===null||s.memoizedState===null?YS:XS,s=c(f,g),Ul){x=0;do{if(Ul=!1,Bl=0,25<=x)throw Error(t(301));x+=1,Lt=jt=null,o.updateQueue=null,Wu.current=JS,s=c(f,g)}while(Ul)}if(Wu.current=Gu,o=jt!==null&&jt.next!==null,Qi=0,Lt=jt=ct=null,qu=!1,o)throw Error(t(300));return s}function Gf(){var s=Bl!==0;return Bl=0,s}function Mr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function qn(){if(jt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var o=Lt===null?ct.memoizedState:Lt.next;if(o!==null)Lt=o,jt=s;else{if(s===null)throw Error(t(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Lt===null?ct.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function zl(s,o){return typeof o=="function"?o(s):o}function Qf(s){var o=qn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=jt,g=f.baseQueue,x=c.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}f.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,f=f.baseState;var P=E=null,V=null,K=x;do{var te=K.lane;if((Qi&te)===te)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:s(f,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(P=V=ne,E=f):V=V.next=ne,ct.lanes|=te,Yi|=te}K=K.next}while(K!==null&&K!==x);V===null?E=f:V.next=P,dr(f,o.memoizedState)||(gn=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=V,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do x=g.lane,ct.lanes|=x,Yi|=x,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Yf(s){var o=qn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do x=s(x,E.action),E=E.next;while(E!==g);dr(x,o.memoizedState)||(gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function V0(){}function M0(s,o){var c=ct,f=qn(),g=o(),x=!dr(f.memoizedState,g);if(x&&(f.memoizedState=g,gn=!0),f=f.queue,Xf(F0.bind(null,c,f,s),[s]),f.getSnapshot!==o||x||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,$l(9,O0.bind(null,c,f,g,o),void 0,null),Ot===null)throw Error(t(349));(Qi&30)!==0||L0(c,o,g)}return g}function L0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function O0(s,o,c,f){o.value=c,o.getSnapshot=f,U0(o)&&B0(s)}function F0(s,o,c){return c(function(){U0(o)&&B0(s)})}function U0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!dr(s,c)}catch{return!0}}function B0(s){var o=as(s,1);o!==null&&yr(o,s,1,-1)}function z0(s){var o=Mr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:s},o.queue=s,s=s.dispatch=QS.bind(null,ct,s),[o.memoizedState,s]}function $l(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function $0(){return qn().memoizedState}function Hu(s,o,c,f){var g=Mr();ct.flags|=s,g.memoizedState=$l(1|o,c,void 0,f===void 0?null:f)}function Ku(s,o,c,f){var g=qn();f=f===void 0?null:f;var x=void 0;if(jt!==null){var E=jt.memoizedState;if(x=E.destroy,f!==null&&Hf(f,E.deps)){g.memoizedState=$l(o,c,x,f);return}}ct.flags|=s,g.memoizedState=$l(1|o,c,x,f)}function W0(s,o){return Hu(8390656,8,s,o)}function Xf(s,o){return Ku(2048,8,s,o)}function q0(s,o){return Ku(4,2,s,o)}function H0(s,o){return Ku(4,4,s,o)}function K0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function G0(s,o,c){return c=c!=null?c.concat([s]):null,Ku(4,4,K0.bind(null,o,s),c)}function Jf(){}function Q0(s,o){var c=qn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Hf(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function Y0(s,o){var c=qn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Hf(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function X0(s,o,c){return(Qi&21)===0?(s.baseState&&(s.baseState=!1,gn=!0),s.memoizedState=c):(dr(c,o)||(c=Oi(),ct.lanes|=c,Yi|=c,s.baseState=!0),o)}function KS(s,o){var c=Fe;Fe=c!==0&&4>c?c:4,s(!0);var f=qf.transition;qf.transition={};try{s(!1),o()}finally{Fe=c,qf.transition=f}}function J0(){return qn().memoizedState}function GS(s,o,c){var f=Ks(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Z0(s))ev(o,c);else if(c=N0(s,o,c,f),c!==null){var g=un();yr(c,s,f,g),tv(c,o,f)}}function QS(s,o,c){var f=Ks(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Z0(s))ev(o,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,P=x(E,c);if(g.hasEagerState=!0,g.eagerState=P,dr(P,E)){var V=o.interleaved;V===null?(g.next=g,Ff(o)):(g.next=V.next,V.next=g),o.interleaved=g;return}}catch{}finally{}c=N0(s,o,g,f),c!==null&&(g=un(),yr(c,s,f,g),tv(c,o,f))}}function Z0(s){var o=s.alternate;return s===ct||o!==null&&o===ct}function ev(s,o){Ul=qu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function tv(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Rs(s,c)}}var Gu={readContext:Wn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},YS={readContext:Wn,useCallback:function(s,o){return Mr().memoizedState=[s,o===void 0?null:o],s},useContext:Wn,useEffect:W0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Hu(4194308,4,K0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Hu(4,2,s,o)},useMemo:function(s,o){var c=Mr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=Mr();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=GS.bind(null,ct,s),[f.memoizedState,s]},useRef:function(s){var o=Mr();return s={current:s},o.memoizedState=s},useState:z0,useDebugValue:Jf,useDeferredValue:function(s){return Mr().memoizedState=s},useTransition:function(){var s=z0(!1),o=s[0];return s=KS.bind(null,s[1]),Mr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=ct,g=Mr();if(ot){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ot===null)throw Error(t(349));(Qi&30)!==0||L0(f,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,W0(F0.bind(null,f,x,s),[s]),f.flags|=2048,$l(9,O0.bind(null,f,x,c,o),void 0,null),c},useId:function(){var s=Mr(),o=Ot.identifierPrefix;if(ot){var c=os,f=is;c=(f&~(1<<32-an(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=Bl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=HS++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},XS={readContext:Wn,useCallback:Q0,useContext:Wn,useEffect:Xf,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:H0,useMemo:Y0,useReducer:Qf,useRef:$0,useState:function(){return Qf(zl)},useDebugValue:Jf,useDeferredValue:function(s){var o=qn();return X0(o,jt.memoizedState,s)},useTransition:function(){var s=Qf(zl)[0],o=qn().memoizedState;return[s,o]},useMutableSource:V0,useSyncExternalStore:M0,useId:J0,unstable_isNewReconciler:!1},JS={readContext:Wn,useCallback:Q0,useContext:Wn,useEffect:Xf,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:H0,useMemo:Y0,useReducer:Yf,useRef:$0,useState:function(){return Yf(zl)},useDebugValue:Jf,useDeferredValue:function(s){var o=qn();return jt===null?o.memoizedState=s:X0(o,jt.memoizedState,s)},useTransition:function(){var s=Yf(zl)[0],o=qn().memoizedState;return[s,o]},useMutableSource:V0,useSyncExternalStore:M0,useId:J0,unstable_isNewReconciler:!1};function pr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Zf(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:le({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Qu={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=un(),g=Ks(s),x=ls(f,g);x.payload=o,c!=null&&(x.callback=c),o=$s(s,x,g),o!==null&&(yr(o,s,g,f),Bu(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=un(),g=Ks(s),x=ls(f,g);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=$s(s,x,g),o!==null&&(yr(o,s,g,f),Bu(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=un(),f=Ks(s),g=ls(c,f);g.tag=2,o!=null&&(g.callback=o),o=$s(s,g,f),o!==null&&(yr(o,s,f,c),Bu(o,s,f))}};function nv(s,o,c,f,g,x,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,E):o.prototype&&o.prototype.isPureReactComponent?!Cl(c,f)||!Cl(g,x):!0}function rv(s,o,c){var f=!1,g=Us,x=o.contextType;return typeof x=="object"&&x!==null?x=Wn(x):(g=mn(o)?Wi:Qt.current,f=o.contextTypes,x=(f=f!=null)?sa(s,g):Us),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qu,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),o}function sv(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&Qu.enqueueReplaceState(o,o.state,null)}function ep(s,o,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Uf(s);var x=o.contextType;typeof x=="object"&&x!==null?g.context=Wn(x):(x=mn(o)?Wi:Qt.current,g.context=sa(s,x)),g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Zf(s,o,x,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Qu.enqueueReplaceState(g,g.state,null),zu(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function da(s,o){try{var c="",f=o;do c+=Ne(f),f=f.return;while(f);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:g,digest:null}}function tp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function np(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var ZS=typeof WeakMap=="function"?WeakMap:Map;function iv(s,o,c){c=ls(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){nh||(nh=!0,yp=f),np(s,o)},c}function ov(s,o,c){c=ls(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){np(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){np(s,o),typeof f!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function av(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new ZS;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),s=fI.bind(null,s,o,c),o.then(s,s))}function lv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function cv(s,o,c,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ls(-1,1),o.tag=2,$s(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var eI=J.ReactCurrentOwner,gn=!1;function cn(s,o,c,f){o.child=s===null?C0(o,null,c,f):la(o,s.child,c,f)}function uv(s,o,c,f,g){c=c.render;var x=o.ref;return ua(o,g),f=Kf(s,o,c,f,x,g),c=Gf(),s!==null&&!gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,cs(s,o,g)):(ot&&c&&Nf(o),o.flags|=1,cn(s,o,f,g),o.child)}function hv(s,o,c,f,g){if(s===null){var x=c.type;return typeof x=="function"&&!bp(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,dv(s,o,x,f,g)):(s=lh(c.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&g)===0){var E=x.memoizedProps;if(c=c.compare,c=c!==null?c:Cl,c(E,f)&&s.ref===o.ref)return cs(s,o,g)}return o.flags|=1,s=Qs(x,f),s.ref=o.ref,s.return=o,o.child=s}function dv(s,o,c,f,g){if(s!==null){var x=s.memoizedProps;if(Cl(x,f)&&s.ref===o.ref)if(gn=!1,o.pendingProps=f=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(gn=!0);else return o.lanes=s.lanes,cs(s,o,g)}return rp(s,o,c,f,g)}function fv(s,o,c){var f=o.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(pa,Pn),Pn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ze(pa,Pn),Pn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,Ze(pa,Pn),Pn|=f}else x!==null?(f=x.baseLanes|c,o.memoizedState=null):f=c,Ze(pa,Pn),Pn|=f;return cn(s,o,g,c),o.child}function pv(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function rp(s,o,c,f,g){var x=mn(c)?Wi:Qt.current;return x=sa(o,x),ua(o,g),c=Kf(s,o,c,f,x,g),f=Gf(),s!==null&&!gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,cs(s,o,g)):(ot&&f&&Nf(o),o.flags|=1,cn(s,o,c,g),o.child)}function mv(s,o,c,f,g){if(mn(c)){var x=!0;ju(o)}else x=!1;if(ua(o,g),o.stateNode===null)Xu(s,o),rv(o,c,f),ep(o,c,f,g),f=!0;else if(s===null){var E=o.stateNode,P=o.memoizedProps;E.props=P;var V=E.context,K=c.contextType;typeof K=="object"&&K!==null?K=Wn(K):(K=mn(c)?Wi:Qt.current,K=sa(o,K));var te=c.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==f||V!==K)&&sv(o,E,f,K),zs=!1;var Z=o.memoizedState;E.state=Z,zu(o,f,E,g),V=o.memoizedState,P!==f||Z!==V||pn.current||zs?(typeof te=="function"&&(Zf(o,c,te,f),V=o.memoizedState),(P=zs||nv(o,c,P,f,Z,V,K))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=V),E.props=f,E.state=V,E.context=K,f=P):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,P0(s,o),P=o.memoizedProps,K=o.type===o.elementType?P:pr(o.type,P),E.props=K,ne=o.pendingProps,Z=E.context,V=c.contextType,typeof V=="object"&&V!==null?V=Wn(V):(V=mn(c)?Wi:Qt.current,V=sa(o,V));var ue=c.getDerivedStateFromProps;(te=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==ne||Z!==V)&&sv(o,E,f,V),zs=!1,Z=o.memoizedState,E.state=Z,zu(o,f,E,g);var fe=o.memoizedState;P!==ne||Z!==fe||pn.current||zs?(typeof ue=="function"&&(Zf(o,c,ue,f),fe=o.memoizedState),(K=zs||nv(o,c,K,f,Z,fe,V)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,fe,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,fe,V)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=fe),E.props=f,E.state=fe,E.context=V,f=K):(typeof E.componentDidUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),f=!1)}return sp(s,o,c,f,x,g)}function sp(s,o,c,f,g,x){pv(s,o);var E=(o.flags&128)!==0;if(!f&&!E)return g&&w0(o,c,!1),cs(s,o,x);f=o.stateNode,eI.current=o;var P=E&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&E?(o.child=la(o,s.child,null,x),o.child=la(o,null,P,x)):cn(s,o,P,x),o.memoizedState=f.state,g&&w0(o,c,!0),o.child}function gv(s){var o=s.stateNode;o.pendingContext?v0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&v0(s,o.context,!1),Bf(s,o.containerInfo)}function yv(s,o,c,f,g){return aa(),Df(g),o.flags|=256,cn(s,o,c,f),o.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(s){return{baseLanes:s,cachePool:null,transitions:null}}function vv(s,o,c){var f=o.pendingProps,g=lt.current,x=!1,E=(o.flags&128)!==0,P;if((P=E)||(P=s!==null&&s.memoizedState===null?!1:(g&2)!==0),P?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ze(lt,g&1),s===null)return jf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=f.children,s=f.fallback,x?(f=o.mode,x=o.child,E={mode:"hidden",children:E},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=ch(E,f,0,null),s=eo(s,f,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=op(c),o.memoizedState=ip,s):ap(o,E));if(g=s.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return tI(s,o,E,f,P,g,c);if(x){x=f.fallback,E=o.mode,g=s.child,P=g.sibling;var V={mode:"hidden",children:f.children};return(E&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=V,o.deletions=null):(f=Qs(g,V),f.subtreeFlags=g.subtreeFlags&14680064),P!==null?x=Qs(P,x):(x=eo(x,E,c,null),x.flags|=2),x.return=o,f.return=o,f.sibling=x,o.child=f,f=x,x=o.child,E=s.child.memoizedState,E=E===null?op(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=s.childLanes&~c,o.memoizedState=ip,f}return x=s.child,s=x.sibling,f=Qs(x,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function ap(s,o){return o=ch({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Yu(s,o,c,f){return f!==null&&Df(f),la(o,s.child,null,c),s=ap(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function tI(s,o,c,f,g,x,E){if(c)return o.flags&256?(o.flags&=-257,f=tp(Error(t(422))),Yu(s,o,E,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=f.fallback,g=o.mode,f=ch({mode:"visible",children:f.children},g,0,null),x=eo(x,g,E,null),x.flags|=2,f.return=o,x.return=o,f.sibling=x,o.child=f,(o.mode&1)!==0&&la(o,s.child,null,E),o.child.memoizedState=op(E),o.memoizedState=ip,x);if((o.mode&1)===0)return Yu(s,o,E,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var P=f.dgst;return f=P,x=Error(t(419)),f=tp(x,f,void 0),Yu(s,o,E,f)}if(P=(E&s.childLanes)!==0,gn||P){if(f=Ot,f!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|E))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,as(s,g),yr(f,s,g,-1))}return Ep(),f=tp(Error(t(421))),Yu(s,o,E,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=pI.bind(null,s),g._reactRetry=o,null):(s=x.treeContext,Nn=Os(g.nextSibling),Cn=o,ot=!0,fr=null,s!==null&&(zn[$n++]=is,zn[$n++]=os,zn[$n++]=qi,is=s.id,os=s.overflow,qi=o),o=ap(o,f.children),o.flags|=4096,o)}function xv(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Of(s.return,o,c)}function lp(s,o,c,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=g)}function wv(s,o,c){var f=o.pendingProps,g=f.revealOrder,x=f.tail;if(cn(s,o,f.children,c),f=lt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xv(s,c,o);else if(s.tag===19)xv(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ze(lt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&$u(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),lp(o,!1,g,c,x);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&$u(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}lp(o,!0,c,null,x);break;case"together":lp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function cs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Yi|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=Qs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Qs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function nI(s,o,c){switch(o.tag){case 3:gv(o),aa();break;case 5:D0(o);break;case 1:mn(o.type)&&ju(o);break;case 4:Bf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Ze(Fu,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(lt,lt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?vv(s,o,c):(Ze(lt,lt.current&1),s=cs(s,o,c),s!==null?s.sibling:null);Ze(lt,lt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return wv(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(lt,lt.current),f)break;return null;case 22:case 23:return o.lanes=0,fv(s,o,c)}return cs(s,o,c)}var _v,cp,Tv,Ev;_v=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},cp=function(){},Tv=function(s,o,c,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,Gi(Vr.current);var x=null;switch(c){case"input":g=Ge(s,g),f=Ge(s,f),x=[];break;case"select":g=le({},g,{value:void 0}),f=le({},f,{value:void 0}),x=[];break;case"textarea":g=sl(s,g),f=sl(s,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Nu)}ul(c,f);var E;c=null;for(K in g)if(!f.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var P=g[K];for(E in P)P.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in f){var V=f[K];if(P=g!=null?g[K]:void 0,f.hasOwnProperty(K)&&V!==P&&(V!=null||P!=null))if(K==="style")if(P){for(E in P)!P.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in V)V.hasOwnProperty(E)&&P[E]!==V[E]&&(c||(c={}),c[E]=V[E])}else c||(x||(x=[]),x.push(K,c)),c=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(x=x||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(x=x||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&tt("scroll",s),x||P===V||(x=[])):(x=x||[]).push(K,V))}c&&(x=x||[]).push("style",c);var K=x;(o.updateQueue=K)&&(o.flags|=4)}},Ev=function(s,o,c,f){c!==f&&(o.flags|=4)};function Wl(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function rI(s,o,c){var f=o.pendingProps;switch(Pf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return mn(o.type)&&Ru(),Xt(o),null;case 3:return f=o.stateNode,ha(),nt(pn),nt(Qt),Wf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Lu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fr!==null&&(wp(fr),fr=null))),cp(s,o),Xt(o),null;case 5:zf(o);var g=Gi(Fl.current);if(c=o.type,s!==null&&o.stateNode!=null)Tv(s,o,c,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(s=Gi(Vr.current),Lu(o)){f=o.stateNode,c=o.type;var x=o.memoizedProps;switch(f[Dr]=o,f[Dl]=x,s=(o.mode&1)!==0,c){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(g=0;g<Pl.length;g++)tt(Pl[g],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":En(f,x),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},tt("invalid",f);break;case"textarea":Ao(f,x),tt("invalid",f)}ul(c,x),g=null;for(var E in x)if(x.hasOwnProperty(E)){var P=x[E];E==="children"?typeof P=="string"?f.textContent!==P&&(x.suppressHydrationWarning!==!0&&Cu(f.textContent,P,s),g=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(x.suppressHydrationWarning!==!0&&Cu(f.textContent,P,s),g=["children",""+P]):i.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&tt("scroll",f)}switch(c){case"input":tr(f),Qe(f,x,!0);break;case"textarea":tr(f),il(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Nu)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Nt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=E.createElement(c,{is:f.is}):(s=E.createElement(c),c==="select"&&(E=s,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):s=E.createElementNS(s,c),s[Dr]=o,s[Dl]=f,_v(s,o,!1,!1),o.stateNode=s;e:{switch(E=hl(c,f),c){case"dialog":tt("cancel",s),tt("close",s),g=f;break;case"iframe":case"object":case"embed":tt("load",s),g=f;break;case"video":case"audio":for(g=0;g<Pl.length;g++)tt(Pl[g],s);g=f;break;case"source":tt("error",s),g=f;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=f;break;case"details":tt("toggle",s),g=f;break;case"input":En(s,f),g=Ge(s,f),tt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=le({},f,{value:void 0}),tt("invalid",s);break;case"textarea":Ao(s,f),g=sl(s,f),tt("invalid",s);break;default:g=f}ul(c,g),P=g;for(x in P)if(P.hasOwnProperty(x)){var V=P[x];x==="style"?ll(s,V):x==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ol(s,V)):x==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&Is(s,V):typeof V=="number"&&Is(s,""+V):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?V!=null&&x==="onScroll"&&tt("scroll",s):V!=null&&H(s,x,V,E))}switch(c){case"input":tr(s),Qe(s,f,!1);break;case"textarea":tr(s),il(s);break;case"option":f.value!=null&&s.setAttribute("value",""+De(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?bn(s,!!f.multiple,x,!1):f.defaultValue!=null&&bn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Nu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(s&&o.stateNode!=null)Ev(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(c=Gi(Fl.current),Gi(Vr.current),Lu(o)){if(f=o.stateNode,c=o.memoizedProps,f[Dr]=o,(x=f.nodeValue!==c)&&(s=Cn,s!==null))switch(s.tag){case 3:Cu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Cu(f.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Dr]=o,o.stateNode=f}return Xt(o),null;case 13:if(nt(lt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)S0(),aa(),o.flags|=98560,x=!1;else if(x=Lu(o),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Dr]=o}else aa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),x=!1}else fr!==null&&(wp(fr),fr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(lt.current&1)!==0?Dt===0&&(Dt=3):Ep())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return ha(),cp(s,o),s===null&&Rl(o.stateNode.containerInfo),Xt(o),null;case 10:return Lf(o.type._context),Xt(o),null;case 17:return mn(o.type)&&Ru(),Xt(o),null;case 19:if(nt(lt),x=o.memoizedState,x===null)return Xt(o),null;if(f=(o.flags&128)!==0,E=x.rendering,E===null)if(f)Wl(x,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=$u(s),E!==null){for(o.flags|=128,Wl(x,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)x=c,s=f,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,s=E.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ze(lt,lt.current&1|2),o.child}s=s.sibling}x.tail!==null&&Je()>ma&&(o.flags|=128,f=!0,Wl(x,!1),o.lanes=4194304)}else{if(!f)if(s=$u(E),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Wl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!ot)return Xt(o),null}else 2*Je()-x.renderingStartTime>ma&&c!==1073741824&&(o.flags|=128,f=!0,Wl(x,!1),o.lanes=4194304);x.isBackwards?(E.sibling=o.child,o.child=E):(c=x.last,c!==null?c.sibling=E:o.child=E,x.last=E)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Je(),o.sibling=null,c=lt.current,Ze(lt,f?c&1|2:c&1),o):(Xt(o),null);case 22:case 23:return Tp(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Pn&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function sI(s,o){switch(Pf(o),o.tag){case 1:return mn(o.type)&&Ru(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ha(),nt(pn),nt(Qt),Wf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return zf(o),null;case 13:if(nt(lt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));aa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return nt(lt),null;case 4:return ha(),null;case 10:return Lf(o.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var Ju=!1,Jt=!1,iI=typeof WeakSet=="function"?WeakSet:Set,de=null;function fa(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){ft(s,o,f)}else c.current=null}function up(s,o,c){try{c()}catch(f){ft(s,o,f)}}var bv=!1;function oI(s,o){if(Tf=Vs,s=n0(),pf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var E=0,P=-1,V=-1,K=0,te=0,ne=s,Z=null;t:for(;;){for(var ue;ne!==c||g!==0&&ne.nodeType!==3||(P=E+g),ne!==x||f!==0&&ne.nodeType!==3||(V=E+f),ne.nodeType===3&&(E+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===s)break t;if(Z===c&&++K===g&&(P=E),Z===x&&++te===f&&(V=E),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}c=P===-1||V===-1?null:{start:P,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ef={focusedElem:s,selectionRange:c},Vs=!1,de=o;de!==null;)if(o=de,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,de=s;else for(;de!==null;){o=de;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,gt=fe.memoizedState,W=o.stateNode,O=W.getSnapshotBeforeUpdate(o.elementType===o.type?pe:pr(o.type,pe),gt);W.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ft(o,o.return,se)}if(s=o.sibling,s!==null){s.return=o.return,de=s;break}de=o.return}return fe=bv,bv=!1,fe}function ql(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&up(o,c,x)}g=g.next}while(g!==f)}}function Zu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function hp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function kv(s){var o=s.alternate;o!==null&&(s.alternate=null,kv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Dr],delete o[Dl],delete o[If],delete o[zS],delete o[$S])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Sv(s){return s.tag===5||s.tag===3||s.tag===4}function Iv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Nu));else if(f!==4&&(s=s.child,s!==null))for(dp(s,o,c),s=s.sibling;s!==null;)dp(s,o,c),s=s.sibling}function fp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(fp(s,o,c),s=s.sibling;s!==null;)fp(s,o,c),s=s.sibling}var $t=null,mr=!1;function Ws(s,o,c){for(c=c.child;c!==null;)Av(s,o,c),c=c.sibling}function Av(s,o,c){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Mi,c)}catch{}switch(c.tag){case 5:Jt||fa(c,o);case 6:var f=$t,g=mr;$t=null,Ws(s,o,c),$t=f,mr=g,$t!==null&&(mr?(s=$t,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):$t.removeChild(c.stateNode));break;case 18:$t!==null&&(mr?(s=$t,c=c.stateNode,s.nodeType===8?Sf(s.parentNode,c):s.nodeType===1&&Sf(s,c),ur(s)):Sf($t,c.stateNode));break;case 4:f=$t,g=mr,$t=c.stateNode.containerInfo,mr=!0,Ws(s,o,c),$t=f,mr=g;break;case 0:case 11:case 14:case 15:if(!Jt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&up(c,o,E),g=g.next}while(g!==f)}Ws(s,o,c);break;case 1:if(!Jt&&(fa(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(P){ft(c,o,P)}Ws(s,o,c);break;case 21:Ws(s,o,c);break;case 22:c.mode&1?(Jt=(f=Jt)||c.memoizedState!==null,Ws(s,o,c),Jt=f):Ws(s,o,c);break;default:Ws(s,o,c)}}function Cv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new iI),o.forEach(function(f){var g=mI.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function gr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var x=s,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 5:$t=P.stateNode,mr=!1;break e;case 3:$t=P.stateNode.containerInfo,mr=!0;break e;case 4:$t=P.stateNode.containerInfo,mr=!0;break e}P=P.return}if($t===null)throw Error(t(160));Av(x,E,g),$t=null,mr=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(K){ft(g,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Nv(o,s),o=o.sibling}function Nv(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(gr(o,s),Lr(s),f&4){try{ql(3,s,s.return),Zu(3,s)}catch(pe){ft(s,s.return,pe)}try{ql(5,s,s.return)}catch(pe){ft(s,s.return,pe)}}break;case 1:gr(o,s),Lr(s),f&512&&c!==null&&fa(c,c.return);break;case 5:if(gr(o,s),Lr(s),f&512&&c!==null&&fa(c,c.return),s.flags&32){var g=s.stateNode;try{Is(g,"")}catch(pe){ft(s,s.return,pe)}}if(f&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,E=c!==null?c.memoizedProps:x,P=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{P==="input"&&x.type==="radio"&&x.name!=null&&hn(g,x),hl(P,E);var K=hl(P,x);for(E=0;E<V.length;E+=2){var te=V[E],ne=V[E+1];te==="style"?ll(g,ne):te==="dangerouslySetInnerHTML"?ol(g,ne):te==="children"?Is(g,ne):H(g,te,ne,K)}switch(P){case"input":Sr(g,x);break;case"textarea":Co(g,x);break;case"select":var Z=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?bn(g,!!x.multiple,ue,!1):Z!==!!x.multiple&&(x.defaultValue!=null?bn(g,!!x.multiple,x.defaultValue,!0):bn(g,!!x.multiple,x.multiple?[]:"",!1))}g[Dl]=x}catch(pe){ft(s,s.return,pe)}}break;case 6:if(gr(o,s),Lr(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(pe){ft(s,s.return,pe)}}break;case 3:if(gr(o,s),Lr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{ur(o.containerInfo)}catch(pe){ft(s,s.return,pe)}break;case 4:gr(o,s),Lr(s);break;case 13:gr(o,s),Lr(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(gp=Je())),f&4&&Cv(s);break;case 22:if(te=c!==null&&c.memoizedState!==null,s.mode&1?(Jt=(K=Jt)||te,gr(o,s),Jt=K):gr(o,s),Lr(s),f&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!te&&(s.mode&1)!==0)for(de=s,te=s.child;te!==null;){for(ne=de=te;de!==null;){switch(Z=de,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:ql(4,Z,Z.return);break;case 1:fa(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){f=Z,c=Z.return;try{o=f,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){ft(f,c,pe)}}break;case 5:fa(Z,Z.return);break;case 22:if(Z.memoizedState!==null){jv(ne);continue}}ue!==null?(ue.return=Z,de=ue):jv(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{g=ne.stateNode,K?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(P=ne.stateNode,V=ne.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=al("display",E))}catch(pe){ft(s,s.return,pe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(pe){ft(s,s.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:gr(o,s),Lr(s),f&4&&Cv(s);break;case 21:break;default:gr(o,s),Lr(s)}}function Lr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Sv(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Is(g,""),f.flags&=-33);var x=Iv(s);fp(s,x,g);break;case 3:case 4:var E=f.stateNode.containerInfo,P=Iv(s);dp(s,P,E);break;default:throw Error(t(161))}}catch(V){ft(s,s.return,V)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function aI(s,o,c){de=s,Pv(s)}function Pv(s,o,c){for(var f=(s.mode&1)!==0;de!==null;){var g=de,x=g.child;if(g.tag===22&&f){var E=g.memoizedState!==null||Ju;if(!E){var P=g.alternate,V=P!==null&&P.memoizedState!==null||Jt;P=Ju;var K=Jt;if(Ju=E,(Jt=V)&&!K)for(de=g;de!==null;)E=de,V=E.child,E.tag===22&&E.memoizedState!==null?Dv(g):V!==null?(V.return=E,de=V):Dv(g);for(;x!==null;)de=x,Pv(x),x=x.sibling;de=g,Ju=P,Jt=K}Rv(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,de=x):Rv(s)}}function Rv(s){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||Zu(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Jt)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:pr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&j0(o,x,f);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}j0(o,E,c)}break;case 5:var P=o.stateNode;if(c===null&&o.flags&4){c=P;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&ur(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||o.flags&512&&hp(o)}catch(Z){ft(o,o.return,Z)}}if(o===s){de=null;break}if(c=o.sibling,c!==null){c.return=o.return,de=c;break}de=o.return}}function jv(s){for(;de!==null;){var o=de;if(o===s){de=null;break}var c=o.sibling;if(c!==null){c.return=o.return,de=c;break}de=o.return}}function Dv(s){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Zu(4,o)}catch(V){ft(o,c,V)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(V){ft(o,g,V)}}var x=o.return;try{hp(o)}catch(V){ft(o,x,V)}break;case 5:var E=o.return;try{hp(o)}catch(V){ft(o,E,V)}}}catch(V){ft(o,o.return,V)}if(o===s){de=null;break}var P=o.sibling;if(P!==null){P.return=o.return,de=P;break}de=o.return}}var lI=Math.ceil,eh=J.ReactCurrentDispatcher,pp=J.ReactCurrentOwner,Hn=J.ReactCurrentBatchConfig,ze=0,Ot=null,Et=null,Wt=0,Pn=0,pa=Fs(0),Dt=0,Hl=null,Yi=0,th=0,mp=0,Kl=null,yn=null,gp=0,ma=1/0,us=null,nh=!1,yp=null,qs=null,rh=!1,Hs=null,sh=0,Gl=0,vp=null,ih=-1,oh=0;function un(){return(ze&6)!==0?Je():ih!==-1?ih:ih=Je()}function Ks(s){return(s.mode&1)===0?1:(ze&2)!==0&&Wt!==0?Wt&-Wt:qS.transition!==null?(oh===0&&(oh=Oi()),oh):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:Tl(s.type)),s)}function yr(s,o,c,f){if(50<Gl)throw Gl=0,vp=null,Error(t(185));Ps(s,c,f),((ze&2)===0||s!==Ot)&&(s===Ot&&((ze&2)===0&&(th|=c),Dt===4&&Gs(s,Wt)),vn(s,f),c===1&&ze===0&&(o.mode&1)===0&&(ma=Je()+500,Du&&Bs()))}function vn(s,o){var c=s.callbackNode;Jr(s,o);var f=Li(s,s===Ot?Wt:0);if(f===0)c!==null&&yl(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&yl(c),o===1)s.tag===0?WS(Mv.bind(null,s)):_0(Mv.bind(null,s)),US(function(){(ze&6)===0&&Bs()}),c=null;else{switch(js(f)){case 1:c=Vi;break;case 4:c=As;break;case 16:c=Fn;break;case 536870912:c=ou;break;default:c=Fn}c=Wv(c,Vv.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Vv(s,o){if(ih=-1,oh=0,(ze&6)!==0)throw Error(t(327));var c=s.callbackNode;if(ga()&&s.callbackNode!==c)return null;var f=Li(s,s===Ot?Wt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=ah(s,f);else{o=f;var g=ze;ze|=2;var x=Ov();(Ot!==s||Wt!==o)&&(us=null,ma=Je()+500,Ji(s,o));do try{hI();break}catch(P){Lv(s,P)}while(!0);Mf(),eh.current=x,ze=g,Et!==null?o=0:(Ot=null,Wt=0,o=Dt)}if(o!==0){if(o===2&&(g=Sn(s),g!==0&&(f=g,o=xp(s,g))),o===1)throw c=Hl,Ji(s,0),Gs(s,f),vn(s,Je()),c;if(o===6)Gs(s,f);else{if(g=s.current.alternate,(f&30)===0&&!cI(g)&&(o=ah(s,f),o===2&&(x=Sn(s),x!==0&&(f=x,o=xp(s,x))),o===1))throw c=Hl,Ji(s,0),Gs(s,f),vn(s,Je()),c;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Zi(s,yn,us);break;case 3:if(Gs(s,f),(f&130023424)===f&&(o=gp+500-Je(),10<o)){if(Li(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){un(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=kf(Zi.bind(null,s,yn,us),o);break}Zi(s,yn,us);break;case 4:if(Gs(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var E=31-an(f);x=1<<E,E=o[E],E>g&&(g=E),f&=~x}if(f=g,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*lI(f/1960))-f,10<f){s.timeoutHandle=kf(Zi.bind(null,s,yn,us),f);break}Zi(s,yn,us);break;case 5:Zi(s,yn,us);break;default:throw Error(t(329))}}}return vn(s,Je()),s.callbackNode===c?Vv.bind(null,s):null}function xp(s,o){var c=Kl;return s.current.memoizedState.isDehydrated&&(Ji(s,o).flags|=256),s=ah(s,o),s!==2&&(o=yn,yn=c,o!==null&&wp(o)),s}function wp(s){yn===null?yn=s:yn.push.apply(yn,s)}function cI(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],x=g.getSnapshot;g=g.value;try{if(!dr(x(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gs(s,o){for(o&=~mp,o&=~th,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-an(o),f=1<<c;s[c]=-1,o&=~f}}function Mv(s){if((ze&6)!==0)throw Error(t(327));ga();var o=Li(s,0);if((o&1)===0)return vn(s,Je()),null;var c=ah(s,o);if(s.tag!==0&&c===2){var f=Sn(s);f!==0&&(o=f,c=xp(s,f))}if(c===1)throw c=Hl,Ji(s,0),Gs(s,o),vn(s,Je()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Zi(s,yn,us),vn(s,Je()),null}function _p(s,o){var c=ze;ze|=1;try{return s(o)}finally{ze=c,ze===0&&(ma=Je()+500,Du&&Bs())}}function Xi(s){Hs!==null&&Hs.tag===0&&(ze&6)===0&&ga();var o=ze;ze|=1;var c=Hn.transition,f=Fe;try{if(Hn.transition=null,Fe=1,s)return s()}finally{Fe=f,Hn.transition=c,ze=o,(ze&6)===0&&Bs()}}function Tp(){Pn=pa.current,nt(pa)}function Ji(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,FS(c)),Et!==null)for(c=Et.return;c!==null;){var f=c;switch(Pf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ru();break;case 3:ha(),nt(pn),nt(Qt),Wf();break;case 5:zf(f);break;case 4:ha();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:Lf(f.type._context);break;case 22:case 23:Tp()}c=c.return}if(Ot=s,Et=s=Qs(s.current,null),Wt=Pn=o,Dt=0,Hl=null,mp=th=Yi=0,yn=Kl=null,Ki!==null){for(o=0;o<Ki.length;o++)if(c=Ki[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,x=c.pending;if(x!==null){var E=x.next;x.next=g,f.next=E}c.pending=f}Ki=null}return s}function Lv(s,o){do{var c=Et;try{if(Mf(),Wu.current=Gu,qu){for(var f=ct.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}qu=!1}if(Qi=0,Lt=jt=ct=null,Ul=!1,Bl=0,pp.current=null,c===null||c.return===null){Dt=1,Hl=o,Et=null;break}e:{var x=s,E=c.return,P=c,V=o;if(o=Wt,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,te=P,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=lv(E);if(ue!==null){ue.flags&=-257,cv(ue,E,P,x,o),ue.mode&1&&av(x,K,o),o=ue,V=K;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(V),o.updateQueue=pe}else fe.add(V);break e}else{if((o&1)===0){av(x,K,o),Ep();break e}V=Error(t(426))}}else if(ot&&P.mode&1){var gt=lv(E);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),cv(gt,E,P,x,o),Df(da(V,P));break e}}x=V=da(V,P),Dt!==4&&(Dt=2),Kl===null?Kl=[x]:Kl.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var W=iv(x,V,o);R0(x,W);break e;case 1:P=V;var O=x.type,q=x.stateNode;if((x.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(qs===null||!qs.has(q)))){x.flags|=65536,o&=-o,x.lanes|=o;var se=ov(x,P,o);R0(x,se);break e}}x=x.return}while(x!==null)}Uv(c)}catch(me){o=me,Et===c&&c!==null&&(Et=c=c.return);continue}break}while(!0)}function Ov(){var s=eh.current;return eh.current=Gu,s===null?Gu:s}function Ep(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ot===null||(Yi&268435455)===0&&(th&268435455)===0||Gs(Ot,Wt)}function ah(s,o){var c=ze;ze|=2;var f=Ov();(Ot!==s||Wt!==o)&&(us=null,Ji(s,o));do try{uI();break}catch(g){Lv(s,g)}while(!0);if(Mf(),ze=c,eh.current=f,Et!==null)throw Error(t(261));return Ot=null,Wt=0,Dt}function uI(){for(;Et!==null;)Fv(Et)}function hI(){for(;Et!==null&&!su();)Fv(Et)}function Fv(s){var o=$v(s.alternate,s,Pn);s.memoizedProps=s.pendingProps,o===null?Uv(s):Et=o,pp.current=null}function Uv(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=rI(c,o,Pn),c!==null){Et=c;return}}else{if(c=sI(c,o),c!==null){c.flags&=32767,Et=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,Et=null;return}}if(o=o.sibling,o!==null){Et=o;return}Et=o=s}while(o!==null);Dt===0&&(Dt=5)}function Zi(s,o,c){var f=Fe,g=Hn.transition;try{Hn.transition=null,Fe=1,dI(s,o,c,f)}finally{Hn.transition=g,Fe=f}return null}function dI(s,o,c,f){do ga();while(Hs!==null);if((ze&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Ye(s,x),s===Ot&&(Et=Ot=null,Wt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||rh||(rh=!0,Wv(Fn,function(){return ga(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Hn.transition,Hn.transition=null;var E=Fe;Fe=1;var P=ze;ze|=4,pp.current=null,oI(s,c),Nv(c,s),RS(Ef),Vs=!!Tf,Ef=Tf=null,s.current=c,aI(c),of(),ze=P,Fe=E,Hn.transition=x}else s.current=c;if(rh&&(rh=!1,Hs=s,sh=g),x=s.pendingLanes,x===0&&(qs=null),au(c.stateNode),vn(s,Je()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(nh)throw nh=!1,s=yp,yp=null,s;return(sh&1)!==0&&s.tag!==0&&ga(),x=s.pendingLanes,(x&1)!==0?s===vp?Gl++:(Gl=0,vp=s):Gl=0,Bs(),null}function ga(){if(Hs!==null){var s=js(sh),o=Hn.transition,c=Fe;try{if(Hn.transition=null,Fe=16>s?16:s,Hs===null)var f=!1;else{if(s=Hs,Hs=null,sh=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,de=s.current;de!==null;){var x=de,E=x.child;if((de.flags&16)!==0){var P=x.deletions;if(P!==null){for(var V=0;V<P.length;V++){var K=P[V];for(de=K;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:ql(8,te,x)}var ne=te.child;if(ne!==null)ne.return=te,de=ne;else for(;de!==null;){te=de;var Z=te.sibling,ue=te.return;if(kv(te),te===K){de=null;break}if(Z!==null){Z.return=ue,de=Z;break}de=ue}}}var fe=x.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var gt=pe.sibling;pe.sibling=null,pe=gt}while(pe!==null)}}de=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,de=E;else e:for(;de!==null;){if(x=de,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ql(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,de=W;break e}de=x.return}}var O=s.current;for(de=O;de!==null;){E=de;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,de=q;else e:for(E=O;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Zu(9,P)}}catch(me){ft(P,P.return,me)}if(P===E){de=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,de=se;break e}de=P.return}}if(ze=g,Bs(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Mi,s)}catch{}f=!0}return f}finally{Fe=c,Hn.transition=o}}return!1}function Bv(s,o,c){o=da(c,o),o=iv(s,o,1),s=$s(s,o,1),o=un(),s!==null&&(Ps(s,1,o),vn(s,o))}function ft(s,o,c){if(s.tag===3)Bv(s,s,c);else for(;o!==null;){if(o.tag===3){Bv(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))){s=da(c,s),s=ov(o,s,1),o=$s(o,s,1),s=un(),o!==null&&(Ps(o,1,s),vn(o,s));break}}o=o.return}}function fI(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=un(),s.pingedLanes|=s.suspendedLanes&c,Ot===s&&(Wt&c)===c&&(Dt===4||Dt===3&&(Wt&130023424)===Wt&&500>Je()-gp?Ji(s,0):mp|=c),vn(s,o)}function zv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var c=un();s=as(s,o),s!==null&&(Ps(s,o,c),vn(s,c))}function pI(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),zv(s,c)}function mI(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),zv(s,c)}var $v;$v=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||pn.current)gn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return gn=!1,nI(s,o,c);gn=(s.flags&131072)!==0}else gn=!1,ot&&(o.flags&1048576)!==0&&T0(o,Mu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Xu(s,o),s=o.pendingProps;var g=sa(o,Qt.current);ua(o,c),g=Kf(null,o,f,s,g,c);var x=Gf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mn(f)?(x=!0,ju(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Uf(o),g.updater=Qu,o.stateNode=g,g._reactInternals=o,ep(o,f,s,c),o=sp(null,o,f,!0,x,c)):(o.tag=0,ot&&x&&Nf(o),cn(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(Xu(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=yI(f),s=pr(f,s),g){case 0:o=rp(null,o,f,s,c);break e;case 1:o=mv(null,o,f,s,c);break e;case 11:o=uv(null,o,f,s,c);break e;case 14:o=hv(null,o,f,pr(f.type,s),c);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),rp(s,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),mv(s,o,f,g,c);case 3:e:{if(gv(o),s===null)throw Error(t(387));f=o.pendingProps,x=o.memoizedState,g=x.element,P0(s,o),zu(o,f,null,c);var E=o.memoizedState;if(f=E.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=da(Error(t(423)),o),o=yv(s,o,f,c,g);break e}else if(f!==g){g=da(Error(t(424)),o),o=yv(s,o,f,c,g);break e}else for(Nn=Os(o.stateNode.containerInfo.firstChild),Cn=o,ot=!0,fr=null,c=C0(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(aa(),f===g){o=cs(s,o,c);break e}cn(s,o,f,c)}o=o.child}return o;case 5:return D0(o),s===null&&jf(o),f=o.type,g=o.pendingProps,x=s!==null?s.memoizedProps:null,E=g.children,bf(f,g)?E=null:x!==null&&bf(f,x)&&(o.flags|=32),pv(s,o),cn(s,o,E,c),o.child;case 6:return s===null&&jf(o),null;case 13:return vv(s,o,c);case 4:return Bf(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=la(o,null,f,c):cn(s,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),uv(s,o,f,g,c);case 7:return cn(s,o,o.pendingProps,c),o.child;case 8:return cn(s,o,o.pendingProps.children,c),o.child;case 12:return cn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,x=o.memoizedProps,E=g.value,Ze(Fu,f._currentValue),f._currentValue=E,x!==null)if(dr(x.value,E)){if(x.children===g.children&&!pn.current){o=cs(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var P=x.dependencies;if(P!==null){E=x.child;for(var V=P.firstContext;V!==null;){if(V.context===f){if(x.tag===1){V=ls(-1,c&-c),V.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?V.next=V:(V.next=te.next,te.next=V),K.pending=V}}x.lanes|=c,V=x.alternate,V!==null&&(V.lanes|=c),Of(x.return,c,o),P.lanes|=c;break}V=V.next}}else if(x.tag===10)E=x.type===o.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(t(341));E.lanes|=c,P=E.alternate,P!==null&&(P.lanes|=c),Of(E,c,o),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===o){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}cn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,ua(o,c),g=Wn(g),f=f(g),o.flags|=1,cn(s,o,f,c),o.child;case 14:return f=o.type,g=pr(f,o.pendingProps),g=pr(f.type,g),hv(s,o,f,g,c);case 15:return dv(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),Xu(s,o),o.tag=1,mn(f)?(s=!0,ju(o)):s=!1,ua(o,c),rv(o,f,g),ep(o,f,g,c),sp(null,o,f,!0,s,c);case 19:return wv(s,o,c);case 22:return fv(s,o,c)}throw Error(t(156,o.tag))};function Wv(s,o){return Lo(s,o)}function gI(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(s,o,c,f){return new gI(s,o,c,f)}function bp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yI(s){if(typeof s=="function")return bp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===At)return 14}return 2}function Qs(s,o){var c=s.alternate;return c===null?(c=Kn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function lh(s,o,c,f,g,x){var E=2;if(f=s,typeof s=="function")bp(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case D:return eo(c.children,g,x,o);case A:E=8,g|=8;break;case N:return s=Kn(12,c,o,g|2),s.elementType=N,s.lanes=x,s;case j:return s=Kn(13,c,o,g),s.elementType=j,s.lanes=x,s;case Xe:return s=Kn(19,c,o,g),s.elementType=Xe,s.lanes=x,s;case ke:return ch(c,g,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:E=10;break e;case F:E=9;break e;case z:E=11;break e;case At:E=14;break e;case Ct:E=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Kn(E,c,o,g),o.elementType=s,o.type=f,o.lanes=x,o}function eo(s,o,c,f){return s=Kn(7,s,f,o),s.lanes=c,s}function ch(s,o,c,f){return s=Kn(22,s,f,o),s.elementType=ke,s.lanes=c,s.stateNode={isHidden:!1},s}function kp(s,o,c){return s=Kn(6,s,null,o),s.lanes=c,s}function Sp(s,o,c){return o=Kn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function vI(s,o,c,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ns(0),this.expirationTimes=Ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ip(s,o,c,f,g,x,E,P,V){return s=new vI(s,o,c,P,V),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Kn(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(x),s}function xI(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function qv(s){if(!s)return Us;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(mn(c))return x0(s,c,o)}return o}function Hv(s,o,c,f,g,x,E,P,V){return s=Ip(c,f,!0,s,g,x,E,P,V),s.context=qv(null),c=s.current,f=un(),g=Ks(c),x=ls(f,g),x.callback=o??null,$s(c,x,g),s.current.lanes=g,Ps(s,g,f),vn(s,f),s}function uh(s,o,c,f){var g=o.current,x=un(),E=Ks(g);return c=qv(c),o.context===null?o.context=c:o.pendingContext=c,o=ls(x,E),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=$s(g,o,E),s!==null&&(yr(s,g,E,x),Bu(s,g,E)),E}function hh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Kv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Ap(s,o){Kv(s,o),(s=s.alternate)&&Kv(s,o)}function wI(){return null}var Gv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cp(s){this._internalRoot=s}dh.prototype.render=Cp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));uh(s,o,null,null)},dh.prototype.unmount=Cp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Xi(function(){uh(null,s,null,null)}),o[rs]=null}};function dh(s){this._internalRoot=s}dh.prototype.unstable_scheduleHydration=function(s){if(s){var o=du();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Nr.length&&o!==0&&o<Nr[c].priority;c++);Nr.splice(c,0,s),c===0&&mu(s)}};function Np(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function _I(s,o,c,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var K=hh(E);x.call(K)}}var E=Hv(o,f,s,0,null,!1,!1,"",Qv);return s._reactRootContainer=E,s[rs]=E.current,Rl(s.nodeType===8?s.parentNode:s),Xi(),E}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var P=f;f=function(){var K=hh(V);P.call(K)}}var V=Ip(s,0,!1,null,null,!1,!1,"",Qv);return s._reactRootContainer=V,s[rs]=V.current,Rl(s.nodeType===8?s.parentNode:s),Xi(function(){uh(o,V,c,f)}),V}function ph(s,o,c,f,g){var x=c._reactRootContainer;if(x){var E=x;if(typeof g=="function"){var P=g;g=function(){var V=hh(E);P.call(V)}}uh(o,E,s,g)}else E=_I(c,o,s,g,f);return hh(E)}uu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Cs(o.pendingLanes);c!==0&&(Rs(o,c|1),vn(o,Je()),(ze&6)===0&&(ma=Je()+500,Bs()))}break;case 13:Xi(function(){var f=as(s,1);if(f!==null){var g=un();yr(f,s,1,g)}}),Ap(s,1)}},Uo=function(s){if(s.tag===13){var o=as(s,134217728);if(o!==null){var c=un();yr(o,s,134217728,c)}Ap(s,134217728)}},hu=function(s){if(s.tag===13){var o=Ks(s),c=as(s,o);if(c!==null){var f=un();yr(c,s,o,f)}Ap(s,o)}},du=function(){return Fe},fu=function(s,o){var c=Fe;try{return Fe=s,o()}finally{Fe=c}},Po=function(s,o,c){switch(o){case"input":if(Sr(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var g=Pu(f);if(!g)throw Error(t(90));nr(f),Sr(f,g)}}}break;case"textarea":Co(s,c);break;case"select":o=c.value,o!=null&&bn(s,!!c.multiple,o,!1)}},Pi=_p,fl=Xi;var TI={usingClientEntryPoint:!1,Events:[Vl,na,Pu,Ar,dl,_p]},Ql={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EI={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=gl(s),s===null?null:s.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||wI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Mi=mh.inject(EI),kn=mh}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TI,xn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Np(o))throw Error(t(200));return xI(s,o,null,c)},xn.createRoot=function(s,o){if(!Np(s))throw Error(t(299));var c=!1,f="",g=Gv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Ip(s,1,!1,null,null,c,!1,f,g),s[rs]=o.current,Rl(s.nodeType===8?s.parentNode:s),new Cp(o)},xn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=gl(o),s=s===null?null:s.stateNode,s},xn.flushSync=function(s){return Xi(s)},xn.hydrate=function(s,o,c){if(!fh(o))throw Error(t(200));return ph(null,s,o,!0,c)},xn.hydrateRoot=function(s,o,c){if(!Np(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,x="",E=Gv;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=Hv(o,null,s,1,c??null,g,!1,x,E),s[rs]=o.current,Rl(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new dh(o)},xn.render=function(s,o,c){if(!fh(o))throw Error(t(200));return ph(null,s,o,!1,c)},xn.unmountComponentAtNode=function(s){if(!fh(s))throw Error(t(40));return s._reactRootContainer?(Xi(function(){ph(null,null,s,!1,function(){s._reactRootContainer=null,s[rs]=null})}),!0):!1},xn.unstable_batchedUpdates=_p,xn.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!fh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ph(s,o,c,!1,f)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var ax;function I1(){if(ax)return jp.exports;ax=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=OI(),jp.exports}var lx;function FI(){if(lx)return gh;lx=1;var n=I1();return gh.createRoot=n.createRoot,gh.hydrateRoot=n.hydrateRoot,gh}var UI=FI();I1();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wc.apply(this,arguments)}var si;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(si||(si={}));const cx="popstate";function BI(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return dm("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$h(i)}return $I(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function A1(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zI(){return Math.random().toString(36).substr(2,8)}function ux(n,e){return{usr:n.state,key:n.key,idx:e}}function dm(n,e,t,r){return t===void 0&&(t=null),wc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ha(e):e,{state:t,key:e&&e.key||r||zI()})}function $h(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function $I(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=si.Pop,p=null,m=y();m==null&&(m=0,l.replaceState(wc({},l.state,{idx:m}),""));function y(){return(l.state||{idx:null}).idx}function w(){u=si.Pop;let I=y(),L=I==null?null:I-m;m=I,p&&p({action:u,location:k.location,delta:L})}function T(I,L){u=si.Push;let U=dm(k.location,I,L);m=y()+1;let H=ux(U,m),J=k.createHref(U);try{l.pushState(H,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(J)}a&&p&&p({action:u,location:k.location,delta:1})}function b(I,L){u=si.Replace;let U=dm(k.location,I,L);m=y();let H=ux(U,m),J=k.createHref(U);l.replaceState(H,"",J),a&&p&&p({action:u,location:k.location,delta:0})}function C(I){let L=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof I=="string"?I:$h(I);return U=U.replace(/ $/,"%20"),It(L,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,L)}let k={get action(){return u},get location(){return n(i,l)},listen(I){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(cx,w),p=I,()=>{i.removeEventListener(cx,w),p=null}},createHref(I){return e(i,I)},createURL:C,encodeLocation(I){let L=C(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:b,go(I){return l.go(I)}};return k}var hx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(hx||(hx={}));function WI(n,e,t){return t===void 0&&(t="/"),qI(n,e,t)}function qI(n,e,t,r){let i=typeof e=="string"?Ha(e):e,a=ig(i.pathname||"/",t);if(a==null)return null;let l=C1(n);HI(l);let u=null;for(let p=0;u==null&&p<l.length;++p){let m=sA(a);u=tA(l[p],m)}return u}function C1(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,u)=>{let p={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};p.relativePath.startsWith("/")&&(It(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=ai([r,p.relativePath]),y=t.concat(p);a.children&&a.children.length>0&&(It(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),C1(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:ZI(m,a.index),routesMeta:y})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let p of N1(a.path))i(a,l,p)}),e}function N1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=N1(r.join("/")),u=[];return u.push(...l.map(p=>p===""?a:[a,p].join("/"))),i&&u.push(...l),u.map(p=>n.startsWith("/")&&p===""?"/":p)}function HI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:eA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const KI=/^:[\w-]+$/,GI=3,QI=2,YI=1,XI=10,JI=-2,dx=n=>n==="*";function ZI(n,e){let t=n.split("/"),r=t.length;return t.some(dx)&&(r+=JI),e&&(r+=QI),t.filter(i=>!dx(i)).reduce((i,a)=>i+(KI.test(a)?GI:a===""?YI:XI),r)}function eA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function tA(n,e,t){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let p=r[u],m=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=nA({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),T=p.route;if(!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:ai([a,w.pathname]),pathnameBase:lA(ai([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=ai([a,w.pathnameBase]))}return l}function nA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rA(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,y,w)=>{let{paramName:T,isOptional:b}=y;if(T==="*"){let k=u[w]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const C=u[w];return b&&!C?m[T]=void 0:m[T]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function rA(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),A1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,p)=>(r.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ig(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function iA(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ha(n):n;return{pathname:t?t.startsWith("/")?t:oA(t,e):e,search:cA(r),hash:uA(i)}}function oA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Mp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P1(n,e){let t=aA(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function R1(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ha(n):(i=wc({},n),It(!i.pathname||!i.pathname.includes("?"),Mp("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Mp("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Mp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),w-=1;i.pathname=T.join("/")}u=w>=0?e[w]:"/"}let p=iA(i,u),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}const ai=n=>n.join("/").replace(/\/\/+/g,"/"),lA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const j1=["post","put","patch","delete"];new Set(j1);const dA=["get",...j1];new Set(dA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_c.apply(this,arguments)}const og=R.createContext(null),fA=R.createContext(null),wo=R.createContext(null),bd=R.createContext(null),_o=R.createContext({outlet:null,matches:[],isDataRoute:!1}),D1=R.createContext(null);function pA(n,e){let{relative:t}=e===void 0?{}:e;Lc()||It(!1);let{basename:r,navigator:i}=R.useContext(wo),{hash:a,pathname:l,search:u}=L1(n,{relative:t}),p=l;return r!=="/"&&(p=l==="/"?r:ai([r,l])),i.createHref({pathname:p,search:u,hash:a})}function Lc(){return R.useContext(bd)!=null}function Oc(){return Lc()||It(!1),R.useContext(bd).location}function V1(n){R.useContext(wo).static||R.useLayoutEffect(n)}function M1(){let{isDataRoute:n}=R.useContext(_o);return n?IA():mA()}function mA(){Lc()||It(!1);let n=R.useContext(og),{basename:e,future:t,navigator:r}=R.useContext(wo),{matches:i}=R.useContext(_o),{pathname:a}=Oc(),l=JSON.stringify(P1(i,t.v7_relativeSplatPath)),u=R.useRef(!1);return V1(()=>{u.current=!0}),R.useCallback(function(m,y){if(y===void 0&&(y={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let w=R1(m,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ai([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,l,a,n])}function L1(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=R.useContext(wo),{matches:i}=R.useContext(_o),{pathname:a}=Oc(),l=JSON.stringify(P1(i,r.v7_relativeSplatPath));return R.useMemo(()=>R1(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function gA(n,e){return yA(n,e)}function yA(n,e,t,r){Lc()||It(!1);let{navigator:i,static:a}=R.useContext(wo),{matches:l}=R.useContext(_o),u=l[l.length-1],p=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let y=Oc(),w;if(e){var T;let L=typeof e=="string"?Ha(e):e;m==="/"||(T=L.pathname)!=null&&T.startsWith(m)||It(!1),w=L}else w=y;let b=w.pathname||"/",C=b;if(m!=="/"){let L=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=WI(n,{pathname:C}),I=TA(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:ai([m,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:ai([m,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,r);return e&&I?R.createElement(bd.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:si.Pop}},I):I}function vA(){let n=SA(),e=hA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,null)}const xA=R.createElement(vA,null);class wA extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(_o.Provider,{value:this.props.routeContext},R.createElement(D1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _A(n){let{routeContext:e,match:t,children:r}=n,i=R.useContext(og);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(_o.Provider,{value:e},r)}function TA(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let y=l.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);y>=0||It(!1),l=l.slice(0,Math.min(l.length,y+1))}let p=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:T,errors:b}=t,C=w.route.loader&&T[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||C){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,w,T)=>{let b,C=!1,k=null,I=null;t&&(b=u&&w.route.id?u[w.route.id]:void 0,k=w.route.errorElement||xA,p&&(m<0&&T===0?(AA("route-fallback"),C=!0,I=null):m===T&&(C=!0,I=w.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,T+1)),U=()=>{let H;return b?H=k:C?H=I:w.route.Component?H=R.createElement(w.route.Component,null):w.route.element?H=w.route.element:H=y,R.createElement(_A,{match:w,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:H})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?R.createElement(wA,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):U()},null)}var O1=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(O1||{}),F1=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(F1||{});function EA(n){let e=R.useContext(og);return e||It(!1),e}function bA(n){let e=R.useContext(fA);return e||It(!1),e}function kA(n){let e=R.useContext(_o);return e||It(!1),e}function U1(n){let e=kA(),t=e.matches[e.matches.length-1];return t.route.id||It(!1),t.route.id}function SA(){var n;let e=R.useContext(D1),t=bA(),r=U1();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function IA(){let{router:n}=EA(O1.UseNavigateStable),e=U1(F1.UseNavigateStable),t=R.useRef(!1);return V1(()=>{t.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,_c({fromRouteId:e},a)))},[n,e])}const fx={};function AA(n,e,t){fx[n]||(fx[n]=!0)}function CA(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Js(n){It(!1)}function NA(n){let{basename:e="/",children:t=null,location:r,navigationType:i=si.Pop,navigator:a,static:l=!1,future:u}=n;Lc()&&It(!1);let p=e.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:p,navigator:a,static:l,future:_c({v7_relativeSplatPath:!1},u)}),[p,u,a,l]);typeof r=="string"&&(r=Ha(r));let{pathname:y="/",search:w="",hash:T="",state:b=null,key:C="default"}=r,k=R.useMemo(()=>{let I=ig(y,p);return I==null?null:{location:{pathname:I,search:w,hash:T,state:b,key:C},navigationType:i}},[p,y,w,T,b,C,i]);return k==null?null:R.createElement(wo.Provider,{value:m},R.createElement(bd.Provider,{children:t,value:k}))}function PA(n){let{children:e,location:t}=n;return gA(fm(e),t)}new Promise(()=>{});function fm(n,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){t.push.apply(t,fm(r.props.children,a));return}r.type!==Js&&It(!1),!r.props.index||!r.props.children||It(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pm(){return pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pm.apply(this,arguments)}function RA(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function jA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DA(n,e){return n.button===0&&(!e||e==="_self")&&!jA(n)}const VA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MA="6";try{window.__reactRouterVersion=MA}catch{}const LA="startTransition",px=VI[LA];function OA(n){let{basename:e,children:t,future:r,window:i}=n,a=R.useRef();a.current==null&&(a.current=BI({window:i,v5Compat:!0}));let l=a.current,[u,p]=R.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},y=R.useCallback(w=>{m&&px?px(()=>p(w)):p(w)},[p,m]);return R.useLayoutEffect(()=>l.listen(y),[l,y]),R.useEffect(()=>CA(r),[r]),R.createElement(NA,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=R.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:p,to:m,preventScrollReset:y,viewTransition:w}=e,T=RA(e,VA),{basename:b}=R.useContext(wo),C,k=!1;if(typeof m=="string"&&UA.test(m)&&(C=m,FA))try{let H=new URL(window.location.href),J=m.startsWith("//")?new URL(H.protocol+m):new URL(m),ee=ig(J.pathname,b);J.origin===H.origin&&ee!=null?m=ee+J.search+J.hash:k=!0}catch{}let I=pA(m,{relative:i}),L=BA(m,{replace:l,state:u,target:p,preventScrollReset:y,relative:i,viewTransition:w});function U(H){r&&r(H),H.defaultPrevented||L(H)}return R.createElement("a",pm({},T,{href:C||I,onClick:k||a?r:U,ref:t,target:p}))});var mx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mx||(mx={}));var gx;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));function BA(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,p=M1(),m=Oc(),y=L1(n,{relative:l});return R.useCallback(w=>{if(DA(w,t)){w.preventDefault();let T=r!==void 0?r:$h(m)===$h(y);p(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,p,y,r,i,t,n,a,l,u])}const zA=()=>{};var yx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$A=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],p=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,p=i+2<n.length,m=p?n[i+2]:0,y=a>>2,w=(a&3)<<4|u>>4;let T=(u&15)<<2|m>>6,b=m&63;p||(b=64,l||(T=64)),r.push(t[y],t[w],t[T],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(B1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$A(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const m=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||m==null||w==null)throw new WA;const T=a<<2|u>>4;if(r.push(T),m!==64){const b=u<<4&240|m>>2;if(r.push(b),w!==64){const C=m<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(n){const e=B1(n);return z1.encodeByteArray(e,!0)},Wh=function(n){return qA(n).replace(/\./g,"")},$1=function(n){try{return z1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof yx>"u")return;const n=yx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$1(n[1]);return e&&JSON.parse(e)},kd=()=>{try{return zA()||KA()||GA()||QA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},W1=n=>{var e,t;return(t=(e=kd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},YA=n=>{const e=W1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},q1=()=>{var n;return(n=kd())==null?void 0:n.config},H1=n=>{var e;return(e=kd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wh(JSON.stringify(t)),Wh(JSON.stringify(l)),""].join(".")}const cc={};function ZA(){const n={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?n.emulator.push(e):n.prod.push(e);return n}function eC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let vx=!1;function G1(n,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||cc[n]===e||cc[n]||vx)return;cc[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=ZA().prod.length>0;function l(){const T=document.getElementById(r);T&&T.remove()}function u(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{vx=!0,l()},T}function y(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=eC(r),b=t("text"),C=document.getElementById(b)||document.createElement("span"),k=t("learnmore"),I=document.getElementById(k)||document.createElement("a"),L=t("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;u(H),y(I,k);const J=m();p(U,L),H.append(U,C,I,J),document.body.appendChild(H)}a?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function nC(){var e;const n=(e=kd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function rC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iC(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oC(){return!nC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function X1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}function aC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="FirebaseError";class br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lC,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?cC(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new br(i,u,r)}}function cC(n,e){return n.replace(uC,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uC=/\{\$([^}]+)}/g;function hC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(xx(a)&&xx(l)){if(!fi(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function xx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dC(n,e){const t=new fC(n,e);return t.subscribe.bind(t)}class fC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pC(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Lp),i.error===void 0&&(i.error=Lp),i.complete===void 0&&(i.complete=Lp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1e3,gC=2,yC=4*60*60*1e3,vC=.5;function wx(n,e=mC,t=gC){const r=e*Math.pow(t,n),i=Math.round(vC*r*(Math.random()-.5)*2);return Math.min(yC,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n){return n&&n._delegate?n._delegate:n}class _r{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new XA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_C(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wC(n){return n===no?void 0:n}function _C(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const EC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},bC=Ve.INFO,kC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},SC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=kC[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sd{constructor(e){this.name=e,this._logLevel=bC,this._logHandler=SC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const IC=(n,e)=>e.some(t=>n instanceof t);let _x,Tx;function AC(){return _x||(_x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return Tx||(Tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,mm=new WeakMap,Z1=new WeakMap,Op=new WeakMap,ag=new WeakMap;function NC(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(li(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&J1.set(t,n)}).catch(()=>{}),ag.set(e,n),e}function PC(n){if(mm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});mm.set(n,e)}let gm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RC(n){gm=n(gm)}function jC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Fp(this),e,...t);return Z1.set(r,e.sort?e.sort():[e]),li(r)}:CC().includes(n)?function(...e){return n.apply(Fp(this),e),li(J1.get(this))}:function(...e){return li(n.apply(Fp(this),e))}}function DC(n){return typeof n=="function"?jC(n):(n instanceof IDBTransaction&&PC(n),IC(n,AC())?new Proxy(n,gm):n)}function li(n){if(n instanceof IDBRequest)return NC(n);if(Op.has(n))return Op.get(n);const e=DC(n);return e!==n&&(Op.set(n,e),ag.set(e,n)),e}const Fp=n=>ag.get(n);function eT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=li(l);return r&&l.addEventListener("upgradeneeded",p=>{r(li(l.result),p.oldVersion,p.newVersion,li(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),u.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const VC=["get","getKey","getAll","getAllKeys","count"],MC=["put","add","delete","clear"],Up=new Map;function Ex(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=MC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VC.includes(t)))return;const a=async function(l,...u){const p=this.transaction(l,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),i&&p.done]))[0]};return Up.set(e,a),a}RC(n=>({...n,get:(e,t,r)=>Ex(e,t)||n.get(e,t,r),has:(e,t)=>!!Ex(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function OC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",bx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Sd("@firebase/app"),FC="@firebase/app-compat",UC="@firebase/analytics-compat",BC="@firebase/analytics",zC="@firebase/app-check-compat",$C="@firebase/app-check",WC="@firebase/auth",qC="@firebase/auth-compat",HC="@firebase/database",KC="@firebase/data-connect",GC="@firebase/database-compat",QC="@firebase/functions",YC="@firebase/functions-compat",XC="@firebase/installations",JC="@firebase/installations-compat",ZC="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",rN="@firebase/remote-config",sN="@firebase/remote-config-compat",iN="@firebase/storage",oN="@firebase/storage-compat",aN="@firebase/firestore",lN="@firebase/ai",cN="@firebase/firestore-compat",uN="firebase",hN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",dN={[ym]:"fire-core",[FC]:"fire-core-compat",[BC]:"fire-analytics",[UC]:"fire-analytics-compat",[$C]:"fire-app-check",[zC]:"fire-app-check-compat",[WC]:"fire-auth",[qC]:"fire-auth-compat",[HC]:"fire-rtdb",[KC]:"fire-data-connect",[GC]:"fire-rtdb-compat",[QC]:"fire-fn",[YC]:"fire-fn-compat",[XC]:"fire-iid",[JC]:"fire-iid-compat",[ZC]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[rN]:"fire-rc",[sN]:"fire-rc-compat",[iN]:"fire-gcs",[oN]:"fire-gcs-compat",[aN]:"fire-fst",[cN]:"fire-fst-compat",[lN]:"fire-vertex","fire-js":"fire-js",[uN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,fN=new Map,xm=new Map;function kx(n,e){try{n.container.addComponent(e)}catch(t){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gr(n){const e=n.name;if(xm.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,n);for(const t of qh.values())kx(t,n);for(const t of fN.values())kx(t,n);return!0}function Eo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new To("app","Firebase",pN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=hN;function tT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(t||(t=q1()),!t)throw ci.create("no-options");const a=qh.get(i);if(a){if(fi(t,a.options)&&fi(r,a.config))return a;throw ci.create("duplicate-app",{appName:i})}const l=new TC(i);for(const p of xm.values())l.addComponent(p);const u=new mN(t,r,l);return qh.set(i,u),u}function lg(n=vm){const e=qh.get(n);if(!e&&n===vm&&q1())return tT();if(!e)throw ci.create("no-app",{appName:n});return e}function Xn(n,e,t){let r=dN[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(l.join(" "));return}Gr(new _r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-heartbeat-database",yN=1,Tc="firebase-heartbeat-store";let Bp=null;function nT(){return Bp||(Bp=eT(gN,yN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ci.create("idb-open",{originalErrorMessage:n.message})})),Bp}async function vN(n){try{const t=(await nT()).transaction(Tc),r=await t.objectStore(Tc).get(rT(n));return await t.done,r}catch(e){if(e instanceof br)xs.warn(e.message);else{const t=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(t.message)}}}async function Sx(n,e){try{const r=(await nT()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,rT(n)),await r.done}catch(t){if(t instanceof br)xs.warn(t.message);else{const r=ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xs.warn(r.message)}}}function rT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,wN=30;class _N{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ix();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wN){const l=bN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ix(),{heartbeatsToSend:r,unsentEntries:i}=TN(this._heartbeatsCache.heartbeats),a=Wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return xs.warn(t),""}}}function Ix(){return new Date().toISOString().substring(0,10)}function TN(n,e=xN){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Ax(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Ax(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class EN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?X1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ax(n){return Wh(JSON.stringify({version:2,heartbeats:n})).length}function bN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){Gr(new _r("platform-logger",e=>new LC(e),"PRIVATE")),Gr(new _r("heartbeat",e=>new _N(e),"PRIVATE")),Xn(ym,bx,n),Xn(ym,bx,"esm2020"),Xn("fire-js","")}kN("");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SN=sT,iT=new To("auth","Firebase",sT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Sd("@firebase/auth");function IN(n,...e){Hh.logLevel<=Ve.WARN&&Hh.warn(`Auth (${Ga}): ${n}`,...e)}function Ch(n,...e){Hh.logLevel<=Ve.ERROR&&Hh.error(`Auth (${Ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw ug(n,...e)}function wr(n,...e){return ug(n,...e)}function cg(n,e,t){const r={...SN(),[e]:t};return new To("auth","Firebase",r).create(e,{appName:n.name})}function ps(n){return cg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(n,"argument-error"),cg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iT.create(n,...e)}function Ee(n,e,...t){if(!n)throw ug(e,...t)}function ds(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ch(e),new Error(e)}function ws(n,e){n||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function CN(){return Cx()==="http:"||Cx()==="https:"}function Cx(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CN()||Q1()||"connection"in navigator)?navigator.onLine:!0}function PN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ws(t>e,"Short delay should be less than long delay!"),this.isMobile=tC()||sC()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n,e){ws(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DN=new Uc(3e4,6e4);function Ti(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ks(n,e,t,r,i={}){return aT(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Fc({key:n.config.apiKey,...l}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...a};return rC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(m.credentials="include"),oT.fetch()(await lT(n,n.config.apiHost,t,u),m)})}async function aT(n,e,t){n._canInitEmulator=!1;const r={...RN,...e};try{const i=new MN(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw yh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[p,m]=u.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(n,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw yh(n,"email-already-in-use",l);if(p==="USER_DISABLED")throw yh(n,"user-disabled",l);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw cg(n,y,m);er(n,y)}}catch(i){if(i instanceof br)throw i;er(n,"network-request-failed",{message:String(i)})}}async function Bc(n,e,t,r,i={}){const a=await ks(n,e,t,r,i);return"mfaPendingCredential"in a&&er(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function lT(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?hg(n.config,i):`${n.config.apiScheme}://${i}`;return jN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function VN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),DN.get())})}}function yh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=wr(n,e,r);return i.customData._tokenResponse=t,i}function Nx(n){return n!==void 0&&n.enterprise!==void 0}class LN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ON(n,e){return ks(n,"GET","/v2/recaptchaConfig",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e){return ks(n,"POST","/v1/accounts:delete",e)}async function Kh(n,e){return ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UN(n,e=!1){const t=wt(n),r=await t.getIdToken(e),i=dg(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:uc(zp(i.auth_time)),issuedAtTime:uc(zp(i.iat)),expirationTime:uc(zp(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function zp(n){return Number(n)*1e3}function dg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=$1(t);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Px(n){const e=dg(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof br&&BN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function BN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){var w;const e=n.auth,t=await n.getIdToken(),r=await Ma(n,Kh(e,{idToken:t}));Ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(w=i.providerUserInfo)!=null&&w.length?cT(i.providerUserInfo):[],l=WN(n.providerData,a),u=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),m=u?p:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new _m(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function $N(n){const e=wt(n);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n,e){const t=await aT(n,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await lT(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(p.credentials="include"),oT.fetch()(l,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HN(n,e){return ks(n,"POST","/v2/accounts:revokeToken",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Px(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await qN(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Ia;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new zN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _m(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UN(this,e)}reload(){return $N(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Ma(this,FN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:b,providerData:C,stsTokenManager:k}=t;Ee(w&&k,e,"internal-error");const I=Ia.fromJSON(this.name,k);Ee(typeof w=="string",e,"internal-error"),Xs(r,e.name),Xs(i,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof b=="boolean",e,"internal-error"),Xs(a,e.name),Xs(l,e.name),Xs(u,e.name),Xs(p,e.name),Xs(m,e.name),Xs(y,e.name);const L=new xr({uid:w,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:I,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(L.providerData=C.map(U=>({...U}))),p&&(L._redirectEventId=p),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ia;i.updateFromServerResponse(t);const a=new xr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ee(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?cT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ia;u.updateFromIdToken(r);const p=new xr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _m(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;function fs(n){ws(n instanceof Function,"Expected a class definition");let e=Rx.get(n);return e?(ws(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Rx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uT.type="NONE";const jx=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n,e,t){return`firebase:${n}:${e}:${t}`}class Aa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kh(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Aa(fs(jx),e,r);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||fs(jx);const l=Nh(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const y=await m._get(l);if(y){let w;if(typeof y=="string"){const T=await Kh(e,{idToken:y}).catch(()=>{});if(!T)break;w=await xr._fromGetAccountInfoResponse(e,T,y)}else w=xr._fromJSON(e,y);m!==a&&(u=w),a=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Aa(a,e,r):(a=p[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Aa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||fT(e))&&!e.includes("edge/"))return"Chrome";if(mT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hT(n=on()){return/firefox\//i.test(n)}function dT(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fT(n=on()){return/crios\//i.test(n)}function pT(n=on()){return/iemobile/i.test(n)}function mT(n=on()){return/android/i.test(n)}function gT(n=on()){return/blackberry/i.test(n)}function yT(n=on()){return/webos/i.test(n)}function fg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KN(n=on()){var e;return fg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function GN(){return iC()&&document.documentMode===10}function vT(n=on()){return fg(n)||mT(n)||yT(n)||gT(n)||/windows phone/i.test(n)||pT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e=[]){let t;switch(n){case"Browser":t=Dx(on());break;case"Worker":t=`${Dx(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const p=e(a);l(p)}catch(p){u(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e={}){return ks(n,"GET","/v2/passwordPolicy",Ti(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=6;class JN{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vx(this),this.idTokenSubscription=new Vx(this),this.beforeStateQueue=new QN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fs(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kh(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===u)&&(p!=null&&p.user)&&(r=p.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ps(this));const t=e?wt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YN(this),t=new JN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await HN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fs(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{l=!0,p()}}else{const p=e.addObserver(t);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&IN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ei(n){return wt(n)}class Vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=dC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(n){Id=n}function wT(n){return Id.loadJS(n)}function t2(){return Id.recaptchaEnterpriseScript}function n2(){return Id.gapiScript}function r2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class s2{constructor(){this.enterprise=new i2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class i2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const o2="recaptcha-enterprise",_T="NO_RECAPTCHA";class a2{constructor(e){this.type=o2,this.auth=Ei(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{ON(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new LN(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(p=>{u(p)})})}function i(a,l,u){const p=window.grecaptcha;Nx(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(_T)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s2().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&Nx(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let p=t2();p.length!==0&&(p+=u),wT(p).then(()=>{i(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function Mx(n,e,t,r=!1,i=!1){const a=new a2(n);let l;if(i)l=_T;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const p=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const p=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Tm(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Mx(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Mx(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n,e){const t=Eo(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(fi(a,e??{}))return i;er(i,"already-initialized")}return t.initialize({options:e})}function c2(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(fs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u2(n,e,t){const r=Ei(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=TT(e),{host:l,port:u}=h2(e),p=u===null?"":`:${u}`,m={url:`${a}//${l}${p}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(fi(m,r.config.emulator)&&fi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ka(l)?(K1(`${a}//${l}${p}`),G1("Auth",!0)):d2()}function TT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function h2(n){const e=TT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Lx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Lx(l)}}}function Lx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function d2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,t){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function f2(n,e){return ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,e){return Bc(n,"POST","/v1/accounts:signInWithPassword",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,e){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,e))}async function g2(n,e){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends pg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ec(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tm(e,t,"signInWithPassword",p2);case"emailLink":return m2(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tm(e,r,"signUpPassword",f2);case"emailLink":return g2(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n,e){return Bc(n,"POST","/v1/accounts:signInWithIdp",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="http://localhost";class po extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const l=new po(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ca(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ca(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ca(e,t)}buildRequest(){const e={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x2(n){const e=ec(tc(n)).link,t=e?ec(tc(e)).deep_link_id:null,r=ec(tc(n)).deep_link_id;return(r?ec(tc(r)).link:null)||r||t||e||n}class mg{constructor(e){const t=ec(tc(e)),r=t.apiKey??null,i=t.oobCode??null,a=v2(t.mode??null);Ee(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=x2(e);try{return new mg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,t){return Ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=mg.parseLink(t);return Ee(r,"argument-error"),Ec._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends zc{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return po._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hs.credential(t,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends zc{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends zc{constructor(){super("twitter.com")}static credential(e,t){return po._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ni.credential(t,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,e){return Bc(n,"POST","/v1/accounts:signUp",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await xr._fromIdTokenResponse(e,r,i),l=Ox(r);return new mo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Ox(r);return new mo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Ox(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends br{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Qh(e,t,r,i)}}function ET(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(n,a,e,r):a})}async function _2(n,e,t=!1){const r=await Ma(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return mo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(n,e,t=!1){const{auth:r}=n;if(jn(r.app))return Promise.reject(ps(r));const i="reauthenticate";try{const a=await Ma(n,ET(r,i,e,n),t);Ee(a.idToken,r,"internal-error");const l=dg(a.idToken);Ee(l,r,"internal-error");const{sub:u}=l;return Ee(n.uid===u,r,"user-mismatch"),mo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(n,e,t=!1){if(jn(n.app))return Promise.reject(ps(n));const r="signIn",i=await ET(n,r,e),a=await mo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function E2(n,e){return bT(Ei(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(n){const e=Ei(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b2(n,e,t){if(jn(n.app))return Promise.reject(ps(n));const r=Ei(n),l=await Tm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kT(n),p}),u=await mo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function k2(n,e,t){return jn(n.app)?Promise.reject(ps(n)):E2(wt(n),Qa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(n,e){return ks(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ma(r,S2(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:p})=>p==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function A2(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function C2(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function N2(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function P2(n){return wt(n).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1e3,j2=10;class IT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,p)=>{this.notifyListeners(l,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);GN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const D2=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AT.type="SESSION";const CT=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(t.origin,a)),p=await V2(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,p)=>{const m=yg("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(T.data.response);break;default:clearTimeout(y),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function L2(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function O2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function U2(){return NT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebaseLocalStorageDb",B2=1,Xh="firebaseLocalStorage",RT="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cd(n,e){return n.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function z2(){const n=indexedDB.deleteDatabase(PT);return new $c(n).toPromise()}function Em(){const n=indexedDB.open(PT,B2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xh,{keyPath:RT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await z2(),e(await Em()))})})}async function Fx(n,e,t){const r=Cd(n,!0).put({[RT]:e,value:t});return new $c(r).toPromise()}async function $2(n,e){const t=Cd(n,!1).get(e),r=await new $c(t).toPromise();return r===void 0?null:r.value}function Ux(n,e){const t=Cd(n,!0).delete(e);return new $c(t).toPromise()}const W2=800,q2=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>q2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(U2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await O2(),!this.activeServiceWorker)return;this.sender=new M2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await Fx(e,Yh,"1"),await Ux(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ux(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Cd(i,!1).getAll();return new $c(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const H2=jT;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n,e){return e?fs(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K2(n){return bT(n.auth,new vg(n),n.bypassAuthState)}function G2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),T2(t,new vg(n),n.bypassAuthState)}async function Q2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),_2(t,new vg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:er(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Uc(2e3,1e4);async function X2(n,e,t){if(jn(n.app))return Promise.reject(wr(n,"operation-not-supported-in-this-environment"));const r=Ei(n);AN(n,e,gg);const i=DT(r,t);return new io(r,"signInViaPopup",e,i).executeNotNull()}class io extends VT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y2.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="pendingRedirect",Ph=new Map;class Z2 extends VT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await eP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eP(n,e){const t=rP(e),r=nP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function tP(n,e){Ph.set(n._key(),e)}function nP(n){return fs(n._redirectPersistence)}function rP(n){return Nh(J2,n.config.apiKey,n.name)}async function sP(n,e,t=!1){if(jn(n.app))return Promise.reject(ps(n));const r=Ei(n),i=DT(r,e),l=await new Z2(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=10*60*1e3;class oP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MT(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bx(e))}saveEventToCache(e){this.cachedEventUids.add(Bx(e)),this.lastProcessedEventTime=Date.now()}}function Bx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,e={}){return ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uP=/^https?/;async function hP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lP(n);for(const t of e)try{if(dP(t))return}catch{}er(n,"unauthorized-domain")}function dP(n){const e=wm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!uP.test(t))return!1;if(cP.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Uc(3e4,6e4);function zx(){const n=Br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pP(n){return new Promise((e,t)=>{var i,a,l;function r(){zx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zx(),t(wr(n,"network-request-failed"))},timeout:fP.get()})}if((a=(i=Br().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=Br().gapi)!=null&&l.load)r();else{const u=r2("iframefcb");return Br()[u]=()=>{gapi.load?r():t(wr(n,"network-request-failed"))},wT(`${n2()}?onload=${u}`).catch(p=>t(p))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function mP(n){return Rh=Rh||pP(n),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Uc(5e3,15e3),yP="__/auth/iframe",vP="emulator/auth/iframe",xP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _P(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hg(e,vP):`https://${n.config.authDomain}/${yP}`,r={apiKey:e.apiKey,appName:n.name,v:Ga},i=wP.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Fc(r).slice(1)}`}async function TP(n){const e=await mP(n),t=Br().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:_P(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xP,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=wr(n,"network-request-failed"),u=Br().setTimeout(()=>{a(l)},gP.get());function p(){Br().clearTimeout(u),i(r)}r.ping(p).then(p,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bP=500,kP=600,SP="_blank",IP="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AP(n,e,t,r=bP,i=kP){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const p={...EP,width:r.toString(),height:i.toString(),top:a,left:l},m=on().toLowerCase();t&&(u=fT(m)?SP:t),hT(m)&&(e=e||IP,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[b,C])=>`${T}${b}=${C},`,"");if(KN(m)&&u!=="_self")return CP(e||"",u),new $x(null);const w=window.open(e||"",u,y);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new $x(w)}function CP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="__/auth/handler",PP="emulator/auth/handler",RP=encodeURIComponent("fac");async function Wx(n,e,t,r,i,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ga,eventId:i};if(e instanceof gg){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",hC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))l[y]=w}if(e instanceof zc){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const p=await n._getAppCheckToken(),m=p?`#${RP}=${encodeURIComponent(p)}`:"";return`${jP(n)}?${Fc(u).slice(1)}${m}`}function jP({config:n}){return n.emulator?hg(n,PP):`https://${n.authDomain}/${NP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=sP,this._overrideRedirectResult=tP}async _openPopup(e,t,r,i){var l;ws((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await Wx(e,t,r,wm(),i);return AP(e,a,yg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Wx(e,t,r,wm(),i);return L2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ws(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await TP(e),r=new oP(e);return t.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($p,{type:$p},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[$p];a!==void 0&&t(!!a),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vT()||dT()||fg()}}const VP=DP;var qx="@firebase/auth",Hx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OP(n){Gr(new _r("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(n)},m=new ZN(r,i,a,p);return c2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new _r("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return(r=>new MP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(qx,Hx,LP(n)),Xn(qx,Hx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=5*60,UP=H1("authIdTokenMaxAge")||FP;let Kx=null;const BP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>UP)return;const i=t==null?void 0:t.token;Kx!==i&&(Kx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zP(n=lg()){const e=Eo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=l2(n,{popupRedirectResolver:VP,persistence:[H2,D2,CT]}),r=H1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=BP(a.toString());C2(t,l,()=>l(t.currentUser)),A2(t,u=>l(u))}}const i=W1("auth");return i&&u2(t,`http://${i}`),t}function $P(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}e2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=wr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",$P().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OP("Browser");var Gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,LT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function N(){}N.prototype=A.prototype,D.D=A.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(M,F,z){for(var j=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)j[Xe-2]=arguments[Xe];return A.prototype[F].apply(M,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,N){N||(N=0);var M=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)M[F]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(F=0;16>F;++F)M[F]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=D.g[0],N=D.g[1],F=D.g[2];var z=D.g[3],j=A+(z^N&(F^z))+M[0]+3614090360&4294967295;A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[1]+3905402710&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[2]+606105819&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[3]+3250441966&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(z^N&(F^z))+M[4]+4118548399&4294967295,A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[5]+1200080426&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[6]+2821735955&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[7]+4249261313&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(z^N&(F^z))+M[8]+1770035416&4294967295,A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[9]+2336552879&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[10]+4294925233&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[11]+2304563134&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(z^N&(F^z))+M[12]+1804603682&4294967295,A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[13]+4254626195&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[14]+2792965006&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[15]+1236535329&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(F^z&(N^F))+M[1]+4129170786&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[6]+3225465664&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[11]+643717713&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[0]+3921069994&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(F^z&(N^F))+M[5]+3593408605&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[10]+38016083&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[15]+3634488961&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[4]+3889429448&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(F^z&(N^F))+M[9]+568446438&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[14]+3275163606&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[3]+4107603335&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[8]+1163531501&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(F^z&(N^F))+M[13]+2850285829&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[2]+4243563512&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[7]+1735328473&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[12]+2368359562&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(N^F^z)+M[5]+4294588738&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[8]+2272392833&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[11]+1839030562&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[14]+4259657740&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(N^F^z)+M[1]+2763975236&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[4]+1272893353&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[7]+4139469664&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[10]+3200236656&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(N^F^z)+M[13]+681279174&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[0]+3936430074&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[3]+3572445317&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[6]+76029189&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(N^F^z)+M[9]+3654602809&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[12]+3873151461&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[15]+530742520&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[2]+3299628645&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(F^(N|~z))+M[0]+4096336452&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[7]+1126891415&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[14]+2878612391&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[5]+4237533241&4294967295,N=F+(j<<21&4294967295|j>>>11),j=A+(F^(N|~z))+M[12]+1700485571&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[3]+2399980690&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[10]+4293915773&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[1]+2240044497&4294967295,N=F+(j<<21&4294967295|j>>>11),j=A+(F^(N|~z))+M[8]+1873313359&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[15]+4264355552&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[6]+2734768916&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[13]+1309151649&4294967295,N=F+(j<<21&4294967295|j>>>11),j=A+(F^(N|~z))+M[4]+4149444226&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[11]+3174756917&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[2]+718787259&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var N=A-this.blockSize,M=this.B,F=this.h,z=0;z<A;){if(F==0)for(;z<=N;)i(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<A;)if(M[F++]=D.charCodeAt(z++),F==this.blockSize){i(this,M),F=0;break}}else for(;z<A;)if(M[F++]=D[z++],F==this.blockSize){i(this,M),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var N=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=N&255,N/=256;for(this.u(D),D=Array(16),A=N=0;4>A;++A)for(var M=0;32>M;M+=8)D[N++]=this.g[A]>>>M&255;return D};function a(D,A){var N=u;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=A(D)}function l(D,A){this.h=A;for(var N=[],M=!0,F=D.length-1;0<=F;F--){var z=D[F]|0;M&&z==A||(N[F]=z,M=!1)}this.g=N}var u={};function p(D){return-128<=D&&128>D?a(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return I(m(-D));for(var A=[],N=1,M=0;D>=N;M++)A[M]=D/N|0,N*=4294967296;return new l(A,0)}function y(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return I(y(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(A,8)),M=w,F=0;F<D.length;F+=8){var z=Math.min(8,D.length-F),j=parseInt(D.substring(F,F+z),A);8>z?(z=m(Math.pow(A,z)),M=M.j(z).add(m(j))):(M=M.j(N),M=M.add(m(j)))}return M}var w=p(0),T=p(1),b=p(16777216);n=l.prototype,n.m=function(){if(k(this))return-I(this).m();for(var D=0,A=1,N=0;N<this.g.length;N++){var M=this.i(N);D+=(0<=M?M:4294967296+M)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(k(this))return"-"+I(this).toString(D);for(var A=m(Math.pow(D,6)),N=this,M="";;){var F=J(N,A).g;N=L(N,F.j(A));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=F,C(N))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=L(this,D),k(D)?-1:C(D)?0:1};function I(D){for(var A=D.g.length,N=[],M=0;M<A;M++)N[M]=~D.g[M];return new l(N,~D.h).add(T)}n.abs=function(){return k(this)?I(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0,F=0;F<=A;F++){var z=M+(this.i(F)&65535)+(D.i(F)&65535),j=(z>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);M=j>>>16,z&=65535,j&=65535,N[F]=j<<16|z}return new l(N,N[N.length-1]&-2147483648?-1:0)};function L(D,A){return D.add(I(A))}n.j=function(D){if(C(this)||C(D))return w;if(k(this))return k(D)?I(this).j(I(D)):I(I(this).j(D));if(k(D))return I(this.j(I(D)));if(0>this.l(b)&&0>D.l(b))return m(this.m()*D.m());for(var A=this.g.length+D.g.length,N=[],M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<D.g.length;F++){var z=this.i(M)>>>16,j=this.i(M)&65535,Xe=D.i(F)>>>16,At=D.i(F)&65535;N[2*M+2*F]+=j*At,U(N,2*M+2*F),N[2*M+2*F+1]+=z*At,U(N,2*M+2*F+1),N[2*M+2*F+1]+=j*Xe,U(N,2*M+2*F+1),N[2*M+2*F+2]+=z*Xe,U(N,2*M+2*F+2)}for(M=0;M<A;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=A;M<2*A;M++)N[M]=0;return new l(N,0)};function U(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function H(D,A){this.g=D,this.h=A}function J(D,A){if(C(A))throw Error("division by zero");if(C(D))return new H(w,w);if(k(D))return A=J(I(D),A),new H(I(A.g),I(A.h));if(k(A))return A=J(D,I(A)),new H(I(A.g),A.h);if(30<D.g.length){if(k(D)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var N=T,M=A;0>=M.l(D);)N=ee(N),M=ee(M);var F=ae(N,1),z=ae(M,1);for(M=ae(M,2),N=ae(N,2);!C(M);){var j=z.add(M);0>=j.l(D)&&(F=F.add(N),z=j),M=ae(M,1),N=ae(N,1)}return A=L(D,F.j(A)),new H(F,A)}for(F=w;0<=D.l(A);){for(N=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=m(N),j=z.j(A);k(j)||0<j.l(D);)N-=M,z=m(N),j=z.j(A);C(z)&&(z=T),F=F.add(z),D=L(D,j)}return new H(F,D)}n.A=function(D){return J(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)&D.i(M);return new l(N,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)|D.i(M);return new l(N,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)^D.i(M);return new l(N,this.h^D.h)};function ee(D){for(var A=D.g.length+1,N=[],M=0;M<A;M++)N[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(N,D.h)}function ae(D,A){var N=A>>5;A%=32;for(var M=D.g.length-N,F=[],z=0;z<M;z++)F[z]=0<A?D.i(z+N)>>>A|D.i(z+N+1)<<32-A:D.i(z+N);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,ui=l}).apply(typeof Gx<"u"?Gx:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OT,nc,FT,jh,bm,UT,BT,zT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var _=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var $=h[S];if(!($ in _))break e;_=_[$]}h=h[h.length-1],S=_[h],v=v(S),v!=S&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var _=0,S=!1,$={next:function(){if(!S&&_<h.length){var G=_++;return{value:v(G,h[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return a(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function w(h,v,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function T(h,v,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function b(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,$,G){for(var ie=Array(arguments.length-2),He=2;He<arguments.length;He++)ie[He-2]=arguments[He];return v.prototype[$].apply(S,ie)}}function k(h){const v=h.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=h[S];return _}return[]}function I(h,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const $=h.length||0,G=S.length||0;h.length=$+G;for(let ie=0;ie<G;ie++)h[$+ie]=S[ie]}else h.push(S)}}class L{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function J(h){return J[" "](h),h}J[" "]=function(){};var ee=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ae(h,v,_){for(const S in h)v.call(_,h[S],S,h)}function D(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function A(h){const v={};for(const _ in h)v[_]=h[_];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let _,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(_ in S)h[_]=S[_];for(let G=0;G<N.length;G++)_=N[G],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function F(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function z(h){u.setTimeout(()=>{throw h},0)}function j(){var h=ge;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Xe{constructor(){this.h=this.g=null}add(v,_){const S=At.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var At=new L(()=>new Ct,h=>h.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,re=!1,ge=new Xe,le=()=>{const h=u.Promise.resolve(void 0);ke=()=>{h.then(B)}};var B=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(_){z(_)}var v=At;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};u.addEventListener("test",_,v),u.removeEventListener("test",_,v)}catch{}return h}();function Ne(h,v){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ee){e:{try{J(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}C(Ne,ye);var je={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ke(h,v,_,S,$){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=$,this.key=++De,this.da=this.fa=!1}function _t(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function tr(h){this.src=h,this.g={},this.h=0}tr.prototype.add=function(h,v,_,S,$){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var ie=kr(h,v,S,$);return-1<ie?(v=h[ie],_||(v.fa=!1)):(v=new Ke(v,this.src,G,!!S,$),v.fa=_,h.push(v)),v};function nr(h,v){var _=v.type;if(_ in h.g){var S=h.g[_],$=Array.prototype.indexOf.call(S,v,void 0),G;(G=0<=$)&&Array.prototype.splice.call(S,$,1),G&&(_t(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function kr(h,v,_,S){for(var $=0;$<h.length;++$){var G=h[$];if(!G.da&&G.listener==v&&G.capture==!!_&&G.ha==S)return $}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),En={};function hn(h,v,_,S,$){if(Array.isArray(v)){for(var G=0;G<v.length;G++)hn(h,v[G],_,S,$);return null}return _=il(_),h&&h[Oe]?h.K(v,_,m(S)?!!S.capture:!1,$):Sr(h,v,_,!1,S,$)}function Sr(h,v,_,S,$,G){if(!v)throw Error("Invalid event type");var ie=m($)?!!$.capture:!!$,He=Ao(h);if(He||(h[Ge]=He=new tr(h)),_=He.add(v,_,S,ie,G),_.proxy)return _;if(S=Qe(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)Ce||($=ie),$===void 0&&($=!1),h.addEventListener(v.toString(),S,$);else if(h.attachEvent)h.attachEvent(bn(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qe(){function h(_){return v.call(h.src,h.listener,_)}const v=sl;return h}function at(h,v,_,S,$){if(Array.isArray(v))for(var G=0;G<v.length;G++)at(h,v[G],_,S,$);else S=m(S)?!!S.capture:!!S,_=il(_),h&&h[Oe]?(h=h.i,v=String(v).toString(),v in h.g&&(G=h.g[v],_=kr(G,_,S,$),-1<_&&(_t(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ao(h))&&(v=h.g[v.toString()],h=-1,v&&(h=kr(v,_,S,$)),(_=-1<h?v[h]:null)&&dt(_))}function dt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Oe])nr(v.i,h);else{var _=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(_,S,h.capture):v.detachEvent?v.detachEvent(bn(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Ao(v))?(nr(_,h),_.h==0&&(_.src=null,v[Ge]=null)):_t(h)}}}function bn(h){return h in En?En[h]:En[h]="on"+h}function sl(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var _=h.listener,S=h.ha||h.src;h.fa&&dt(h),h=_.call(S,v)}return h}function Ao(h){return h=h[Ge],h instanceof tr?h:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function il(h){return typeof h=="function"?h:(h[Co]||(h[Co]=function(v){return h.handleEvent(v)}),h[Co])}function Nt(){Y.call(this),this.i=new tr(this),this.M=this,this.F=null}C(Nt,Y),Nt.prototype[Oe]=!0,Nt.prototype.removeEventListener=function(h,v,_,S){at(this,h,v,_,S)};function Pt(h,v){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ye(v,h);else if(v instanceof ye)v.target=v.target||h;else{var $=v;v=new ye(S,h),M(v,$)}if($=!0,_)for(var G=_.length-1;0<=G;G--){var ie=v.g=_[G];$=Yr(ie,S,!0,v)&&$}if(ie=v.g=h,$=Yr(ie,S,!0,v)&&$,$=Yr(ie,S,!1,v)&&$,_)for(G=0;G<_.length;G++)ie=v.g=_[G],$=Yr(ie,S,!1,v)&&$}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],S=0;S<_.length;S++)_t(_[S]);delete h.g[v],h.h--}}this.F=null},Nt.prototype.K=function(h,v,_,S){return this.i.add(String(h),v,!1,_,S)},Nt.prototype.L=function(h,v,_,S){return this.i.add(String(h),v,!0,_,S)};function Yr(h,v,_,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,G=0;G<v.length;++G){var ie=v[G];if(ie&&!ie.da&&ie.capture==_){var He=ie.listener,Rt=ie.ha||ie.src;ie.fa&&nr(h.i,ie),$=He.call(Rt,S)!==!1&&$}}return $&&!S.defaultPrevented}function ol(h,v,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(h,v||0)}function Is(h){h.g=ol(()=>{h.g=null,h.i&&(h.i=!1,Is(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ai extends Y{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(h){Y.call(this),this.h=h,this.g={}}C(Ci,Y);var al=[];function ll(h){ae(h.g,function(v,_){this.g.hasOwnProperty(_)&&dt(v)},h),h.g={}}Ci.prototype.N=function(){Ci.aa.N.call(this),ll(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=u.JSON.stringify,ul=u.JSON.parse,hl=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Ni(){}Ni.prototype.h=null;function No(h){return h.h||(h.h=h.i())}function Po(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){ye.call(this,"d")}C(Ir,ye);function Ro(){ye.call(this,"c")}C(Ro,ye);var Ar={},dl=null;function Pi(){return dl=dl||new Nt}Ar.La="serverreachability";function fl(h){ye.call(this,Ar.La,h)}C(fl,ye);function Xr(h){const v=Pi();Pt(v,new fl(v))}Ar.STAT_EVENT="statevent";function pl(h,v){ye.call(this,Ar.STAT_EVENT,h),this.stat=v}C(pl,ye);function mt(h){const v=Pi();Pt(v,new pl(v,h))}Ar.Ma="timingevent";function jo(h,v){ye.call(this,Ar.Ma,h),this.size=v}C(jo,ye);function rr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function ji(h,v,_,S,$,G){h.info(function(){if(h.g)if(G)for(var ie="",He=G.split("&"),Rt=0;Rt<He.length;Rt++){var Ue=He[Rt].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var Tt=Mt.split("_");ie=2<=Tt.length&&Tt[1]=="type"?ie+(Mt+"="+Ue+"&"):ie+(Mt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+v+`
`+_+`
`+ie})}function Do(h,v,_,S,$,G,ie){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+v+`
`+_+`
`+G+" "+ie})}function sr(h,v,_,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+sf(h,_)+(S?" "+S:"")})}function ml(h,v){h.info(function(){return"TIMEOUT: "+v})}Ri.prototype.info=function(){};function sf(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<$.length;ie++)$[ie]=""}}}}return cl(_)}catch{return v}}var Vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function Di(){}C(Di,Ni),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},ir=new Di;function or(h,v,_,S){this.j=h,this.i=v,this.l=_,this.R=S||1,this.U=new Ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var gl={},Mo={};function Lo(h,v,_){h.L=1,h.v=Rs(Sn(v)),h.m=_,h.P=!0,yl(h,null)}function yl(h,v){h.F=Date.now(),Je(h),h.A=Sn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Ds(_.i,"t",S),h.C=0,_=h.j.J,h.h=new ru,h.g=_u(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Ai(T(h.Y,h,h.g),h.O)),v=h.U,_=h.g,S=h.ca;var $="readystatechange";Array.isArray($)||($&&(al[0]=$.toString()),$=al);for(var G=0;G<$.length;G++){var ie=hn(_,$[G],S||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Xr(),ji(h.i,h.u,h.A,h.l,h.R,h.m)}or.prototype.ca=function(h){h=h.target;const v=this.M;v&&fn(h)==3?v.j():this.Y(h)},or.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=fn(this.g);var v=this.g.Ba();const Bn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||El(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=Bn?Xr(3):Xr(2)),Vi(this);var _=this.g.Z();this.X=_;t:if(su(this)){var S=El(this.g);h="";var $=S.length,G=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),As(this);var ie="";break t}this.h.i=new u.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(G&&v==$-1)});S.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Do(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Rt=this.g;if((He=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(He)){var Ue=He;break t}}Ue=null}if(_=Ue)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vl(this,_);else{this.o=!1,this.s=3,mt(12),Fn(this),As(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<ie.length;)if(An=of(this,ie),An==Mo){Tt==4&&(this.s=4,mt(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(An==gl){this.s=4,mt(15),sr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,An,null),vl(this,An);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ie.length!=0||this.h.h||(this.s=1,mt(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,ie,"[Invalid Chunked Response]"),Fn(this),As(this);else if(0<ie.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),kl(Mt),Mt.M=!0,mt(11))}}else sr(this.i,this.l,ie,null),vl(this,ie);Tt==4&&Fn(this),this.o&&!this.J&&(Tt==4?Go(this.j,this):(this.o=!1,Je(this)))}else $o(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Fn(this),As(this)}}}catch{}finally{}};function su(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function of(h,v){var _=h.C,S=v.indexOf(`
`,_);return S==-1?Mo:(_=Number(v.substring(_,S)),isNaN(_)?gl:(S+=1,S+_>v.length?Mo:(v=v.slice(S,S+_),h.C=S+_,v)))}or.prototype.cancel=function(){this.J=!0,Fn(this)};function Je(h){h.S=Date.now()+h.I,iu(h,h.I)}function iu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=rr(T(h.ba,h),v)}function Vi(h){h.B&&(u.clearTimeout(h.B),h.B=null)}or.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ml(this.i,this.A),this.L!=2&&(Xr(),mt(17)),Fn(this),this.s=2,As(this)):iu(this,this.S-h)};function As(h){h.j.G==0||h.J||Go(h.j,h)}function Fn(h){Vi(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ll(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function vl(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||an(_.h,h))){if(!h.K&&an(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ko(_),hr(_);else break e;Ho(_),mt(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(T(_.Za,_),6e3));if(1>=au(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ns(_,11)}else if((h.K||_.g==h)&&Ko(_),!U(v))for($=_.Da.g.parse(v),v=0;v<$.length;v++){let Ue=$[v];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Tt=Ue[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Bn=Ue[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(S=1.5*Bn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const An=h.g;if(An){const zi=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var G=S.h;G.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(xl(G,G.h),G.h=null))}if(S.D){const Yo=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(S.ya=Yo,Ye(S.I,S.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ie=h;if(S.qa=wu(S,S.J?S.ia:null,S.W),ie.K){lu(S.h,ie);var He=ie,Rt=S.L;Rt&&(He.I=Rt),He.B&&(Vi(He),Je(He)),S.g=ie}else Bi(S);0<_.i.length&&Rr(_)}else Ue[0]!="stop"&&Ue[0]!="close"||ns(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ns(_,7):zt(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}Xr(4)}catch{}}var ou=class{constructor(h,v){this.g=h,this.map=v}};function Mi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function au(h){return h.h?1:h.g?h.g.size:0}function an(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function xl(h,v){h.g?h.g.add(v):h.h=v}function lu(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Mi.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return k(h.i)}function Oo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],_=h.length,S=0;S<_;S++)v.push(h[S]);return v}v=[],_=0;for(S in h)v[_++]=h[S];return v}function Fo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const S in h)v[_++]=S;return v}}}function Cs(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Fo(h),S=Oo(h),$=S.length,G=0;G<$;G++)v.call(void 0,S[G],_&&_[G],h)}var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),$=null;if(0<=S){var G=h[_].substring(0,S);$=h[_].substring(S+1)}else G=h[_];v(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Jr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Jr){this.h=h.h,Oi(this,h.j),this.o=h.o,this.g=h.g,Ns(this,h.s),this.l=h.l;var v=h.i,_=new Cr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Ps(this,_),this.m=h.m}else h&&(v=String(h).match(Li))?(this.h=!1,Oi(this,v[1]||"",!0),this.o=Fe(v[2]||""),this.g=Fe(v[3]||"",!0),Ns(this,v[4]),this.l=Fe(v[5]||"",!0),Ps(this,v[6]||"",!0),this.m=Fe(v[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}Jr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(js(v,Uo,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(js(v,Uo,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(js(_,_.charAt(0)=="/"?du:hu,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",js(_,wl)),h.join("")};function Sn(h){return new Jr(h)}function Oi(h,v,_){h.j=_?Fe(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ns(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ps(h,v,_){v instanceof Cr?(h.i=v,Nr(h.i,h.h)):(_||(v=js(v,fu)),h.i=new Cr(v,h.h))}function Ye(h,v,_){h.i.set(v,_)}function Rs(h){return Ye(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fe(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function js(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,uu),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Uo=/[#\/\?@]/g,hu=/[#\?:]/g,du=/[#\?]/g,fu=/[#\?@]/g,wl=/#/g;function Cr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Bt(h){h.g||(h.g=new Map,h.h=0,h.i&&af(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=Cr.prototype,n.add=function(h,v){Bt(this),this.i=null,h=Un(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function ar(h,v){Bt(h),v=Un(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function lr(h,v){return Bt(h),v=Un(h,v),h.g.has(v)}n.forEach=function(h,v){Bt(this),this.g.forEach(function(_,S){_.forEach(function($){h.call(v,$,S,this)},this)},this)},n.na=function(){Bt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const $=h[S];for(let G=0;G<$.length;G++)_.push(v[S])}return _},n.V=function(h){Bt(this);let v=[];if(typeof h=="string")lr(this,h)&&(v=v.concat(this.g.get(Un(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},n.set=function(h,v){return Bt(this),this.i=null,h=Un(this,h),lr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ds(h,v,_){ar(h,v),0<_.length&&(h.i=null,h.g.set(Un(h,v),k(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const G=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var $=G;ie[S]!==""&&($+="="+encodeURIComponent(String(ie[S]))),h.push($)}}return this.i=h.join("&")};function Un(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Nr(h,v){v&&!h.j&&(Bt(h),h.i=null,h.g.forEach(function(_,S){var $=S.toLowerCase();S!=$&&(ar(this,S),Ds(this,$,_))},h)),h.j=v}function lf(h,v){const _=new Ri;if(u.Image){const S=new Image;S.onload=b(dn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=b(dn,_,"TestLoadImage: error",!1,v,S),S.onabort=b(dn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=b(dn,_,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function pu(h,v){const _=new Ri,S=new AbortController,$=setTimeout(()=>{S.abort(),dn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(G=>{clearTimeout($),G.ok?dn(_,"TestPingServer: ok",!0,v):dn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),dn(_,"TestPingServer: error",!1,v)})}function dn(h,v,_,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(_)}catch{}}function cf(){this.g=new hl}function mu(h,v,_){const S=_||"";try{Cs(h,function($,G){let ie=$;m($)&&(ie=cl($)),v.push(S+G+"="+encodeURIComponent(ie))})}catch($){throw v.push(S+"type="+encodeURIComponent("_badmap")),$}}function Zr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Zr,Ni),Zr.prototype.g=function(){return new Fi(this.l,this.j)},Zr.prototype.i=function(h){return function(){return h}}({});function Fi(h,v){Nt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fi,Nt),n=Fi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ur(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?cr(this):ur(this),this.readyState==3&&gu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,cr(this))},n.Qa=function(h){this.g&&(this.response=h,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ur(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function es(h){let v="";return ae(h,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function Vs(h,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=es(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Ye(h,v,_))}function it(h){Nt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(it,Nt);var uf=/^https?$/i,_l=["POST","PUT"];n=it.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?No(this.o):No(ir),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(G){Ui(this,G);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)_.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),$=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(_l,v,void 0))||S||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of _)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Ui(this,G)}};function Ui(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Bo(h),In(h)}function Bo(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Pt(this,"complete"),Pt(this,"abort"),In(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Tl(this):this.bb())},n.bb=function(){Tl(this)};function Tl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||fn(h)!=4||h.Z()!=2)){if(h.u&&fn(h)==4)ol(h.Ea,0,h);else if(Pt(h,"readystatechange"),fn(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=ie===0){var $=String(h.D).match(Li)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),S=!uf.test($?$.toLowerCase():"")}_=S}if(_)Pt(h,"complete"),Pt(h,"success");else{h.m=6;try{var G=2<fn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Bo(h)}}finally{In(h)}}}}function In(h,v){if(h.g){zo(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Pt(h,"ready");try{_.onreadystatechange=S}catch{}}}function zo(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ul(v)}};function El(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $o(h){const v={};h=(h.g&&2<=fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(U(h[S]))continue;var _=F(h[S]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=v[$]||[];v[$]=G,G.push(_)}D(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function bl(h){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,h),this.cb=Pr("retryDelaySeedMs",1e4,h),this.Wa=Pr("forwardChannelMaxRetries",2,h),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(h&&h.concurrentRequestLimit),this.Da=new cf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bl.prototype,n.la=8,n.G=1,n.connect=function(h,v,_,S){mt(0),this.W=h,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=wu(this,null,this.W),Rr(this)};function zt(h){if(Wo(h),h.G==3){var v=h.U++,_=Sn(h.I);if(Ye(_,"SID",h.K),Ye(_,"RID",v),Ye(_,"TYPE","terminate"),ts(h,_),v=new or(h,h.j,v),v.L=2,v.v=Rs(Sn(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&u.Image&&(new Image().src=v.v,_=!0),_||(v.g=_u(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Je(v)}xu(h)}function hr(h){h.g&&(kl(h),h.g.cancel(),h.g=null)}function Wo(h){hr(h),h.u&&(u.clearTimeout(h.u),h.u=null),Ko(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Rr(h){if(!kn(h.h)&&!h.s){h.s=!0;var v=h.Ga;ke||le(),re||(ke(),re=!0),ge.add(v,h),h.B=0}}function hf(h,v){return au(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=rr(T(h.Ga,h,v),vu(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new or(this,this.j,h);let G=this.o;if(this.S&&(G?(G=A(G),M(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Ms(this,$,v),_=Sn(this.I),Ye(_,"RID",h),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),ts(this,_),G&&(this.O?v="headers="+encodeURIComponent(String(es(G)))+"&"+v:this.m&&Vs(_,this.m,G)),xl(this.h,$),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",v),Ye(_,"SID","null"),$.T=!0,Lo($,_,null)):Lo($,_,v),this.G=2}}else this.G==3&&(h?qo(this,h):this.i.length==0||kn(this.h)||qo(this))};function qo(h,v){var _;v?_=v.l:_=h.U++;const S=Sn(h.I);Ye(S,"SID",h.K),Ye(S,"RID",_),Ye(S,"AID",h.T),ts(h,S),h.m&&h.o&&Vs(S,h.m,h.o),_=new or(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ms(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),xl(h.h,_),Lo(_,S,v)}function ts(h,v){h.H&&ae(h.H,function(_,S){Ye(v,S,_)}),h.l&&Cs({},function(_,S){Ye(v,S,_)})}function Ms(h,v,_){_=Math.min(h.i.length,_);var S=h.l?T(h.l.Na,h.l,h):null;e:{var $=h.i;let G=-1;for(;;){const ie=["count="+_];G==-1?0<_?(G=$[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let He=!0;for(let Rt=0;Rt<_;Rt++){let Ue=$[Rt].g;const Mt=$[Rt].map;if(Ue-=G,0>Ue)G=Math.max(0,$[Rt].g-100),He=!1;else try{mu(Mt,ie,"req"+Ue+"_")}catch{S&&S(Mt)}}if(He){S=ie.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,S}function Bi(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ke||le(),re||(ke(),re=!0),ge.add(v,h),h.v=0}}function Ho(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=rr(T(h.Fa,h),vu(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=rr(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),hr(this),yu(this))};function kl(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function yu(h){h.g=new or(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Sn(h.qa);Ye(v,"RID","rpc"),Ye(v,"SID",h.K),Ye(v,"AID",h.T),Ye(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ye(v,"TO",h.ja),Ye(v,"TYPE","xmlhttp"),ts(h,v),h.m&&h.o&&Vs(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Rs(Sn(v)),_.m=null,_.P=!0,yl(_,h)}n.Za=function(){this.C!=null&&(this.C=null,hr(this),Ho(this),mt(19))};function Ko(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Go(h,v){var _=null;if(h.g==v){Ko(h),kl(h),h.g=null;var S=2}else if(an(h.h,v))_=v.D,lu(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;S=Pi(),Pt(S,new jo(S,_)),Rr(h)}else Bi(h);else if($=v.s,$==3||$==0&&0<v.X||!(S==1&&hf(h,v)||S==2&&Ho(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),$){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function vu(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function ns(h,v){if(h.j.info("Error code "+v),v==2){var _=T(h.fb,h),S=h.Xa;const $=!S;S=new Jr(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oi(S,"https"),Rs(S),$?lf(S.toString(),_):pu(S.toString(),_)}else mt(2);h.G=0,h.l&&h.l.sa(v),xu(h),Wo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function xu(h){if(h.G=0,h.ka=[],h.l){const v=cu(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function wu(h,v,_){var S=_ instanceof Jr?Sn(_):new Jr(_);if(S.g!="")v&&(S.g=v+"."+S.g),Ns(S,S.s);else{var $=u.location;S=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var G=new Jr(null);S&&Oi(G,S),v&&(G.g=v),$&&Ns(G,$),_&&(G.l=_),S=G}return _=h.D,v=h.ya,_&&v&&Ye(S,_,v),Ye(S,"VER",h.la),ts(h,S),S}function _u(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new it(new Zr({eb:_})):new it(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sl(){}n=Sl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qo(){}Qo.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){Nt.call(this),this.g=new bl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!U(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new jr(this)}C(ln,Nt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){zt(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=cl(h),h=_);v.i.push(new ou(v.Ya++,h)),v.G==3&&Rr(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,ln.aa.N.call(this)};function Tu(h){Ir.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Tu,Ir);function Eu(){Ro.call(this),this.status=1}C(Eu,Ro);function jr(h){this.g=h}C(jr,Sl),jr.prototype.ua=function(){Pt(this.g,"a")},jr.prototype.ta=function(h){Pt(this.g,new Tu(h))},jr.prototype.sa=function(h){Pt(this.g,new Eu)},jr.prototype.ra=function(){Pt(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,zT=function(){return new Qo},BT=function(){return Pi()},UT=Ar,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vo.NO_ERROR=0,Vo.TIMEOUT=8,Vo.HTTP_ERROR=6,jh=Vo,nu.COMPLETE="complete",FT=nu,Po.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,nc=Po,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,OT=it}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Yx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Sd("@firebase/firestore");function va(){return go.logLevel}function he(n,...e){if(go.logLevel<=Ve.DEBUG){const t=e.map(xg);go.debug(`Firestore (${Ya}): ${n}`,...t)}}function _s(n,...e){if(go.logLevel<=Ve.ERROR){const t=e.map(xg);go.error(`Firestore (${Ya}): ${n}`,...t)}}function La(n,...e){if(go.logLevel<=Ve.WARN){const t=e.map(xg);go.warn(`Firestore (${Ya}): ${n}`,...t)}}function xg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$T(n,r,t)}function $T(n,e,t){let r=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _s(r),new Error(r)}function qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||$T(e,i,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class qP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ms,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},u=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(p=>u(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?u(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ms)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new WT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class KP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new KP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=YP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function km(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Wp(i)===Wp(a)?Me(i,a):Wp(i)?1:-1}return Me(n.length,e.length)}const XP=55296,JP=57343;function Wp(n){const e=n.charCodeAt(0);return e>=XP&&e<=JP}function Oa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="__name__";class Fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Fr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Me(e.length,t.length)}static compareSegments(e,t){const r=Fr.isNumericId(e),i=Fr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):km(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class et extends Fr{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new et(t)}static emptyPath(){return new et([])}}const ZP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Fr{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return ZP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jx}static keyField(){return new Kt([Jx])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ce(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n,e,t){if(!t)throw new ce(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eR(n,e,t,r){if(e===!0&&r===!0)throw new ce(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zx(n){if(!ve.isDocumentKey(n))throw new ce(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ew(n){if(ve.isDocumentKey(n))throw new ce(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function Tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nd(n);throw new ce(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tR(n,e){if(e<=0)throw new ce(Q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,e){const t={typeString:n};return e&&(t.value=e),t}function Wc(n,e){if(!HT(n))throw new ce(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=-62135596800,nw=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nw);return new We(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tw)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wc(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:St("string",We._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new We(0,0))}static max(){return new Ie(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function nR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new pi(i,ve.empty(),e)}function rR(n){return new pi(n.readTime,n.key,bc)}class pi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pi(Ie.min(),ve.empty(),bc)}static max(){return new pi(Ie.max(),ve.empty(),bc)}}function sR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==iR)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},p=>r(p))}),l=!0,a===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next(y=>{l[m]=y,++u,u===a&&r(l)},y=>i(y))}})}static doWhile(e,t){return new X((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function aR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ja(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function Rd(n){return n==null}function Jh(n){return n===0&&1/n==-1/0}function lR(n){return typeof n=="number"&&Number.isInteger(n)&&!Jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="";function cR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rw(e)),e=uR(n.get(t),e);return rw(e)}function uR(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case KT:t+="";break;default:t+=a}}return t}function rw(n){return n+KT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iw(this.data.getIterator())}getIteratorFrom(e){return new iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Vt(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QT("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=hR.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gi(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="server_timestamp",XT="__type__",JT="__previous_value__",ZT="__local_write_time__";function Tg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[XT])==null?void 0:r.stringValue)===YT}function jd(n){const e=n.mapValue.fields[JT];return Tg(e)?jd(e):e}function kc(n){const e=mi(n.mapValue.fields[ZT].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,r,i,a,l,u,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Zh="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||Zh}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__type__",fR="__max__",wh={mapValue:{}},tE="__vector__",ed="value";function yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tg(n)?4:mR(n)?9007199254740991:pR(n)?10:11:be(28295,{value:n})}function Qr(n,e){if(n===e)return!0;const t=yi(n);if(t!==yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kc(n).isEqual(kc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=mi(i.timestampValue),u=mi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return gi(i.bytesValue).isEqual(gi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return vt(i.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vt(i.integerValue)===vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=vt(i.doubleValue),u=vt(a.doubleValue);return l===u?Jh(l)===Jh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Oa(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(sw(l)!==sw(u))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(u[p]===void 0||!Qr(l[p],u[p])))return!1;return!0}(n,e);default:return be(52216,{left:n})}}function Ic(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function Fa(n,e){if(n===e)return 0;const t=yi(n),r=yi(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=vt(a.integerValue||a.doubleValue),p=vt(l.integerValue||l.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return ow(n.timestampValue,e.timestampValue);case 4:return ow(kc(n),kc(e));case 5:return km(n.stringValue,e.stringValue);case 6:return function(a,l){const u=gi(a),p=gi(l);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),p=l.split("/");for(let m=0;m<u.length&&m<p.length;m++){const y=Me(u[m],p[m]);if(y!==0)return y}return Me(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Me(vt(a.latitude),vt(l.latitude));return u!==0?u:Me(vt(a.longitude),vt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return aw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var T,b,C,k;const u=a.fields||{},p=l.fields||{},m=(T=u[ed])==null?void 0:T.arrayValue,y=(b=p[ed])==null?void 0:b.arrayValue,w=Me(((C=m==null?void 0:m.values)==null?void 0:C.length)||0,((k=y==null?void 0:y.values)==null?void 0:k.length)||0);return w!==0?w:aw(m,y)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===wh.mapValue&&l===wh.mapValue)return 0;if(a===wh.mapValue)return 1;if(l===wh.mapValue)return-1;const u=a.fields||{},p=Object.keys(u),m=l.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const T=km(p[w],y[w]);if(T!==0)return T;const b=Fa(u[p[w]],m[y[w]]);if(b!==0)return b}return Me(p.length,y.length)}(n.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function ow(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=mi(n),r=mi(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function aw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Fa(t[i],r[i]);if(a)return a}return Me(t.length,r.length)}function Ua(n){return Sm(n)}function Sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Sm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Sm(t.fields[l])}`;return i+"}"}(n.mapValue):be(61005,{value:n})}function Dh(n){switch(yi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(n);return e?16+Dh(e):16;case 5:return 2*n.stringValue.length;case 6:return gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Dh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return bi(r.fields,(a,l)=>{i+=a.length+Dh(l)}),i}(n.mapValue);default:throw be(13486,{value:n})}}function lw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Im(n){return!!n&&"integerValue"in n}function Eg(n){return!!n&&"arrayValue"in n}function cw(n){return!!n&&"nullValue"in n}function uw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vh(n){return!!n&&"mapValue"in n}function pR(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[eE])==null?void 0:r.stringValue)===tE}function hc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return bi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hc(n.arrayValue.values[t]);return e}return{...n}}function mR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=hc(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bi(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _n(hc(this.value))}}function nE(n){const e=[];return bi(n.fields,(t,r)=>{const i=new Kt([t]);if(Vh(r)){const a=nE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,Ie.min(),Ie.min(),Ie.min(),_n.empty(),0)}static newFoundDocument(e,t,r,i){return new nn(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new nn(e,2,t,Ie.min(),Ie.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Ie.min(),Ie.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.position=e,this.inclusive=t}}function hw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Fa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function dw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function gR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{}class kt extends rE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vR(e,t,r):t==="array-contains"?new _R(e,r):t==="in"?new TR(e,r):t==="not-in"?new ER(e,r):t==="array-contains-any"?new bR(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xR(e,r):new wR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fa(t,this.value)):t!==null&&yi(this.value)===yi(t)&&this.matchesComparison(Fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends rE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Er(e,t)}matches(e){return sE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(n){return n.op==="and"}function iE(n){return yR(n)&&sE(n)}function yR(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function Am(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Ua(n.value);if(iE(n))return n.filters.map(e=>Am(e)).join(",");{const e=n.filters.map(t=>Am(t)).join(",");return`${n.op}(${e})`}}function oE(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(n,e):n instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&oE(l,i.filters[u]),!0):!1}(n,e):void be(19439)}function aE(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ua(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(aE).join(" ,")+"}"}(n):"Filter"}class vR extends kt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class xR extends kt{constructor(e,t){super(e,"in",t),this.keys=lE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wR extends kt{constructor(e,t){super(e,"not-in",t),this.keys=lE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class _R extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eg(t)&&Ic(t.arrayValue,this.value)}}class TR extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}}class ER extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ic(this.value.arrayValue,t)}}class bR extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function fw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new kR(n,e,t,r,i,a,l)}function bg(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Am(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ua(r)).join(",")),e.Te=t}return e.Te}function kg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dw(n.startAt,e.startAt)&&dw(n.endAt,e.endAt)}function Cm(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SR(n,e,t,r,i,a,l,u){return new Za(n,e,t,r,i,a,l,u)}function Sg(n){return new Za(n)}function pw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cE(n){return n.collectionGroup!==null}function dc(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Vt(Kt.comparator);return l.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ac(a,r))}),t.has(Kt.keyField().canonicalString())||e.Ie.push(new Ac(Kt.keyField(),r))}return e.Ie}function zr(n){const e=Ae(n);return e.Ee||(e.Ee=IR(e,dc(n))),e.Ee}function IR(n,e){if(n.limitType==="F")return fw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ac(i.field,a)});const t=n.endAt?new td(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new td(n.startAt.position,n.startAt.inclusive):null;return fw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Nm(n,e){const t=n.filters.concat([e]);return new Za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nd(n,e,t){return new Za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dd(n,e){return kg(zr(n),zr(e))&&n.limitType===e.limitType}function uE(n){return`${bg(zr(n))}|lt:${n.limitType}`}function xa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>aE(i)).join(", ")}]`),Rd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ua(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ua(i)).join(",")),`Target(${r})`}(zr(n))}; limitType=${n.limitType})`}function Vd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of dc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,p){const m=hw(l,u,p);return l.inclusive?m<=0:m<0}(r.startAt,dc(r),i)||r.endAt&&!function(l,u,p){const m=hw(l,u,p);return l.inclusive?m>=0:m>0}(r.endAt,dc(r),i))}(n,e)}function AR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hE(n){return(e,t)=>{let r=!1;for(const i of dc(n)){const a=CR(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function CR(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,l,u){const p=l.data.field(a),m=u.data.field(a);return p!==null&&m!==null?Fa(p,m):be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new ht(ve.comparator);function Ts(){return NR}const dE=new ht(ve.comparator);function rc(...n){let e=dE;for(const t of n)e=e.insert(t.key,t);return e}function fE(n){let e=dE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oo(){return fc()}function pE(){return fc()}function fc(){return new bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const PR=new ht(ve.comparator),RR=new Vt(ve.comparator);function Le(...n){let e=RR;for(const t of n)e=e.add(t);return e}const jR=new Vt(Me);function DR(){return jR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function mE(n){return{integerValue:""+n}}function VR(n,e){return lR(e)?mE(e):Ig(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function MR(n,e,t){return n instanceof rd?function(i,a){const l={fields:{[XT]:{stringValue:YT},[ZT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Tg(a)&&(a=jd(a)),a&&(l.fields[JT]=a),{mapValue:l}}(t,e):n instanceof Cc?yE(n,e):n instanceof Nc?vE(n,e):function(i,a){const l=gE(i,a),u=mw(l)+mw(i.Ae);return Im(l)&&Im(i.Ae)?mE(u):Ig(i.serializer,u)}(n,e)}function LR(n,e,t){return n instanceof Cc?yE(n,e):n instanceof Nc?vE(n,e):t}function gE(n,e){return n instanceof sd?function(r){return Im(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class rd extends Md{}class Cc extends Md{constructor(e){super(),this.elements=e}}function yE(n,e){const t=xE(e);for(const r of n.elements)t.some(i=>Qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Nc extends Md{constructor(e){super(),this.elements=e}}function vE(n,e){let t=xE(e);for(const r of n.elements)t=t.filter(i=>!Qr(i,r));return{arrayValue:{values:t}}}class sd extends Md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function mw(n){return vt(n.integerValue||n.doubleValue)}function xE(n){return Eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function OR(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Cc&&i instanceof Cc||r instanceof Nc&&i instanceof Nc?Oa(r.elements,i.elements,Qr):r instanceof sd&&i instanceof sd?Qr(r.Ae,i.Ae):r instanceof rd&&i instanceof rd}(n.transform,e.transform)}class FR{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ld{}function wE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ag(n.key,Jn.none()):new qc(n.key,n.data,Jn.none());{const t=n.data,r=_n.empty();let i=new Vt(Kt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ki(n.key,r,new Dn(i.toArray()),Jn.none())}}function UR(n,e,t){n instanceof qc?function(i,a,l){const u=i.value.clone(),p=yw(i.fieldTransforms,a,l.transformResults);u.setAll(p),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(i,a,l){if(!Mh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=yw(i.fieldTransforms,a,l.transformResults),p=a.data;p.setAll(_E(i)),p.setAll(u),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function pc(n,e,t,r){return n instanceof qc?function(a,l,u,p){if(!Mh(a.precondition,l))return u;const m=a.value.clone(),y=vw(a.fieldTransforms,p,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof ki?function(a,l,u,p){if(!Mh(a.precondition,l))return u;const m=vw(a.fieldTransforms,p,l),y=l.data;return y.setAll(_E(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,l,u){return Mh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function BR(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=gE(r.transform,i||null);a!=null&&(t===null&&(t=_n.empty()),t.set(r.field,a))}return t||null}function gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oa(r,i,(a,l)=>OR(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qc extends Ld{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends Ld{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yw(n,e,t){const r=new Map;qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,LR(l,u,t[i]))}return r}function vw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,MR(a,l,e))}return r}class Ag extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&UR(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pE();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const p=wE(l,u);p!==null&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(t,r)=>gw(t,r))&&Oa(this.baseMutations,e.baseMutations,(t,r)=>gw(t,r))}}class Cg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return PR}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Cg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function HR(n){switch(n){case Q.OK:return be(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function TE(n){if(n===void 0)return _s("GRPC error has no .code"),Q.UNKNOWN;switch(n){case bt.OK:return Q.OK;case bt.CANCELLED:return Q.CANCELLED;case bt.UNKNOWN:return Q.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Q.INTERNAL;case bt.UNAVAILABLE:return Q.UNAVAILABLE;case bt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case bt.NOT_FOUND:return Q.NOT_FOUND;case bt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case bt.ABORTED:return Q.ABORTED;case bt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case bt.DATA_LOSS:return Q.DATA_LOSS;default:return be(39323,{code:n})}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new ui([4294967295,4294967295],0);function xw(n){const e=KR().encode(n),t=new LT;return t.update(e),new Uint8Array(t.digest())}function ww(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ui([t,r],0),new ui([i,a],0)]}class Ng{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sc(`Invalid padding: ${t}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ui.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ui.fromNumber(r)));return i.compare(GR)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=xw(e),[r,i]=ww(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ng(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=xw(e),[r,i]=ww(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Od(Ie.min(),i,new ht(Me),Ts(),Le())}}class Hc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hc(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class EE{constructor(e,t){this.targetId=e,this.Ce=t}}class bE{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _w{constructor(){this.ve=0,this.Fe=Tw(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be(38017,{changeType:a})}}),new Hc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Tw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=_h(),this.He=_h(),this.Ye=new ht(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Cm(a))if(r===0){const l=new ve(a.path);this.et(t,l,nn.newNoDocument(l,Ie.min()))}else qe(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),p=u?this.ct(u,e,l):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=gi(r).toUint8Array()}catch(p){if(p instanceof QT)return La("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{u=new Ng(l,i,a)}catch(p){return La(p instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Cm(u.target)){const p=new ve(u.target.path);this.It(p).has(l)||this.Et(l,p)||this.et(l,p,nn.newNoDocument(p,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let r=Le();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new Od(e,t,this.Ye,this.je,r);return this.je=Ts(),this.Je=_h(),this.He=_h(),this.Ye=new ht(Me),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _w,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _w),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _h(){return new ht(ve.comparator)}function Tw(){return new ht(ve.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JR={and:"AND",or:"OR"};class ZR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pm(n,e){return n.useProto3Json||Rd(e)?e:{value:e}}function id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ej(n,e){return id(n,e.toTimestamp())}function $r(n){return qe(!!n,49232),Ie.fromTimestamp(function(t){const r=mi(t);return new We(r.seconds,r.nanos)}(n))}function Pg(n,e){return Rm(n,e).canonicalString()}function Rm(n,e){const t=function(i){return new et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function SE(n){const e=et.fromString(n);return qe(PE(e),10190,{key:e.toString()}),e}function jm(n,e){return Pg(n.databaseId,e.path)}function qp(n,e){const t=SE(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(AE(t))}function IE(n,e){return Pg(n.databaseId,e)}function tj(n){const e=SE(n);return e.length===4?et.emptyPath():AE(e)}function Dm(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AE(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ew(n,e,t){return{name:jm(n,e),fields:t.value.mapValue.fields}}function nj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(m,y){return m.useProto3Json?(qe(y===void 0||typeof y=="string",58123),Gt.fromBase64String(y||"")):(qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Gt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const y=m.code===void 0?Q.UNKNOWN:TE(m.code);return new ce(y,m.message||"")}(l);t=new bE(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qp(n,r.document.name),a=$r(r.document.updateTime),l=r.document.createTime?$r(r.document.createTime):Ie.min(),u=new _n({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(i,a,l,u),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Lh(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qp(n,r.document),a=r.readTime?$r(r.readTime):Ie.min(),l=nn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Lh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qp(n,r.document),a=r.removedTargetIds||[];t=new Lh([],a,i,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new qR(i,a),u=r.targetId;t=new EE(u,l)}}return t}function rj(n,e){let t;if(e instanceof qc)t={update:Ew(n,e.key,e.value)};else if(e instanceof Ag)t={delete:jm(n,e.key)};else if(e instanceof ki)t={update:Ew(n,e.key,e.data),updateMask:dj(e.fieldMask)};else{if(!(e instanceof zR))return be(16599,{Vt:e.type});t={verify:jm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof rd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sd)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:ej(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)}(n,e.precondition)),t}function sj(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?$r(i.updateTime):$r(a);return l.isEqual(Ie.min())&&(l=$r(a)),new FR(l,i.transformResults||[])}(t,e))):[]}function ij(n,e){return{documents:[IE(n,e.path)]}}function oj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=IE(n,i);const a=function(m){if(m.length!==0)return NE(Er.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(y=>function(T){return{field:wa(T.field),direction:cj(T.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Pm(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:i}}function aj(n){let e=tj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qe(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const T=CE(w);return T instanceof Er&&iE(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(w){return w.map(T=>function(C){return new Ac(_a(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let u=null;t.limit&&(u=function(w){let T;return T=typeof w=="object"?w.value:w,Rd(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,b=w.values||[];return new td(b,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,b=w.values||[];return new td(b,T)}(t.endAt)),SR(e,i,l,a,u,"F",p,m)}function lj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_a(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_a(t.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(n):n.fieldFilter!==void 0?function(t){return kt.create(_a(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(r=>CE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(n):be(30097,{filter:n})}function cj(n){return YR[n]}function uj(n){return XR[n]}function hj(n){return JR[n]}function wa(n){return{fieldPath:n.canonicalString()}}function _a(n){return Kt.fromServerFormat(n.fieldPath)}function NE(n){return n instanceof kt?function(t){if(t.op==="=="){if(uw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(cw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(cw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:uj(t.op),value:t.value}}}(n):n instanceof Er?function(t){const r=t.getFilters().map(i=>NE(i));return r.length===1?r[0]:{compositeFilter:{op:hj(t.op),filters:r}}}(n):be(54877,{filter:n})}function dj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,t,r,i,a=Ie.min(),l=Ie.min(),u=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=p}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.yt=e}}function pj(n){const e=aj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.Cn=new gj}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(pi.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class gj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(et.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(RE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ba(0)}static cr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="LruGarbageCollector",yj=1048576;function Sw([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class vj{constructor(e){this.Ir=e,this.buffer=new Vt(Sw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Sw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ja(t)?he(kw,"Ignoring IndexedDB error during garbage collection: ",t):await Xa(t)}await this.Vr(3e5)})}}class wj{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Pd.ce);const r=new vj(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(bw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,l,u,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,u=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),va()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(p-u)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function _j(n,e){return new wj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&pc(r.mutation,i,Dn.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const i=oo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=rc();return a.forEach((u,p)=>{l=l.insert(u,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Ts();const l=fc(),u=function(){return fc()}();return t.forEach((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof ki)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),pc(y.mutation,m,y.mutation.getFieldMask(),We.now())):l.set(m.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,y)=>l.set(m,y)),t.forEach((m,y)=>u.set(m,new Ej(y,l.get(m)??null))),u))}recalculateAndSaveOverlays(e,t){const r=fc();let i=new ht((l,u)=>l-u),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=r.get(p)||Dn.empty();y=u.applyToLocalView(m,y),r.set(p,y);const w=(i.get(u.batchId)||Le()).add(p);i=i.insert(u.batchId,w)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const p=u.getNext(),m=p.key,y=p.value,w=pE();y.forEach(T=>{if(!a.has(T)){const b=wE(t.get(T),r.get(T));b!==null&&w.set(T,b),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):X.resolve(oo());let u=bc,p=a;return l.next(m=>X.forEach(m,(y,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),a.get(y)?X.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{p=p.insert(y,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,Le())).next(y=>({batchId:u,changes:fE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=rc();return this.indexManager.getCollectionParents(e,a).next(u=>X.forEach(u,p=>{const m=function(w,T){return new Za(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(y=>{y.forEach((w,T)=>{l=l.insert(w,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((p,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,nn.newInvalidDocument(y)))});let u=rc();return l.forEach((p,m)=>{const y=a.get(p);y!==void 0&&pc(y.mutation,m,Dn.empty(),We.now()),Vd(t,m)&&(u=u.insert(p,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:pj(i.bundledQuery),readTime:$r(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.overlays=new ht(ve.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oo();return X.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=oo(),a=t.length+1,l=new ve(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const p=u.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ht((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=oo(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=oo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>u.set(m,y)),!(u.size()>=i)););return X.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new WR(t,r));let a=this.qr.get(t);a===void 0&&(a=Le(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ut(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Ut(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ve(new et([])),r=new Ut(t,e),i=new Ut(t,e+1),a=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new et([])),r=new Ut(t,e),i=new Ut(t,e+1);let a=Le();return this.Ur.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ut(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $R(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Ut(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?_g:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(Me);return t.forEach(i=>{const a=new Ut(i,0),l=new Ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{r=r.add(u.Yr)})}),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Ut(new ve(a),0);let u=new Vt(Me);return this.Zr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(p.Yr)),!0)},l),X.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(t.mutations,i=>{const a=new Ut(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Ut(t,0),i=this.Zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.ri=e,this.docs=function(){return new ht(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let r=Ts();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nn.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ts();const l=t.path,u=new ve(l.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(u);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||sR(rR(y),r)<=0||(i.has(y.key)||Vd(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,i){be(9500)}ii(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Nj(this)}getSize(e){return X.resolve(this.size)}}class Nj extends Tj{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.persistence=e,this.si=new bo(t=>bg(t),kg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Rg,this.targetCount=0,this.ai=Ba.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ba(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),X.waitFor(a).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pd(0),this.li=!1,this.li=!0,this.hi=new Ij,this.referenceDelegate=e(this),this.Pi=new Pj(this),this.indexManager=new mj,this.remoteDocumentCache=function(i){return new Cj(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new fj(t),this.Ii=new kj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Aj(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new Rj(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return X.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class Rj extends oR{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ri=new Rg,this.Vi=null}static mi(e){return new jg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,r=>{const i=ve.fromPath(r);return this.gi(e,i).next(a=>{a||t.removeEntry(i,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class od{constructor(e,t){this.persistence=e,this.pi=new bo(r=>cR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_j(this,t)}static mi(e,t){return new od(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return X.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(r++,a.removeEntry(l,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dh(e.data.value)),t}br(e,t,r){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Le(),i=Le();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Dg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return oC()?8:aR(on())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new jj;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(va()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(va()<=Ve.DEBUG&&he("QueryEngine","Query:",xa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(va()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):X.resolve())}ys(e,t){if(pw(t))return X.resolve(null);let r=zr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nd(t,null,"F"),r=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Le(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.Ds(t,u);return this.Cs(t,m,l,p.readTime)?this.ys(e,nd(t,null,"F")):this.vs(e,m,t,p)}))})))}ws(e,t,r,i){return pw(t)||i.isEqual(Ie.min())?X.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,i)?X.resolve(null):(va()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(t)),this.vs(e,l,t,nR(i,bc)).next(u=>u))})}Ds(e,t){let r=new Vt(hE(e));return t.forEach((i,a)=>{Vd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return va()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",xa(t)),this.ps.getDocumentsMatchingQuery(e,t,pi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="LocalStore",Vj=3e8;class Mj{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ht(Me),this.xs=new bo(a=>bg(a),kg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Lj(n,e,t,r){return new Mj(n,e,t,r)}async function DE(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let p=Le();for(const m of i){l.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of a){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(r,p).next(m=>({Ls:m,removedBatchIds:l,addedBatchIds:u}))})})}function Oj(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,p,m,y){const w=m.batch,T=w.keys();let b=X.resolve();return T.forEach(C=>{b=b.next(()=>y.getEntry(p,C)).next(k=>{const I=m.docVersions.get(C);qe(I!==null,48541),k.version.compareTo(I)<0&&(w.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),y.addEntry(k)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(p,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Le();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(p=p.add(u.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function VE(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Fj(n,e){const t=Ae(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((y,w)=>{const T=i.get(w);if(!T)return;u.push(t.Pi.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,y.addedDocuments,w)));let b=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(Gt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),i=i.insert(w,b),function(k,I,L){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Vj?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,b,y)&&u.push(t.Pi.updateTargetData(a,b))});let p=Ts(),m=Le();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),u.push(Uj(a,l,e.documentUpdates).next(y=>{p=y.ks,m=y.qs})),!r.isEqual(Ie.min())){const y=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(y)}return X.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(t.Ms=i,a))}function Uj(n,e,t){let r=Le(),i=Le();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ts();return t.forEach((u,p)=>{const m=a.get(u);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(u,p.readTime),l=l.insert(u,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),l=l.insert(u,p)):he(Vg,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",p.version)}),{ks:l,qs:i}})}function Bj(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_g),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zj(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(a=>a?(i=a,X.resolve(i)):t.Pi.allocateTargetId(r).next(l=>(i=new ii(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Vm(n,e,t){const r=Ae(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ja(l))throw l;he(Vg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Iw(n,e,t){const r=Ae(n);let i=Ie.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",l=>function(p,m,y){const w=Ae(p),T=w.xs.get(y);return T!==void 0?X.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,y)}(r,l,zr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(p=>{a=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Ie.min(),t?a:Le())).next(u=>($j(r,AR(e),u),{documents:u,Qs:a})))}function $j(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class Aw{constructor(){this.activeTargetIds=DR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wj{constructor(){this.Mo=new Aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Aw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="ConnectivityMonitor";class Nw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Cw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Mm(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RestConnection",Hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Zh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const l=Mm(),u=this.zo(e,t.toUriEncodedString());he(Hp,`Sending RPC '${e}' ${l}:`,u,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:m}=new URL(u),y=Ka(m);return this.Jo(e,u,p,r,y).then(w=>(he(Hp,`Received RPC '${e}' ${l}: `,w),w),w=>{throw La(Hp,`RPC '${e}' ${l} failed with error: `,w,"url: ",u,"request:",r),w})}Ho(e,t,r,i,a,l){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const r=Hj[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Qj extends Kj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Mm();return new Promise((u,p)=>{const m=new OT;m.setWithCredentials(!0),m.listenOnce(FT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case jh.NO_ERROR:const w=m.getResponseJson();he(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),u(w);break;case jh.TIMEOUT:he(Zt,`RPC '${e}' ${l} timed out`),p(new ce(Q.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const T=m.getStatus();if(he(Zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const k=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(U)>=0?U:Q.UNKNOWN}(C.status);p(new ce(k,C.message))}else p(new ce(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ce(Q.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(Zt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(i);he(Zt,`RPC '${e}' ${l} sending request:`,i),m.send(t,"POST",y,r,15)})}T_(e,t,r){const i=Mm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zT(),u=BT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=a.join("");he(Zt,`Creating RPC '${e}' stream ${i}: ${y}`,p);const w=l.createWebChannel(y,p);this.I_(w);let T=!1,b=!1;const C=new Gj({Yo:I=>{b?he(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(T||(he(Zt,`Opening RPC '${e}' stream ${i} transport.`),w.open(),T=!0),he(Zt,`RPC '${e}' stream ${i} sending:`,I),w.send(I))},Zo:()=>w.close()}),k=(I,L,U)=>{I.listen(L,H=>{try{U(H)}catch(J){setTimeout(()=>{throw J},0)}})};return k(w,nc.EventType.OPEN,()=>{b||(he(Zt,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),k(w,nc.EventType.CLOSE,()=>{b||(b=!0,he(Zt,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(w))}),k(w,nc.EventType.ERROR,I=>{b||(b=!0,La(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new ce(Q.UNAVAILABLE,"The operation could not be completed")))}),k(w,nc.EventType.MESSAGE,I=>{var L;if(!b){const U=I.data[0];qe(!!U,16349);const H=U,J=(H==null?void 0:H.error)||((L=H[0])==null?void 0:L.error);if(J){he(Zt,`RPC '${e}' stream ${i} received error:`,J);const ee=J.status;let ae=function(N){const M=bt[N];if(M!==void 0)return TE(M)}(ee),D=J.message;ae===void 0&&(ae=Q.INTERNAL,D="Unknown error status: "+ee+" with message "+J.message),b=!0,C.a_(new ce(ae,D)),w.close()}else he(Zt,`RPC '${e}' stream ${i} received:`,U),C.u_(U)}}),k(u,UT.STAT_EVENT,I=>{I.stat===bm.PROXY?he(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===bm.NOPROXY&&he(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){return new ZR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="PersistentStream";class LE{constructor(e,t,r,i,a,l,u,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ME(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(_s(t.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new ce(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(Pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(Pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yj extends LE{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=nj(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?$r(l.readTime):Ie.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Dm(this.serializer),t.addTarget=function(a,l){let u;const p=l.target;if(u=Cm(p)?{documents:ij(a,p)}:{query:oj(a,p).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=kE(a,l.resumeToken);const m=Pm(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=id(a,l.snapshotVersion.toTimestamp());const m=Pm(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const r=lj(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Dm(this.serializer),t.removeTarget=e,this.q_(t)}}class Xj extends LE{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=sj(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Dm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rj(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{}class Zj extends Jj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,Rm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Q.UNKNOWN,a.toString())})}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,Rm(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Q.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class tD{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{ko(this)&&(he(yo,"Restarting streams for network reachability change."),await async function(p){const m=Ae(p);m.Ea.add(4),await Kc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Ud(m)}(this))})}),this.Ra=new eD(r,i)}}async function Ud(n){if(ko(n))for(const e of n.da)await e(!0)}async function Kc(n){for(const e of n.da)await e(!1)}function OE(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fg(t)?Og(t):el(t).O_()&&Lg(t,e))}function Mg(n,e){const t=Ae(n),r=el(t);t.Ia.delete(e),r.O_()&&FE(t,e),t.Ia.size===0&&(r.O_()?r.L_():ko(t)&&t.Ra.set("Unknown"))}function Lg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).Y_(e)}function FE(n,e){n.Va.Ue(e),el(n).Z_(e)}function Og(n){n.Va=new QR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Ra.ua()}function Fg(n){return ko(n)&&!el(n).x_()&&n.Ia.size>0}function ko(n){return Ae(n).Ea.size===0}function UE(n){n.Va=void 0}async function nD(n){n.Ra.set("Online")}async function rD(n){n.Ia.forEach((e,t)=>{Lg(n,e)})}async function sD(n,e){UE(n),Fg(n)?(n.Ra.ha(e),Og(n)):n.Ra.set("Unknown")}async function iD(n,e,t){if(n.Ra.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(r){he(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ad(n,r)}else if(e instanceof Lh?n.Va.Ze(e):e instanceof EE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await VE(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(p.resumeToken,l))}}),u.targetMismatches.forEach((p,m)=>{const y=a.Ia.get(p);if(!y)return;a.Ia.set(p,y.withResumeToken(Gt.EMPTY_BYTE_STRING,y.snapshotVersion)),FE(a,p);const w=new ii(y.target,p,m,y.sequenceNumber);Lg(a,w)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){he(yo,"Failed to raise snapshot:",r),await ad(n,r)}}async function ad(n,e,t){if(!Ja(e))throw e;n.Ea.add(1),await Kc(n),n.Ra.set("Offline"),t||(t=()=>VE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(yo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ud(n)})}function BE(n,e){return e().catch(t=>ad(n,t,e))}async function Bd(n){const e=Ae(n),t=vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_g;for(;oD(e);)try{const i=await Bj(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,aD(e,i)}catch(i){await ad(e,i)}zE(e)&&$E(e)}function oD(n){return ko(n)&&n.Ta.length<10}function aD(n,e){n.Ta.push(e);const t=vi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function zE(n){return ko(n)&&!vi(n).x_()&&n.Ta.length>0}function $E(n){vi(n).start()}async function lD(n){vi(n).ra()}async function cD(n){const e=vi(n);for(const t of n.Ta)e.ea(t.mutations)}async function uD(n,e,t){const r=n.Ta.shift(),i=Cg.from(r,e,t);await BE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Bd(n)}async function hD(n,e){e&&vi(n).X_&&await async function(r,i){if(function(l){return HR(l)&&l!==Q.ABORTED}(i.code)){const a=r.Ta.shift();vi(r).B_(),await BE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Bd(r)}}(n,e),zE(n)&&$E(n)}async function Rw(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),he(yo,"RemoteStore received new credentials");const r=ko(t);t.Ea.add(3),await Kc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ud(t)}async function dD(n,e){const t=Ae(n);e?(t.Ea.delete(2),await Ud(t)):e||(t.Ea.add(2),await Kc(t),t.Ra.set("Unknown"))}function el(n){return n.ma||(n.ma=function(t,r,i){const a=Ae(t);return a.sa(),new Yj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:nD.bind(null,n),t_:rD.bind(null,n),r_:sD.bind(null,n),H_:iD.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Fg(n)?Og(n):n.Ra.set("Unknown")):(await n.ma.stop(),UE(n))})),n.ma}function vi(n){return n.fa||(n.fa=function(t,r,i){const a=Ae(t);return a.sa(),new Xj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:lD.bind(null,n),r_:hD.bind(null,n),ta:cD.bind(null,n),na:uD.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Bd(n)):(await n.fa.stop(),n.Ta.length>0&&(he(yo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Ug(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(n,e){if(_s("AsyncQueue",`${e}: ${n}`),Ja(n))return new ce(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(e){return new Na(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=rc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.ga=new ht(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class za{constructor(e,t,r,i,a,l,u,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new za(e,t,Na.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class pD{constructor(){this.queries=Dw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ae(t),a=i.queries;i.queries=Dw(),a.forEach((l,u)=>{for(const p of u.Sa)p.onError(r)})})(this,new ce(Q.ABORTED,"Firestore shutting down"))}}function Dw(){return new bo(n=>uE(n),Dd)}async function WE(n,e){const t=Ae(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new fD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Bg(l,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&zg(t)}async function qE(n,e){const t=Ae(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function mD(n,e){const t=Ae(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&zg(t)}function gD(n,e,t){const r=Ae(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function zg(n){n.Ca.forEach(e=>{e.next()})}var Lm,Vw;(Vw=Lm||(Lm={})).Ma="default",Vw.Cache="cache";class HE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.key=e}}class GE{constructor(e){this.key=e}}class yD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=hE(e),this.tu=new Na(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new jw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{const T=i.get(y),b=Vd(this.query,w)?w:null,C=!!T&&this.mutatedKeys.has(T.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let I=!1;T&&b?T.data.isEqual(b.data)?C!==k&&(r.track({type:3,doc:b}),I=!0):this.su(T,b)||(r.track({type:2,doc:b}),I=!0,(p&&this.eu(b,p)>0||m&&this.eu(b,m)<0)&&(u=!0)):!T&&b?(r.track({type:0,doc:b}),I=!0):T&&!b&&(r.track({type:1,doc:T}),I=!0,(p||m)&&(u=!0)),I&&(b?(l=l.add(b),a=k?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((y,w)=>function(b,C){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:I})}};return k(b)-k(C)}(y.type,w.type)||this.eu(y.doc,w.doc)),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,m=p!==this.Za;return this.Za=p,l.length!==0||m?{snapshot:new za(this.query,e.tu,a,l,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new GE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new KE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $g="SyncEngine";class vD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xD{constructor(e){this.key=e,this.hu=!1}}class wD{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new bo(u=>uE(u),Dd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ve.comparator),this.Au=new Map,this.Ru=new Rg,this.Vu={},this.mu=new Map,this.fu=Ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _D(n,e,t=!0){const r=eb(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await QE(r,e,t,!0),i}async function TD(n,e){const t=eb(n);await QE(t,e,!0,!1)}async function QE(n,e,t,r){const i=await zj(n.localStore,zr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await ED(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&OE(n.remoteStore,i),u}async function ED(n,e,t,r,i){n.pu=(w,T,b)=>async function(k,I,L,U){let H=I.view.ru(L);H.Cs&&(H=await Iw(k.localStore,I.query,!1).then(({documents:D})=>I.view.ru(D,H)));const J=U&&U.targetChanges.get(I.targetId),ee=U&&U.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(H,k.isPrimaryClient,J,ee);return Lw(k,I.targetId,ae.au),ae.snapshot}(n,w,T,b);const a=await Iw(n.localStore,e,!0),l=new yD(e,a.Qs),u=l.ru(a.documents),p=Hc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=l.applyChanges(u,n.isPrimaryClient,p);Lw(n,t,m.au);const y=new vD(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function bD(n,e,t){const r=Ae(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(l=>!Dd(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Mg(r.remoteStore,i.targetId),Om(r,i.targetId)}).catch(Xa)):(Om(r,i.targetId),await Vm(r.localStore,i.targetId,!0))}async function kD(n,e){const t=Ae(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Mg(t.remoteStore,r.targetId))}async function SD(n,e,t){const r=jD(n);try{const i=await function(l,u){const p=Ae(l),m=We.now(),y=u.reduce((b,C)=>b.add(C.key),Le());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=Ts(),k=Le();return p.Ns.getEntries(b,y).next(I=>{C=I,C.forEach((L,U)=>{U.isValidDocument()||(k=k.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,C)).next(I=>{w=I;const L=[];for(const U of u){const H=BR(U,w.get(U.key).overlayedDocument);H!=null&&L.push(new ki(U.key,H,nE(H.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,L,u)}).next(I=>{T=I;const L=I.applyToLocalDocumentSet(w,k);return p.documentOverlayCache.saveOverlays(b,I.batchId,L)})}).then(()=>({batchId:T.batchId,changes:fE(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,p){let m=l.Vu[l.currentUser.toKey()];m||(m=new ht(Me)),m=m.insert(u,p),l.Vu[l.currentUser.toKey()]=m}(r,i.batchId,t),await Gc(r,i.changes),await Bd(r.remoteStore)}catch(i){const a=Bg(i,"Failed to persist write");t.reject(a)}}async function YE(n,e){const t=Ae(n);try{const r=await Fj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?qe(l.hu,14607):i.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))}),await Gc(t,r,e)}catch(r){await Xa(r)}}function Mw(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const p=Ae(l);p.onlineState=u;let m=!1;p.queries.forEach((y,w)=>{for(const T of w.Sa)T.va(u)&&(m=!0)}),m&&zg(p)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ID(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ht(ve.comparator);l=l.insert(a,nn.newNoDocument(a,Ie.min()));const u=Le().add(a),p=new Od(Ie.min(),new Map,new ht(Me),l,u);await YE(r,p),r.du=r.du.remove(a),r.Au.delete(e),Wg(r)}else await Vm(r.localStore,e,!1).then(()=>Om(r,e,t)).catch(Xa)}async function AD(n,e){const t=Ae(n),r=e.batch.batchId;try{const i=await Oj(t.localStore,e);JE(t,r,null),XE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(t,i)}catch(i){await Xa(i)}}async function CD(n,e,t){const r=Ae(n);try{const i=await function(l,u){const p=Ae(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,u).next(w=>(qe(w!==null,37113),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(r.localStore,e);JE(r,e,t),XE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gc(r,i)}catch(i){await Xa(i)}}function XE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function JE(n,e,t){const r=Ae(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Om(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||ZE(n,r)})}function ZE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Mg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Wg(n))}function Lw(n,e,t){for(const r of t)r instanceof KE?(n.Ru.addReference(r.key,e),ND(n,r)):r instanceof GE?(he($g,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||ZE(n,r.key)):be(19791,{wu:r})}function ND(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he($g,"New document in limbo: "+t),n.Eu.add(r),Wg(n))}function Wg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(et.fromString(e)),r=n.fu.next();n.Au.set(r,new xD(t)),n.du=n.du.insert(t,r),OE(n.remoteStore,new ii(zr(Sg(t.path)),r,"TargetPurposeLimboResolution",Pd.ce))}}async function Gc(n,e,t){const r=Ae(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,p)=>{l.push(r.pu(p,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){i.push(m);const w=Dg.As(p.targetId,m);a.push(w)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(p,m){const y=Ae(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(m,T=>X.forEach(T.Es,b=>y.persistence.referenceDelegate.addReference(w,T.targetId,b)).next(()=>X.forEach(T.ds,b=>y.persistence.referenceDelegate.removeReference(w,T.targetId,b)))))}catch(w){if(!Ja(w))throw w;he(Vg,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const b=y.Ms.get(T),C=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(T,k)}}}(r.localStore,a))}async function PD(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){he($g,"User change. New user:",e.toKey());const r=await DE(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(p=>{p.reject(new ce(Q.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(t,r.Ls)}}function RD(n,e){const t=Ae(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let i=Le();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function eb(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ID.bind(null,e),e.Pu.H_=mD.bind(null,e.eventManager),e.Pu.yu=gD.bind(null,e.eventManager),e}function jD(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Lj(this.persistence,new Dj,e.initialUser,this.serializer)}Cu(e){return new jE(jg.mi,this.serializer)}Du(e){return new Wj}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class DD extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qe(this.persistence.referenceDelegate instanceof od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xj(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new jE(r=>od.mi(r,t),this.serializer)}}class Fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pD}()}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),r=function(a){return new Qj(a)}(e.databaseInfo);return function(a,l,u,p){return new Zj(a,l,u,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new tD(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Mw(this.syncEngine,t,0),function(){return Nw.v()?new Nw:new qj}())}createSyncEngine(e,t){return function(i,a,l,u,p,m,y){const w=new wD(i,a,l,u,p,m);return y&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ae(i);he(yo,"RemoteStore shutting down."),a.Ea.add(5),await Kc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class VD{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(xi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(xi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Bg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gp(n,e){n.asyncQueue.verifyOperationInProgress(),he(xi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await MD(n);he(xi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Rw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Rw(e.remoteStore,i)),n._onlineComponents=e}async function MD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(xi,"Using user provided OfflineComponentProvider");try{await Gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;La("Error using user provided cache. Falling back to memory cache: "+t),await Gp(n,new ld)}}else he(xi,"Using default OfflineComponentProvider"),await Gp(n,new DD(void 0));return n._offlineComponents}async function nb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(xi,"Using user provided OnlineComponentProvider"),await Ow(n,n._uninitializedComponentsProvider._online)):(he(xi,"Using default OnlineComponentProvider"),await Ow(n,new Fm))),n._onlineComponents}function LD(n){return nb(n).then(e=>e.syncEngine)}async function rb(n){const e=await nb(n),t=e.eventManager;return t.onListen=_D.bind(null,e.syncEngine),t.onUnlisten=bD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kD.bind(null,e.syncEngine),t}function OD(n,e,t={}){const r=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,p,m){const y=new tb({next:T=>{y.Nu(),l.enqueueAndForget(()=>qE(a,w));const b=T.docs.has(u);!b&&T.fromCache?m.reject(new ce(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&p&&p.source==="server"?m.reject(new ce(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new HE(Sg(u.path),y,{includeMetadataChanges:!0,qa:!0});return WE(a,w)}(await rb(n),n.asyncQueue,e,t,r)),r.promise}function FD(n,e,t={}){const r=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,p,m){const y=new tb({next:T=>{y.Nu(),l.enqueueAndForget(()=>qE(a,w)),T.fromCache&&p.source==="server"?m.reject(new ce(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new HE(u,y,{includeMetadataChanges:!0,qa:!0});return WE(a,w)}(await rb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",Uw=!0;class Bw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=Uw}else this.host=e.host,this.ssl=e.ssl??Uw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yj)throw new ce(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WP;switch(r.type){case"firstParty":return new GP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Fw.get(t);r&&(he("ComponentProvider","Removing Datastore"),Fw.delete(t),r.terminate())}(this),Promise.resolve()}}function UD(n,e,t,r={}){var m;n=Tr(n,zd);const i=Ka(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(K1(`https://${u}`),G1("Firestore",!0)),a.host!==ib&&a.host!==u&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:u,ssl:i,emulatorOptions:r};if(!fi(p,l)&&(n._setSettings(p),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=tn.MOCK_USER;else{y=JA(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ce(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new tn(T)}n._authCredentials=new qP(new WT(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Wc(t,xt._jsonSchema))return new xt(e,r||null,new ve(et.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:St("string",xt._jsonSchemaVersion),referencePath:St("string")};class hi extends Si{constructor(e,t,r){super(e,t,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ve(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Qp(n,e,...t){if(n=wt(n),qT("collection","path",e),n instanceof zd){const r=et.fromString(e,...t);return ew(r),new hi(n,null,r)}{if(!(n instanceof xt||n instanceof hi))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return ew(r),new hi(n.firestore,null,r)}}function oi(n,e,...t){if(n=wt(n),arguments.length===1&&(e=wg.newId()),qT("doc","path",e),n instanceof zd){const r=et.fromString(e,...t);return Zx(r),new xt(n,null,new ve(r))}{if(!(n instanceof xt||n instanceof hi))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return Zx(r),new xt(n.firestore,n instanceof hi?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="AsyncQueue";class $w{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ME(this,"async_queue_retry"),this._c=()=>{const r=Kp();r&&he(zw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ja(e))throw e;he(zw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",Ww(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Ug.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&be(47125,{Pc:Ww(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ww(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class So extends zd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $w,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function BD(n,e){const t=typeof n=="object"?n:lg(),r=typeof n=="string"?n:Zh,i=Eo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=YA("firestore");a&&UD(i,...a)}return i}function qg(n){if(n._terminated)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zD(n),n._firestoreClient}function zD(n){var r,i,a;const e=n._freezeSettings(),t=function(u,p,m,y){return new dR(u,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,sb(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new VD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(u){const p=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Gt.fromBase64String(e))}catch(t){throw new ce(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:St("string",Yn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(Wc(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:St("string",Wr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wc(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new qr(e.vectorValues);throw new ce(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:St("string",qr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^__.*__$/;class WD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}}class ob{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ab(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:n})}}class Kg{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ab(this.Ac)&&$D.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fd(e)}Cc(e,t,r,i=!1){return new Kg({Ac:e,methodName:t,Dc:r,path:Kt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wd(n){const e=n._freezeSettings(),t=Fd(n._databaseId);return new qD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lb(n,e,t,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Gg("Data must be an object, but it was:",l,r);const u=cb(r,l);let p,m;if(a.merge)p=new Dn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=Um(e,w,t);if(!l.contains(T))throw new ce(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hb(y,T)||y.push(T)}p=new Dn(y),m=l.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=l.fieldTransforms;return new WD(new _n(u),p,m)}class qd extends Hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function HD(n,e,t,r){const i=n.Cc(1,e,t);Gg("Data must be an object, but it was:",i,r);const a=[],l=_n.empty();bi(r,(p,m)=>{const y=Qg(e,p,t);m=wt(m);const w=i.yc(y);if(m instanceof qd)a.push(y);else{const T=Qc(m,w);T!=null&&(a.push(y),l.set(y,T))}});const u=new Dn(a);return new ob(l,u,i.fieldTransforms)}function KD(n,e,t,r,i,a){const l=n.Cc(1,e,t),u=[Um(e,r,t)],p=[i];if(a.length%2!=0)throw new ce(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)u.push(Um(e,a[T])),p.push(a[T+1]);const m=[],y=_n.empty();for(let T=u.length-1;T>=0;--T)if(!hb(m,u[T])){const b=u[T];let C=p[T];C=wt(C);const k=l.yc(b);if(C instanceof qd)m.push(b);else{const I=Qc(C,k);I!=null&&(m.push(b),y.set(b,I))}}const w=new Dn(m);return new ob(y,w,l.fieldTransforms)}function GD(n,e,t,r=!1){return Qc(t,n.Cc(r?4:3,e))}function Qc(n,e){if(ub(n=wt(n)))return Gg("Unsupported field value:",e,n),cb(n,e);if(n instanceof Hg)return function(r,i){if(!ab(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let p=Qc(u,i.wc(l));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=We.fromDate(r);return{timestampValue:id(i.serializer,a)}}if(r instanceof We){const a=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:id(i.serializer,a)}}if(r instanceof Wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:kE(i.serializer,r._byteString)};if(r instanceof xt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Pg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return function(l,u){return{mapValue:{fields:{[eE]:{stringValue:tE},[ed]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ig(u.serializer,m)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Nd(r)}`)}(n,e)}function cb(n,e){const t={};return GT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(n,(r,i)=>{const a=Qc(i,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function ub(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof Wr||n instanceof Yn||n instanceof xt||n instanceof Hg||n instanceof qr)}function Gg(n,e,t){if(!ub(t)||!HT(t)){const r=Nd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Um(n,e,t){if((e=wt(e))instanceof $d)return e._internalPath;if(typeof e=="string")return Qg(n,e);throw cd("Field path arguments must be of type string or ",n,!1,void 0,t)}const QD=new RegExp("[~\\*/\\[\\]]");function Qg(n,e,t){if(e.search(QD)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $d(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cd(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(a||l)&&(p+=" (found",a&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new ce(Q.INVALID_ARGUMENT,u+n+p)}function hb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YD extends db{data(){return super.data()}}function Hd(n,e){return typeof e=="string"?Qg(n,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class Xg extends Yg{}function qw(n,e,...t){let r=[];e instanceof Yg&&r.push(e),r=r.concat(t),function(a){const l=a.filter(p=>p instanceof Jg).length,u=a.filter(p=>p instanceof Kd).length;if(l>1||l>0&&u>0)throw new ce(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Kd extends Xg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Kd(e,t,r)}_apply(e){const t=this._parse(e);return fb(e._query,t),new Si(e.firestore,e.converter,Nm(e._query,t))}_parse(e){const t=Wd(e.firestore);return function(a,l,u,p,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ce(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Gw(w,y);const C=[];for(const k of w)C.push(Kw(p,a,k));T={arrayValue:{values:C}}}else T=Kw(p,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Gw(w,y),T=GD(u,l,w,y==="in"||y==="not-in");return kt.create(m,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Eh(n,e,t){const r=e,i=Hd("where",n);return Kd._create(i,r,t)}class Jg extends Yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const p of u)fb(l,p),l=Nm(l,p)}(e._query,t),new Si(e.firestore,e.converter,Nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends Xg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zg(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new ce(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(a,l)}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Za(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Hw(n,e="asc"){const t=e,r=Hd("orderBy",n);return Zg._create(r,t)}class ey extends Xg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ey(e,t,r)}_apply(e){return new Si(e.firestore,e.converter,nd(e._query,this._limit,this._limitType))}}function JD(n){return tR("limit",n),ey._create("limit",n,"F")}function Kw(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new ce(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&t.indexOf("/")!==-1)throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(et.fromString(t));if(!ve.isDocumentKey(r))throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lw(n,new ve(r))}if(t instanceof xt)return lw(n,t._key);throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(t)}.`)}function Gw(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fb(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZD{convertValue(e,t="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bi(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[ed].arrayValue)==null?void 0:i.values)==null?void 0:a.map(l=>vt(l.doubleValue));return new qr(t)}convertGeoPoint(e){return new Wr(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const t=mi(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=et.fromString(e);qe(PE(r),9688,{name:e});const i=new Sc(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return i.isEqual(t)||_s(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends db{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Hd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=co._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:St("string",co._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Oh extends co{data(e={}){return super.data(e)}}class Pa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Oh(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const p=new Oh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ic(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const p=new Oh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ic(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:e4(u.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){n=Tr(n,xt);const e=Tr(n.firestore,So);return OD(qg(e),n._key).then(t=>s4(e,n,t))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:St("string",Pa._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class mb extends ZD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function Qw(n){n=Tr(n,Si);const e=Tr(n.firestore,So),t=qg(e),r=new mb(e);return XD(n._query),FD(t,n._query).then(i=>new Pa(e,r,n,i))}function bh(n,e,t){n=Tr(n,xt);const r=Tr(n.firestore,So),i=pb(n.converter,e,t);return Gd(r,[lb(Wd(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Jn.none())])}function t4(n,e,t,...r){n=Tr(n,xt);const i=Tr(n.firestore,So),a=Wd(i);let l;return l=typeof(e=wt(e))=="string"||e instanceof $d?KD(a,"updateDoc",n._key,e,t,r):HD(a,"updateDoc",n._key,e),Gd(i,[l.toMutation(n._key,Jn.exists(!0))])}function n4(n){return Gd(Tr(n.firestore,So),[new Ag(n._key,Jn.none())])}function r4(n,e){const t=Tr(n.firestore,So),r=oi(n),i=pb(n.converter,e);return Gd(t,[lb(Wd(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function Gd(n,e){return function(r,i){const a=new ms;return r.asyncQueue.enqueueAndForget(async()=>SD(await LD(r),i,a)),a.promise}(qg(n),e)}function s4(n,e,t){const r=t.docs.get(e._key),i=new mb(n);return new co(n,i,e._key,r,new ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ya=i})(Ga),Gr(new _r("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new So(new HP(r.getProvider("auth-internal")),new QP(l,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ce(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(m.options.projectId,y)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Xn(Qx,Yx,e),Xn(Qx,Yx,"esm2020")})();var i4="firebase",o4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(i4,o4,"app");const gb="@firebase/installations",ty="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=1e4,vb=`w:${ty}`,xb="FIS_v2",a4="https://firebaseinstallations.googleapis.com/v1",l4=60*60*1e3,c4="installations",u4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new To(c4,u4,h4);function wb(n){return n instanceof br&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b({projectId:n}){return`${a4}/projects/${n}/installations`}function Tb(n){return{token:n.token,requestStatus:2,expiresIn:f4(n.expiresIn),creationTime:Date.now()}}async function Eb(n,e){const r=(await e.json()).error;return vo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function d4(n,{refreshToken:e}){const t=bb(n);return t.append("Authorization",p4(e)),t}async function kb(n){const e=await n();return e.status>=500&&e.status<600?n():e}function f4(n){return Number(n.replace("s","000"))}function p4(n){return`${xb} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=_b(n),i=bb(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={fid:t,authVersion:xb,appId:n.appId,sdkVersion:vb},u={method:"POST",headers:i,body:JSON.stringify(l)},p=await kb(()=>fetch(r,u));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:Tb(m.authToken)}}else throw await Eb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=/^[cdef][\w-]{21}$/,Bm="";function v4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=x4(n);return y4.test(t)?t:Bm}catch{return Bm}}function x4(n){return g4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function Ab(n,e){const t=Qd(n);Cb(t,e),w4(t,e)}function Cb(n,e){const t=Ib.get(n);if(t)for(const r of t)r(e)}function w4(n,e){const t=_4();t&&t.postMessage({key:n,fid:e}),T4()}let ao=null;function _4(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=n=>{Cb(n.data.key,n.data.fid)}),ao}function T4(){Ib.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebase-installations-database",b4=1,xo="firebase-installations-store";let Yp=null;function ny(){return Yp||(Yp=eT(E4,b4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(xo)}}})),Yp}async function hd(n,e){const t=Qd(n),i=(await ny()).transaction(xo,"readwrite"),a=i.objectStore(xo),l=await a.get(t);return await a.put(e,t),await i.done,(!l||l.fid!==e.fid)&&Ab(n,e.fid),e}async function Nb(n){const e=Qd(n),r=(await ny()).transaction(xo,"readwrite");await r.objectStore(xo).delete(e),await r.done}async function Yd(n,e){const t=Qd(n),i=(await ny()).transaction(xo,"readwrite"),a=i.objectStore(xo),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&Ab(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ry(n){let e;const t=await Yd(n.appConfig,r=>{const i=k4(r),a=S4(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===Bm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function k4(n){const e=n||{fid:v4(),registrationStatus:0};return Pb(e)}function S4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=I4(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:A4(n)}:{installationEntry:e}}async function I4(n,e){try{const t=await m4(n,e);return hd(n.appConfig,t)}catch(t){throw wb(t)&&t.customData.serverCode===409?await Nb(n.appConfig):await hd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function A4(n){let e=await Yw(n.appConfig);for(;e.registrationStatus===1;)await Sb(100),e=await Yw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ry(n);return r||t}return e}function Yw(n){return Yd(n,e=>{if(!e)throw vo.create("installation-not-found");return Pb(e)})}function Pb(n){return C4(n)?{fid:n.fid,registrationStatus:0}:n}function C4(n){return n.registrationStatus===1&&n.registrationTime+yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4({appConfig:n,heartbeatServiceProvider:e},t){const r=P4(n,t),i=d4(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={installation:{sdkVersion:vb,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},p=await kb(()=>fetch(r,u));if(p.ok){const m=await p.json();return Tb(m)}else throw await Eb("Generate Auth Token",p)}function P4(n,{fid:e}){return`${_b(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sy(n,e=!1){let t;const r=await Yd(n.appConfig,a=>{if(!Rb(a))throw vo.create("not-registered");const l=a.authToken;if(!e&&D4(l))return a;if(l.requestStatus===1)return t=R4(n,e),a;{if(!navigator.onLine)throw vo.create("app-offline");const u=M4(a);return t=j4(n,u),u}});return t?await t:r.authToken}async function R4(n,e){let t=await Xw(n.appConfig);for(;t.authToken.requestStatus===1;)await Sb(100),t=await Xw(n.appConfig);const r=t.authToken;return r.requestStatus===0?sy(n,e):r}function Xw(n){return Yd(n,e=>{if(!Rb(e))throw vo.create("not-registered");const t=e.authToken;return L4(t)?{...e,authToken:{requestStatus:0}}:e})}async function j4(n,e){try{const t=await N4(n,e),r={...e,authToken:t};return await hd(n.appConfig,r),t}catch(t){if(wb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Nb(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hd(n.appConfig,r)}throw t}}function Rb(n){return n!==void 0&&n.registrationStatus===2}function D4(n){return n.requestStatus===2&&!V4(n)}function V4(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+l4}function M4(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function L4(n){return n.requestStatus===1&&n.requestTime+yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(n){const e=n,{installationEntry:t,registrationPromise:r}=await ry(e);return r?r.catch(console.error):sy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,e=!1){const t=n;return await U4(t),(await sy(t,e)).token}async function U4(n){const{registrationPromise:e}=await ry(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){if(!n||!n.options)throw Xp("App Configuration");if(!n.name)throw Xp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Xp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Xp(n){return vo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="installations",z4="installations-internal",$4=n=>{const e=n.getProvider("app").getImmediate(),t=B4(e),r=Eo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},W4=n=>{const e=n.getProvider("app").getImmediate(),t=Eo(e,jb).getImmediate();return{getId:()=>O4(t),getToken:i=>F4(t,i)}};function q4(){Gr(new _r(jb,$4,"PUBLIC")),Gr(new _r(z4,W4,"PRIVATE"))}q4();Xn(gb,ty);Xn(gb,ty,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="analytics",H4="firebase_id",K4="origin",G4=60*1e3,Q4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new To("analytics","Analytics",Y4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){if(!n.startsWith(iy)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return Tn.warn(e.message),""}return n}function Db(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function J4(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Z4(n,e){const t=J4("firebase-js-sdk-policy",{createScriptURL:X4}),r=document.createElement("script"),i=`${iy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function eV(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function tV(n,e,t,r,i,a){const l=r[i];try{if(l)await e[l];else{const p=(await Db(t)).find(m=>m.measurementId===i);p&&await e[p.appId]}}catch(u){Tn.error(u)}n("config",i,a)}async function nV(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await Db(t);for(const p of l){const m=u.find(w=>w.measurementId===p),y=m&&e[m.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Tn.error(a)}}function rV(n,e,t,r){async function i(a,...l){try{if(a==="event"){const[u,p]=l;await nV(n,e,t,u,p)}else if(a==="config"){const[u,p]=l;await tV(n,e,t,r,u,p)}else if(a==="consent"){const[u,p]=l;n("consent",u,p)}else if(a==="get"){const[u,p,m]=l;n("get",u,p,m)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){Tn.error(u)}}return i}function sV(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=rV(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function iV(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(iy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=30,aV=1e3;class lV{constructor(e={},t=aV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Vb=new lV;function cV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function uV(n){var l;const{appId:e,apiKey:t}=n,r={method:"GET",headers:cV(t)},i=Q4.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let u="";try{const p=await a.json();(l=p.error)!=null&&l.message&&(u=p.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function hV(n,e=Vb,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Vn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Vn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new pV;return setTimeout(async()=>{u.abort()},G4),Mb({appId:r,apiKey:i,measurementId:a},l,u,e)}async function Mb(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Vb){var u;const{appId:a,measurementId:l}=n;try{await dV(r,e)}catch(p){if(l)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:a,measurementId:l};throw p}try{const p=await uV(n);return i.deleteThrottleMetadata(a),p}catch(p){const m=p;if(!fV(m)){if(i.deleteThrottleMetadata(a),l)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:a,measurementId:l};throw p}const y=Number((u=m==null?void 0:m.customData)==null?void 0:u.httpStatus)===503?wx(t,i.intervalMillis,oV):wx(t,i.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(a,w),Tn.debug(`Calling attemptFetch again in ${y} millis`),Mb(n,w,r,i)}}function dV(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fV(n){if(!(n instanceof br)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class pV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mV(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,l={...r,send_to:a};n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(){if(Y1())try{await X1()}catch(n){return Tn.warn(Vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Tn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yV(n,e,t,r,i,a,l){const u=hV(n);u.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Tn.error(T)),e.push(u);const p=gV().then(T=>{if(T)return r.getId()}),[m,y]=await Promise.all([u,p]);iV(a)||Z4(a,m.measurementId),i("js",new Date);const w=(l==null?void 0:l.config)??{};return w[K4]="firebase",w.update=!0,y!=null&&(w[H4]=y),i("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.app=e}_delete(){return delete mc[this.app.options.appId],Promise.resolve()}}let mc={},Jw=[];const Zw={};let Jp="dataLayer",xV="gtag",e_,Lb,t_=!1;function wV(){const n=[];if(Q1()&&n.push("This is a browser extension environment."),aC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(t.message)}}function _V(n,e,t){wV();const r=n.options.appId;if(!r)throw Vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(mc[r]!=null)throw Vn.create("already-exists",{id:r});if(!t_){eV(Jp);const{wrappedGtag:a,gtagCore:l}=sV(mc,Jw,Zw,Jp,xV);Lb=a,e_=l,t_=!0}return mc[r]=yV(n,Jw,Zw,e,e_,Jp,t),new vV(n)}function TV(n=lg()){n=wt(n);const e=Eo(n,dd);return e.isInitialized()?e.getImmediate():EV(n)}function EV(n,e={}){const t=Eo(n,dd);if(t.isInitialized()){const i=t.getImmediate();if(fi(e,t.getOptions()))return i;throw Vn.create("already-initialized")}return t.initialize({options:e})}function bV(n,e,t,r){n=wt(n),mV(Lb,mc[n.app.options.appId],e,t,r).catch(i=>Tn.error(i))}const n_="@firebase/analytics",r_="0.10.18";function kV(){Gr(new _r(dd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return _V(r,i,t)},"PUBLIC")),Gr(new _r("analytics-internal",n,"PRIVATE")),Xn(n_,r_),Xn(n_,r_,"esm2020");function n(e){try{const t=e.getProvider(dd).getImmediate();return{logEvent:(r,i,a)=>bV(t,r,i,a)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}kV();const SV={apiKey:"AIzaSyCgnswzwmQotd6h0Bm4hRqWBX4bLtBzEyY",authDomain:"fitvision-318e5.firebaseapp.com",projectId:"fitvision-318e5",storageBucket:"fitvision-318e5.firebasestorage.app",messagingSenderId:"209082967266",appId:"1:209082967266:web:f5f4902a3dc06121b2eabb",measurementId:"G-2XS2B9LMJH"},oy=tT(SV),Xl=zP(oy),Ur=BD(oy);TV(oy);const Ob=R.createContext(void 0),Ss=()=>{const n=R.useContext(Ob);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},IV=({children:n})=>{const[e,t]=R.useState(null),[r,i]=R.useState(null),[a,l]=R.useState(!0);R.useEffect(()=>{const I=setTimeout(()=>{a&&(console.warn("Auth initialization timeout - proceeding without auth"),l(!1))},1e4);return()=>clearTimeout(I)},[a]);const u=async()=>{const I=new hs;try{const L=await X2(Xl,I);await w(L.user)}catch(L){throw console.error("Error signing in with Google:",L),L}},p=async(I,L)=>{try{const U=await k2(Xl,I,L);await T(U.user.uid)}catch(U){throw console.error("Error signing in with email:",U),U}},m=async(I,L,U)=>{try{const H=await b2(Xl,I,L);await I2(H.user,{displayName:U}),await w(H.user)}catch(H){throw console.error("Error signing up with email:",H),H}},y=async()=>{try{await P2(Xl),i(null)}catch(I){throw console.error("Error signing out:",I),I}},w=async I=>{const L=oi(Ur,"users",I.uid),U=await ud(L),H=new Date;if(U.exists()){const J=U.data(),ee={...J,lastLoginAt:H,displayName:I.displayName||J.displayName,photoURL:I.photoURL||J.photoURL};await bh(L,ee,{merge:!0}),i(ee)}else{const J={uid:I.uid,email:I.email||"",displayName:I.displayName||"User",photoURL:I.photoURL||void 0,createdAt:H,lastLoginAt:H,preferences:{units:"metric",notifications:!0,theme:"light"},stats:{totalWorkouts:0,totalReps:0,totalCalories:0,totalMinutes:0,currentStreak:0,bestStreak:0}};await bh(L,J),i(J)}},T=async I=>{const L=oi(Ur,"users",I);await bh(L,{lastLoginAt:new Date},{merge:!0})},b=async I=>{if(!e||!r)return;const L=oi(Ur,"users",e.uid),U={...r,...I};await bh(L,U,{merge:!0}),i(U)},C=async I=>{const L=oi(Ur,"users",I.uid),U=await ud(L);U.exists()&&i(U.data())};R.useEffect(()=>{let I;return(async()=>{try{I=N2(Xl,async U=>{if(t(U),U)try{await C(U)}catch(H){console.error("Error loading user profile:",H)}else i(null);l(!1)})}catch(U){console.error("Error initializing auth:",U),l(!1)}})(),()=>{I&&I()}},[]);const k={user:e,userProfile:r,loading:a,signInWithGoogle:u,signInWithEmail:p,signUpWithEmail:m,logout:y,updateUserProfile:b};return d.jsx(Ob.Provider,{value:k,children:!a&&n})},Fb=R.createContext(void 0),AV=({children:n})=>{const[e,t]=R.useState("light"),[r,i]=R.useState(!1);R.useEffect(()=>{const p=localStorage.getItem("theme")||"light";t(p),a(p)},[]),R.useEffect(()=>{if(e==="auto"){const p=window.matchMedia("(prefers-color-scheme: dark)"),m=()=>a("auto");return p.addEventListener("change",m),()=>p.removeEventListener("change",m)}},[e]);const a=p=>{const m=document.documentElement;let y=!1;p==="dark"?y=!0:p==="auto"&&(y=window.matchMedia("(prefers-color-scheme: dark)").matches),y?m.classList.add("dark"):m.classList.remove("dark"),i(y)},l=p=>{t(p),localStorage.setItem("theme",p),a(p)},u=()=>{l(e==="light"?"dark":e==="dark"||r?"light":"dark")};return d.jsx(Fb.Provider,{value:{theme:e,isDark:r,setTheme:l,toggleTheme:u},children:n})},Ub=()=>{const n=R.useContext(Fb);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(n,e)=>{const t=R.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:p,...m},y)=>R.createElement("svg",{ref:y,...CV,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${NV(n)}`,u].join(" "),...m},[...e.map(([w,T])=>R.createElement(w,T)),...Array.isArray(p)?p:[p]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=Te("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=Te("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Te("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=Te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=Te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=Te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Te("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),uy=R.createContext({});function hy(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const Xd=R.createContext(null),dy=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class ZV extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function e5({children:n,isPresent:e}){const t=R.useId(),r=R.useRef(null),i=R.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=R.useContext(dy);return R.useInsertionEffect(()=>{const{width:l,height:u,top:p,left:m}=i.current;if(e||!r.current||!l||!u)return;r.current.dataset.motionPopId=t;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),d.jsx(ZV,{isPresent:e,childRef:r,sizeRef:i,children:R.cloneElement(n,{ref:r})})}const t5=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const u=hy(n5),p=R.useId(),m=R.useCallback(w=>{u.set(w,!0);for(const T of u.values())if(!T)return;r&&r()},[u,r]),y=R.useMemo(()=>({id:p,initial:e,isPresent:t,custom:i,onExitComplete:m,register:w=>(u.set(w,!1),()=>u.delete(w))}),a?[Math.random(),m]:[t,m]);return R.useMemo(()=>{u.forEach((w,T)=>u.set(T,!1))},[t]),R.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),l==="popLayout"&&(n=d.jsx(e5,{isPresent:t,children:n})),d.jsx(Xd.Provider,{value:y,children:n})};function n5(){return new Map}function Hb(n=!0){const e=R.useContext(Xd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{n&&i(a)},[n]);const l=R.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const kh=n=>n.key||"";function l_(n){const e=[];return R.Children.forEach(n,t=>{R.isValidElement(t)&&e.push(t)}),e}const fy=typeof window<"u",Kb=fy?R.useLayoutEffect:R.useEffect,Xc=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1})=>{const[u,p]=Hb(l),m=R.useMemo(()=>l_(n),[n]),y=l&&!u?[]:m.map(kh),w=R.useRef(!0),T=R.useRef(m),b=hy(()=>new Map),[C,k]=R.useState(m),[I,L]=R.useState(m);Kb(()=>{w.current=!1,T.current=m;for(let J=0;J<I.length;J++){const ee=kh(I[J]);y.includes(ee)?b.delete(ee):b.get(ee)!==!0&&b.set(ee,!1)}},[I,y.length,y.join("-")]);const U=[];if(m!==C){let J=[...m];for(let ee=0;ee<I.length;ee++){const ae=I[ee],D=kh(ae);y.includes(D)||(J.splice(ee,0,ae),U.push(ae))}a==="wait"&&U.length&&(J=U),L(l_(J)),k(m);return}const{forceRender:H}=R.useContext(uy);return d.jsx(d.Fragment,{children:I.map(J=>{const ee=kh(J),ae=l&&!u?!1:m===I||y.includes(ee),D=()=>{if(b.has(ee))b.set(ee,!0);else return;let A=!0;b.forEach(N=>{N||(A=!1)}),A&&(H==null||H(),L(T.current),l&&(p==null||p()),r&&r())};return d.jsx(t5,{isPresent:ae,initial:!w.current||t?void 0:!1,custom:ae?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:ae?void 0:D,children:J},ee)})})},Mn=n=>n;let Gb=Mn;function py(n){let e;return()=>(e===void 0&&(e=n()),e)}const $a=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},ys=n=>n*1e3,vs=n=>n/1e3,r5={useManualTiming:!1};function s5(n){let e=new Set,t=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){a.has(m)&&(p.schedule(m),n()),m(l)}const p={schedule:(m,y=!1,w=!1)=>{const b=w&&r?e:t;return y&&a.add(m),b.has(m)||b.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(l=m,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,p.process(m))}};return p}const Sh=["read","resolveKeyframes","update","preRender","render","postRender"],i5=40;function Qb(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Sh.reduce((L,U)=>(L[U]=s5(a),L),{}),{read:u,resolveKeyframes:p,update:m,preRender:y,render:w,postRender:T}=l,b=()=>{const L=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,i5),1),i.timestamp=L,i.isProcessing=!0,u.process(i),p.process(i),m.process(i),y.process(i),w.process(i),T.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(b))},C=()=>{t=!0,r=!0,i.isProcessing||n(b)};return{schedule:Sh.reduce((L,U)=>{const H=l[U];return L[U]=(J,ee=!1,ae=!1)=>(t||C(),H.schedule(J,ee,ae)),L},{}),cancel:L=>{for(let U=0;U<Sh.length;U++)l[Sh[U]].cancel(L)},state:i,steps:l}}const{schedule:st,cancel:wi,state:qt,steps:Zp}=Qb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),Yb=R.createContext({strict:!1}),c_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const n in c_)Wa[n]={isEnabled:e=>c_[n].some(t=>!!e[t])};function o5(n){for(const e in n)Wa[e]={...Wa[e],...n[e]}}const a5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function md(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||a5.has(n)}let Xb=n=>!md(n);function l5(n){n&&(Xb=e=>e.startsWith("on")?!md(e):n(e))}try{l5(require("@emotion/is-prop-valid").default)}catch{}function c5(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Xb(i)||t===!0&&md(i)||!e&&!md(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function u5(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Jd=R.createContext({});function Rc(n){return typeof n=="string"||Array.isArray(n)}function Zd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const my=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gy=["initial",...my];function ef(n){return Zd(n.animate)||gy.some(e=>Rc(n[e]))}function Jb(n){return!!(ef(n)||n.variants)}function h5(n,e){if(ef(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Rc(t)?t:void 0,animate:Rc(r)?r:void 0}}return n.inherit!==!1?e:{}}function d5(n){const{initial:e,animate:t}=h5(n,R.useContext(Jd));return R.useMemo(()=>({initial:e,animate:t}),[u_(e),u_(t)])}function u_(n){return Array.isArray(n)?n.join(" "):n}const f5=Symbol.for("motionComponentSymbol");function Ta(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function p5(n,e,t){return R.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ta(t)&&(t.current=r))},[e])}const yy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),m5="framerAppearId",Zb="data-"+yy(m5),{schedule:vy}=Qb(queueMicrotask,!1),ek=R.createContext({});function g5(n,e,t,r,i){var a,l;const{visualElement:u}=R.useContext(Jd),p=R.useContext(Yb),m=R.useContext(Xd),y=R.useContext(dy).reducedMotion,w=R.useRef(null);r=r||p.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:u,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const T=w.current,b=R.useContext(ek);T&&!T.projection&&i&&(T.type==="html"||T.type==="svg")&&y5(w.current,t,i,b);const C=R.useRef(!1);R.useInsertionEffect(()=>{T&&C.current&&T.update(t,m)});const k=t[Zb],I=R.useRef(!!k&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,k))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,k)));return Kb(()=>{T&&(C.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),vy.render(T.render),I.current&&T.animationState&&T.animationState.animateChanges())}),R.useEffect(()=>{T&&(!I.current&&T.animationState&&T.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,k)}),I.current=!1))}),T}function y5(n,e,t,r){const{layoutId:i,layout:a,drag:l,dragConstraints:u,layoutScroll:p,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:tk(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||u&&Ta(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:p,layoutRoot:m})}function tk(n){if(n)return n.options.allowProjection!==!1?n.projection:tk(n.parent)}function v5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var a,l;n&&o5(n);function u(m,y){let w;const T={...R.useContext(dy),...m,layoutId:x5(m)},{isStatic:b}=T,C=d5(m),k=r(m,b);if(!b&&fy){w5();const I=_5(T);w=I.MeasureLayout,C.visualElement=g5(i,k,T,e,I.ProjectionNode)}return d.jsxs(Jd.Provider,{value:C,children:[w&&C.visualElement?d.jsx(w,{visualElement:C.visualElement,...T}):null,t(i,m,p5(k,C.visualElement,y),k,b,C.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const p=R.forwardRef(u);return p[f5]=i,p}function x5({layoutId:n}){const e=R.useContext(uy).id;return e&&n!==void 0?e+"-"+n:n}function w5(n,e){R.useContext(Yb).strict}function _5(n){const{drag:e,layout:t}=Wa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const T5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xy(n){return typeof n!="string"||n.includes("-")?!1:!!(T5.indexOf(n)>-1||/[A-Z]/u.test(n))}function h_(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function wy(n,e,t,r){if(typeof e=="function"){const[i,a]=h_(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=h_(r);e=e(t!==void 0?t:n.custom,i,a)}return e}const zm=n=>Array.isArray(n),E5=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),b5=n=>zm(n)?n[n.length-1]||0:n,sn=n=>!!(n&&n.getVelocity);function Uh(n){const e=sn(n)?n.get():n;return E5(e)?e.toValue():e}function k5({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,a){const l={latestValues:S5(r,i,a,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const nk=n=>(e,t)=>{const r=R.useContext(Jd),i=R.useContext(Xd),a=()=>k5(n,e,r,i);return t?a():hy(a)};function S5(n,e,t,r){const i={},a=r(n,{});for(const T in a)i[T]=Uh(a[T]);let{initial:l,animate:u}=n;const p=ef(n),m=Jb(n);e&&m&&!p&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let y=t?t.initial===!1:!1;y=y||l===!1;const w=y?u:l;if(w&&typeof w!="boolean"&&!Zd(w)){const T=Array.isArray(w)?w:[w];for(let b=0;b<T.length;b++){const C=wy(n,T[b]);if(C){const{transitionEnd:k,transition:I,...L}=C;for(const U in L){let H=L[U];if(Array.isArray(H)){const J=y?H.length-1:0;H=H[J]}H!==null&&(i[U]=H)}for(const U in k)i[U]=k[U]}}}return i}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(tl),rk=n=>e=>typeof e=="string"&&e.startsWith(n),sk=rk("--"),I5=rk("var(--"),_y=n=>I5(n)?A5.test(n.split("/*")[0].trim()):!1,A5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ik=(n,e)=>e&&typeof n=="number"?e.transform(n):n,bs=(n,e,t)=>t>e?e:t<n?n:t,nl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},jc={...nl,transform:n=>bs(0,1,n)},Ih={...nl,default:1},Jc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Zs=Jc("deg"),Hr=Jc("%"),_e=Jc("px"),C5=Jc("vh"),N5=Jc("vw"),d_={...Hr,parse:n=>Hr.parse(n)/100,transform:n=>Hr.transform(n*100)},P5={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},R5={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:Zs,skewX:Zs,skewY:Zs,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:jc,originX:d_,originY:d_,originZ:_e},f_={...nl,transform:Math.round},Ty={...P5,...R5,zIndex:f_,size:_e,fillOpacity:jc,strokeOpacity:jc,numOctaves:f_},j5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D5=tl.length;function V5(n,e,t){let r="",i=!0;for(let a=0;a<D5;a++){const l=tl[a],u=n[l];if(u===void 0)continue;let p=!0;if(typeof u=="number"?p=u===(l.startsWith("scale")?1:0):p=parseFloat(u)===0,!p||t){const m=ik(u,Ty[l]);if(!p){i=!1;const y=j5[l]||l;r+=`${y}(${m}) `}t&&(e[l]=m)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Ey(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let l=!1,u=!1;for(const p in e){const m=e[p];if(Io.has(p)){l=!0;continue}else if(sk(p)){i[p]=m;continue}else{const y=ik(m,Ty[p]);p.startsWith("origin")?(u=!0,a[p]=y):r[p]=y}}if(e.transform||(l||t?r.transform=V5(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:p="50%",originY:m="50%",originZ:y=0}=a;r.transformOrigin=`${p} ${m} ${y}`}}const M5={offset:"stroke-dashoffset",array:"stroke-dasharray"},L5={offset:"strokeDashoffset",array:"strokeDasharray"};function O5(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?M5:L5;n[a.offset]=_e.transform(-r);const l=_e.transform(e),u=_e.transform(t);n[a.array]=`${l} ${u}`}function p_(n,e,t){return typeof n=="string"?n:_e.transform(e+t*n)}function F5(n,e,t){const r=p_(e,n.x,n.width),i=p_(t,n.y,n.height);return`${r} ${i}`}function by(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:p=0,...m},y,w){if(Ey(n,m,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:b,dimensions:C}=n;T.transform&&(C&&(b.transform=T.transform),delete T.transform),C&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=F5(C,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),l!==void 0&&O5(T,l,u,p,!1)}const ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ok=()=>({...ky(),attrs:{}}),Sy=n=>typeof n=="string"&&n.toLowerCase()==="svg";function ak(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const lk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ck(n,e,t,r){ak(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(lk.has(i)?i:yy(i),e.attrs[i])}const gd={};function U5(n){Object.assign(gd,n)}function uk(n,{layout:e,layoutId:t}){return Io.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gd[n]||n==="opacity")}function Iy(n,e,t){var r;const{style:i}=n,a={};for(const l in i)(sn(i[l])||e.style&&sn(e.style[l])||uk(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function hk(n,e,t){const r=Iy(n,e,t);for(const i in n)if(sn(n[i])||sn(e[i])){const a=tl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function B5(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const m_=["x","y","width","height","cx","cy","r"],z5={useVisualState:nk({scrapeMotionValuesFromProps:hk,createRenderState:ok,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let a=!!n.drag;if(!a){for(const u in i)if(Io.has(u)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let u=0;u<m_.length;u++){const p=m_[u];n[p]!==e[p]&&(l=!0)}l&&st.read(()=>{B5(t,r),st.render(()=>{by(r,i,Sy(t.tagName),n.transformTemplate),ck(t,r)})})}})},$5={useVisualState:nk({scrapeMotionValuesFromProps:Iy,createRenderState:ky})};function dk(n,e,t){for(const r in e)!sn(e[r])&&!uk(r,t)&&(n[r]=e[r])}function W5({transformTemplate:n},e){return R.useMemo(()=>{const t=ky();return Ey(t,e,n),Object.assign({},t.vars,t.style)},[e])}function q5(n,e){const t=n.style||{},r={};return dk(r,t,n),Object.assign(r,W5(n,e)),r}function H5(n,e){const t={},r=q5(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function K5(n,e,t,r){const i=R.useMemo(()=>{const a=ok();return by(a,e,Sy(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};dk(a,n.style,n),i.style={...a,...i.style}}return i}function G5(n=!1){return(t,r,i,{latestValues:a},l)=>{const p=(xy(t)?K5:H5)(r,a,l,t),m=c5(r,typeof t=="string",n),y=t!==R.Fragment?{...m,...p,ref:i}:{},{children:w}=r,T=R.useMemo(()=>sn(w)?w.get():w,[w]);return R.createElement(t,{...y,children:T})}}function Q5(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...xy(r)?z5:$5,preloadedFeatures:n,useRender:G5(i),createVisualElement:e,Component:r};return v5(l)}}function fk(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function tf(n,e,t){const r=n.getProps();return wy(r,e,t!==void 0?t:r.custom,n)}const Y5=py(()=>window.ScrollTimeline!==void 0);class X5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(Y5()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class J5 extends X5{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ay(n,e){return n?n[e]||n.default||n:void 0}const $m=2e4;function pk(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<$m;)e+=t,r=n.next(e);return e>=$m?1/0:e}function Cy(n){return typeof n=="function"}function g_(n,e){n.timeline=e,n.onfinish=null}const Ny=n=>Array.isArray(n)&&typeof n[0]=="number",Z5={linearEasing:void 0};function eM(n,e){const t=py(n);return()=>{var r;return(r=Z5[e])!==null&&r!==void 0?r:t()}}const yd=eM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mk=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=n($a(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function gk(n){return!!(typeof n=="function"&&yd()||!n||typeof n=="string"&&(n in Wm||yd())||Ny(n)||Array.isArray(n)&&n.every(gk))}const oc=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Wm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function yk(n,e){if(n)return typeof n=="function"&&yd()?mk(n,e):Ny(n)?oc(n):Array.isArray(n)?n.map(t=>yk(t,e)||Wm.easeOut):Wm[n]}const vr={x:!1,y:!1};function vk(){return vr.x||vr.y}function tM(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function xk(n,e){const t=tM(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function y_(n){return e=>{e.pointerType==="touch"||vk()||n(e)}}function nM(n,e,t={}){const[r,i,a]=xk(n,t),l=y_(u=>{const{target:p}=u,m=e(u);if(typeof m!="function"||!p)return;const y=y_(w=>{m(w),p.removeEventListener("pointerleave",y)});p.addEventListener("pointerleave",y,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),a}const wk=(n,e)=>e?n===e?!0:wk(n,e.parentElement):!1,Py=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,rM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sM(n){return rM.has(n.tagName)||n.tabIndex!==-1}const ac=new WeakSet;function v_(n){return e=>{e.key==="Enter"&&n(e)}}function em(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iM=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=v_(()=>{if(ac.has(t))return;em(t,"down");const i=v_(()=>{em(t,"up")}),a=()=>em(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function x_(n){return Py(n)&&!vk()}function oM(n,e,t={}){const[r,i,a]=xk(n,t),l=u=>{const p=u.currentTarget;if(!x_(u)||ac.has(p))return;ac.add(p);const m=e(u),y=(b,C)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!x_(b)||!ac.has(p))&&(ac.delete(p),typeof m=="function"&&m(b,{success:C}))},w=b=>{y(b,t.useGlobalTarget||wk(p,b.target))},T=b=>{y(b,!1)};window.addEventListener("pointerup",w,i),window.addEventListener("pointercancel",T,i)};return r.forEach(u=>{!sM(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",m=>iM(m,i),i)}),a}function aM(n){return n==="x"||n==="y"?vr[n]?null:(vr[n]=!0,()=>{vr[n]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}const _k=new Set(["width","height","top","left","right","bottom",...tl]);let Bh;function lM(){Bh=void 0}const Kr={now:()=>(Bh===void 0&&Kr.set(qt.isProcessing||r5.useManualTiming?qt.timestamp:performance.now()),Bh),set:n=>{Bh=n,queueMicrotask(lM)}};function Ry(n,e){n.indexOf(e)===-1&&n.push(e)}function jy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Dy{constructor(){this.subscriptions=[]}add(e){return Ry(this.subscriptions,e),()=>jy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Tk(n,e){return e?n*(1e3/e):0}const w_=30,cM=n=>!isNaN(parseFloat(n));class uM{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Kr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Dy);const r=this.events[e].add(t);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>w_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,w_);return Tk(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dc(n,e){return new uM(n,e)}function hM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Dc(t))}function dM(n,e){const t=tf(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const l in a){const u=b5(a[l]);hM(n,l,u)}}function fM(n){return!!(sn(n)&&n.add)}function qm(n,e){const t=n.getValue("willChange");if(fM(t))return t.add(e)}function Ek(n){return n.props[Zb]}const bk=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,pM=1e-7,mM=12;function gM(n,e,t,r,i){let a,l,u=0;do l=e+(t-e)/2,a=bk(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>pM&&++u<mM);return l}function Zc(n,e,t,r){if(n===e&&t===r)return Mn;const i=a=>gM(a,0,1,n,t);return a=>a===0||a===1?a:bk(i(a),e,r)}const kk=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Sk=n=>e=>1-n(1-e),Ik=Zc(.33,1.53,.69,.99),Vy=Sk(Ik),Ak=kk(Vy),Ck=n=>(n*=2)<1?.5*Vy(n):.5*(2-Math.pow(2,-10*(n-1))),My=n=>1-Math.sin(Math.acos(n)),Nk=Sk(My),Pk=kk(My),Rk=n=>/^0[^.\s]+$/u.test(n);function yM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Rk(n):!0}const gc=n=>Math.round(n*1e5)/1e5,Ly=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vM(n){return n==null}const xM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oy=(n,e)=>t=>!!(typeof t=="string"&&xM.test(t)&&t.startsWith(n)||e&&!vM(t)&&Object.prototype.hasOwnProperty.call(t,e)),jk=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,l,u]=r.match(Ly);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},wM=n=>bs(0,255,n),tm={...nl,transform:n=>Math.round(wM(n))},lo={test:Oy("rgb","red"),parse:jk("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+tm.transform(n)+", "+tm.transform(e)+", "+tm.transform(t)+", "+gc(jc.transform(r))+")"};function _M(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hm={test:Oy("#"),parse:_M,transform:lo.transform},Ea={test:Oy("hsl","hue"),parse:jk("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Hr.transform(gc(e))+", "+Hr.transform(gc(t))+", "+gc(jc.transform(r))+")"},en={test:n=>lo.test(n)||Hm.test(n)||Ea.test(n),parse:n=>lo.test(n)?lo.parse(n):Ea.test(n)?Ea.parse(n):Hm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?lo.transform(n):Ea.transform(n)},TM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Ly))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(TM))===null||t===void 0?void 0:t.length)||0)>0}const Dk="number",Vk="color",bM="var",kM="var(",__="${}",SM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(SM,p=>(en.test(p)?(r.color.push(a),i.push(Vk),t.push(en.parse(p))):p.startsWith(kM)?(r.var.push(a),i.push(bM),t.push(p)):(r.number.push(a),i.push(Dk),t.push(parseFloat(p))),++a,__)).split(__);return{values:t,split:u,indexes:r,types:i}}function Mk(n){return Vc(n).values}function Lk(n){const{split:e,types:t}=Vc(n),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const u=t[l];u===Dk?a+=gc(i[l]):u===Vk?a+=en.transform(i[l]):a+=i[l]}return a}}const IM=n=>typeof n=="number"?0:n;function AM(n){const e=Mk(n);return Lk(n)(e.map(IM))}const _i={test:EM,parse:Mk,createTransformer:Lk,getAnimatableNone:AM},CM=new Set(["brightness","contrast","saturate","opacity"]);function NM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Ly)||[];if(!r)return n;const i=t.replace(r,"");let a=CM.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const PM=/\b([a-z-]*)\(.*?\)/gu,Km={..._i,getAnimatableNone:n=>{const e=n.match(PM);return e?e.map(NM).join(" "):n}},RM={...Ty,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:Km,WebkitFilter:Km},Fy=n=>RM[n];function Ok(n,e){let t=Fy(n);return t!==Km&&(t=_i),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const jM=new Set(["auto","none","0"]);function DM(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!jM.has(a)&&Vc(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=Ok(t,i)}const T_=n=>n===nl||n===_e,E_=(n,e)=>parseFloat(n.split(", ")[e]),b_=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return E_(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?E_(a[1],n):0}},VM=new Set(["x","y","z"]),MM=tl.filter(n=>!VM.has(n));function LM(n){const e=[];return MM.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const qa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:b_(4,13),y:b_(5,14)};qa.translateX=qa.x;qa.translateY=qa.y;const fo=new Set;let Gm=!1,Qm=!1;function Fk(){if(Qm){const n=Array.from(fo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=LM(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,l])=>{var u;(u=r.getValue(a))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qm=!1,Gm=!1,fo.forEach(n=>n.complete()),fo.clear()}function Uk(){fo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Qm=!0)})}function OM(){Uk(),Fk()}class Uy{constructor(e,t,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fo.add(this),Gm||(Gm=!0,st.read(Uk),st.resolveKeyframes(Fk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const p=r.readValue(t,u);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bk=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UM(n){const e=FM.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function zk(n,e,t=1){const[r,i]=UM(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return Bk(l)?parseFloat(l):l}return _y(i)?zk(i,e,t+1):i}const $k=n=>e=>e.test(n),BM={test:n=>n==="auto",parse:n=>n},Wk=[nl,_e,Hr,Zs,N5,C5,BM],k_=n=>Wk.find($k(n));class qk extends Uy{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),_y(m))){const y=zk(m,t.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!_k.has(r)||e.length!==2)return;const[i,a]=e,l=k_(i),u=k_(a);if(l!==u)if(T_(l)&&T_(u))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)yM(e[i])&&r.push(i);r.length&&DM(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=qa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const S_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(_i.test(n)||n==="0")&&!n.startsWith("url("));function zM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function $M(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=S_(i,e),u=S_(a,e);return!l||!u?!1:zM(n)||(t==="spring"||Cy(t))&&r}const WM=n=>n!==null;function nf(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(WM),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const qM=40;class Hk{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Kr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&OM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:u,onUpdate:p,isGenerator:m}=this.options;if(!m&&!$M(e,r,i,a))if(l)this.options.duration=0;else{p&&p(nf(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(n,e,t)=>n+(e-n)*t;function nm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function HM({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,p=2*t-u;i=nm(p,u,n+1/3),a=nm(p,u,n),l=nm(p,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function vd(n,e){return t=>t>0?e:n}const rm=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},KM=[Hm,lo,Ea],GM=n=>KM.find(e=>e.test(n));function I_(n){const e=GM(n);if(!e)return!1;let t=e.parse(n);return e===Ea&&(t=HM(t)),t}const A_=(n,e)=>{const t=I_(n),r=I_(e);if(!t||!r)return vd(n,e);const i={...t};return a=>(i.red=rm(t.red,r.red,a),i.green=rm(t.green,r.green,a),i.blue=rm(t.blue,r.blue,a),i.alpha=ut(t.alpha,r.alpha,a),lo.transform(i))},QM=(n,e)=>t=>e(n(t)),eu=(...n)=>n.reduce(QM),Ym=new Set(["none","hidden"]);function YM(n,e){return Ym.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function XM(n,e){return t=>ut(n,e,t)}function By(n){return typeof n=="number"?XM:typeof n=="string"?_y(n)?vd:en.test(n)?A_:e6:Array.isArray(n)?Kk:typeof n=="object"?en.test(n)?A_:JM:vd}function Kk(n,e){const t=[...n],r=t.length,i=n.map((a,l)=>By(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}}function JM(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=By(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function ZM(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][i[l]],p=(t=n.values[u])!==null&&t!==void 0?t:0;r[a]=p,i[l]++}return r}const e6=(n,e)=>{const t=_i.createTransformer(e),r=Vc(n),i=Vc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ym.has(n)&&!i.values.length||Ym.has(e)&&!r.values.length?YM(n,e):eu(Kk(ZM(r,i),i.values),t):vd(n,e)};function Gk(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):By(n)(n,e)}const t6=5;function Qk(n,e,t){const r=Math.max(e-t6,0);return Tk(t-n(r),e-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C_=.001;function n6({duration:n=pt.duration,bounce:e=pt.bounce,velocity:t=pt.velocity,mass:r=pt.mass}){let i,a,l=1-e;l=bs(pt.minDamping,pt.maxDamping,l),n=bs(pt.minDuration,pt.maxDuration,vs(n)),l<1?(i=m=>{const y=m*l,w=y*n,T=y-t,b=Xm(m,l),C=Math.exp(-w);return C_-T/b*C},a=m=>{const w=m*l*n,T=w*t+t,b=Math.pow(l,2)*Math.pow(m,2)*n,C=Math.exp(-w),k=Xm(Math.pow(m,2),l);return(-i(m)+C_>0?-1:1)*((T-b)*C)/k}):(i=m=>{const y=Math.exp(-m*n),w=(m-t)*n+1;return-.001+y*w},a=m=>{const y=Math.exp(-m*n),w=(t-m)*(n*n);return y*w});const u=5/n,p=s6(i,a,u);if(n=ys(n),isNaN(p))return{stiffness:pt.stiffness,damping:pt.damping,duration:n};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:n}}}const r6=12;function s6(n,e,t){let r=t;for(let i=1;i<r6;i++)r=r-n(r)/e(r);return r}function Xm(n,e){return n*Math.sqrt(1-e*e)}const i6=["duration","bounce"],o6=["stiffness","damping","mass"];function N_(n,e){return e.some(t=>n[t]!==void 0)}function a6(n){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...n};if(!N_(n,o6)&&N_(n,i6))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*bs(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:pt.mass,stiffness:i,damping:a}}else{const t=n6(n);e={...e,...t,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function Yk(n=pt.visualDuration,e=pt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:p,damping:m,mass:y,duration:w,velocity:T,isResolvedFromDuration:b}=a6({...t,velocity:-vs(t.velocity||0)}),C=T||0,k=m/(2*Math.sqrt(p*y)),I=l-a,L=vs(Math.sqrt(p/y)),U=Math.abs(I)<5;r||(r=U?pt.restSpeed.granular:pt.restSpeed.default),i||(i=U?pt.restDelta.granular:pt.restDelta.default);let H;if(k<1){const ee=Xm(L,k);H=ae=>{const D=Math.exp(-k*L*ae);return l-D*((C+k*L*I)/ee*Math.sin(ee*ae)+I*Math.cos(ee*ae))}}else if(k===1)H=ee=>l-Math.exp(-L*ee)*(I+(C+L*I)*ee);else{const ee=L*Math.sqrt(k*k-1);H=ae=>{const D=Math.exp(-k*L*ae),A=Math.min(ee*ae,300);return l-D*((C+k*L*I)*Math.sinh(A)+ee*I*Math.cosh(A))/ee}}const J={calculatedDuration:b&&w||null,next:ee=>{const ae=H(ee);if(b)u.done=ee>=w;else{let D=0;k<1&&(D=ee===0?ys(C):Qk(H,ee,ae));const A=Math.abs(D)<=r,N=Math.abs(l-ae)<=i;u.done=A&&N}return u.value=u.done?l:ae,u},toString:()=>{const ee=Math.min(pk(J),$m),ae=mk(D=>J.next(ee*D).value,ee,30);return ee+"ms "+ae}};return J}function P_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:p,restDelta:m=.5,restSpeed:y}){const w=n[0],T={done:!1,value:w},b=A=>u!==void 0&&A<u||p!==void 0&&A>p,C=A=>u===void 0?p:p===void 0||Math.abs(u-A)<Math.abs(p-A)?u:p;let k=t*e;const I=w+k,L=l===void 0?I:l(I);L!==I&&(k=L-w);const U=A=>-k*Math.exp(-A/r),H=A=>L+U(A),J=A=>{const N=U(A),M=H(A);T.done=Math.abs(N)<=m,T.value=T.done?L:M};let ee,ae;const D=A=>{b(T.value)&&(ee=A,ae=Yk({keyframes:[T.value,C(T.value)],velocity:Qk(H,A,T.value),damping:i,stiffness:a,restDelta:m,restSpeed:y}))};return D(0),{calculatedDuration:null,next:A=>{let N=!1;return!ae&&ee===void 0&&(N=!0,J(A),D(A)),ee!==void 0&&A>=ee?ae.next(A-ee):(!N&&J(A),T)}}}const l6=Zc(.42,0,1,1),c6=Zc(0,0,.58,1),Xk=Zc(.42,0,.58,1),u6=n=>Array.isArray(n)&&typeof n[0]!="number",h6={linear:Mn,easeIn:l6,easeInOut:Xk,easeOut:c6,circIn:My,circInOut:Pk,circOut:Nk,backIn:Vy,backInOut:Ak,backOut:Ik,anticipate:Ck},R_=n=>{if(Ny(n)){Gb(n.length===4);const[e,t,r,i]=n;return Zc(e,t,r,i)}else if(typeof n=="string")return h6[n];return n};function d6(n,e,t){const r=[],i=t||Gk,a=n.length-1;for(let l=0;l<a;l++){let u=i(n[l],n[l+1]);if(e){const p=Array.isArray(e)?e[l]||Mn:e;u=eu(p,u)}r.push(u)}return r}function f6(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(Gb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=d6(e,r,i),p=u.length,m=y=>{if(l&&y<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(y<n[w+1]);w++);const T=$a(n[w],n[w+1],y);return u[w](T)};return t?y=>m(bs(n[0],n[a-1],y)):m}function p6(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=$a(0,e,r);n.push(ut(t,1,i))}}function m6(n){const e=[0];return p6(e,n.length-1),e}function g6(n,e){return n.map(t=>t*e)}function y6(n,e){return n.map(()=>e||Xk).splice(0,n.length-1)}function xd({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=u6(r)?r.map(R_):R_(r),a={done:!1,value:e[0]},l=g6(t&&t.length===e.length?t:m6(e),n),u=f6(l,e,{ease:Array.isArray(i)?i:y6(e,i)});return{calculatedDuration:n,next:p=>(a.value=u(p),a.done=p>=n,a)}}const v6=n=>{const e=({timestamp:t})=>n(t);return{start:()=>st.update(e,!0),stop:()=>wi(e),now:()=>qt.isProcessing?qt.timestamp:Kr.now()}},x6={decay:P_,inertia:P_,tween:xd,keyframes:xd,spring:Yk},w6=n=>n/100;class zy extends Hk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Uy,u=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new l(a,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,u=Cy(t)?t:x6[t]||xd;let p,m;u!==xd&&typeof e[0]!="number"&&(p=eu(w6,Gk(e[0],e[1])),e=[0,100]);const y=u({...this.options,keyframes:e});a==="mirror"&&(m=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),y.calculatedDuration===null&&(y.calculatedDuration=pk(y));const{calculatedDuration:w}=y,T=w+i,b=T*(r+1)-i;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:T,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:p,calculatedDuration:m,totalDuration:y,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:b,repeatType:C,repeatDelay:k,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-T*(this.speed>=0?1:-1),U=this.speed>=0?L<0:L>y;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let H=this.currentTime,J=a;if(b){const A=Math.min(this.currentTime,y)/w;let N=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(C==="reverse"?(M=1-M,k&&(M-=k/w)):C==="mirror"&&(J=l)),H=bs(0,1,M)*w}const ee=U?{done:!1,value:p[0]}:J.next(H);u&&(ee.value=u(ee.value));let{done:ae}=ee;!U&&m!==null&&(ae=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return D&&i!==void 0&&(ee.value=nf(p,this.options,i)),I&&I(ee.value),D&&this.finish(),ee}get duration(){const{resolved:e}=this;return e?vs(e.calculatedDuration):0}get time(){return vs(this.currentTime)}set time(e){e=ys(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=vs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=v6,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _6=new Set(["opacity","clipPath","filter","transform"]);function T6(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:u="easeInOut",times:p}={}){const m={[e]:t};p&&(m.offset=p);const y=yk(u,i);return Array.isArray(y)&&(m.easing=y),n.animate(m,{delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const E6=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wd=10,b6=2e4;function k6(n){return Cy(n.type)||n.type==="spring"||!gk(n.ease)}function S6(n,e){const t=new zy({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let a=0;for(;!r.done&&a<b6;)r=t.sample(a),i.push(r.value),a+=wd;return{times:void 0,keyframes:i,duration:a-wd,ease:"linear"}}const Jk={anticipate:Ck,backInOut:Ak,circInOut:Pk};function I6(n){return n in Jk}class j_ extends Hk{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new qk(a,(l,u)=>this.onKeyframesResolved(l,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:a,type:l,motionValue:u,name:p,startTime:m}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof a=="string"&&yd()&&I6(a)&&(a=Jk[a]),k6(this.options)){const{onComplete:w,onUpdate:T,motionValue:b,element:C,...k}=this.options,I=S6(e,k);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,a=I.ease,l="keyframes"}const y=T6(u.owner.current,p,e,{...this.options,duration:r,times:i,ease:a});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(g_(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:w}=this.options;u.set(nf(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return vs(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return vs(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ys(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Mn;const{animation:r}=t;g_(r,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:a,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:w,element:T,...b}=this.options,C=new zy({...b,keyframes:r,duration:i,type:a,ease:l,times:u,isGenerator:!0}),k=ys(this.time);m.setWithVelocity(C.sample(k-wd).value,C.sample(k).value,wd)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:a,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return E6()&&r&&_6.has(r)&&!p&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}}const A6={type:"spring",stiffness:500,damping:25,restSpeed:10},C6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),N6={type:"keyframes",duration:.8},P6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R6=(n,{keyframes:e})=>e.length>2?N6:Io.has(n)?n.startsWith("scale")?C6(e[1]):A6:P6;function j6({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const $y=(n,e,t,r={},i,a)=>l=>{const u=Ay(r,n)||{},p=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-ys(p);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:T=>{e.set(T),u.onUpdate&&u.onUpdate(T)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:i};j6(u)||(y={...y,...R6(n,y)}),y.duration&&(y.duration=ys(y.duration)),y.repeatDelay&&(y.repeatDelay=ys(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const T=nf(y.keyframes,u);if(T!==void 0)return st.update(()=>{y.onUpdate(T),y.onComplete()}),new J5([])}return!a&&j_.supports(y)?new j_(y):new zy(y)};function D6({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Zk(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...p}=e;r&&(l=r);const m=[],y=i&&n.animationState&&n.animationState.getState()[i];for(const w in p){const T=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),b=p[w];if(b===void 0||y&&D6(y,w))continue;const C={delay:t,...Ay(l||{},w)};let k=!1;if(window.MotionHandoffAnimation){const L=Ek(n);if(L){const U=window.MotionHandoffAnimation(L,w,st);U!==null&&(C.startTime=U,k=!0)}}qm(n,w),T.start($y(w,T,b,n.shouldReduceMotion&&_k.has(w)?{type:!1}:C,n,k));const I=T.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{st.update(()=>{u&&dM(n,u)})}),m}function Jm(n,e,t={}){var r;const i=tf(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const l=i?()=>Promise.all(Zk(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:T}=a;return V6(n,e,y+m,w,T,t)}:()=>Promise.resolve(),{when:p}=a;if(p){const[m,y]=p==="beforeChildren"?[l,u]:[u,l];return m().then(()=>y())}else return Promise.all([l(),u(t.delay)])}function V6(n,e,t=0,r=0,i=1,a){const l=[],u=(n.variantChildren.size-1)*r,p=i===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(M6).forEach((m,y)=>{m.notify("AnimationStart",e),l.push(Jm(m,e,{...a,delay:t+p(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function M6(n,e){return n.sortNodePosition(e)}function L6(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Jm(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=Jm(n,e,t);else{const i=typeof e=="function"?tf(n,e,t.custom):e;r=Promise.all(Zk(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const O6=gy.length;function eS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?eS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<O6;t++){const r=gy[t],i=n.props[r];(Rc(i)||i===!1)&&(e[r]=i)}return e}const F6=[...my].reverse(),U6=my.length;function B6(n){return e=>Promise.all(e.map(({animation:t,options:r})=>L6(n,t,r)))}function z6(n){let e=B6(n),t=D_(),r=!0;const i=p=>(m,y)=>{var w;const T=tf(n,y,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:b,transitionEnd:C,...k}=T;m={...m,...k,...C}}return m};function a(p){e=p(n)}function l(p){const{props:m}=n,y=eS(n.parent)||{},w=[],T=new Set;let b={},C=1/0;for(let I=0;I<U6;I++){const L=F6[I],U=t[L],H=m[L]!==void 0?m[L]:y[L],J=Rc(H),ee=L===p?U.isActive:null;ee===!1&&(C=I);let ae=H===y[L]&&H!==m[L]&&J;if(ae&&r&&n.manuallyAnimateOnMount&&(ae=!1),U.protectedKeys={...b},!U.isActive&&ee===null||!H&&!U.prevProp||Zd(H)||typeof H=="boolean")continue;const D=$6(U.prevProp,H);let A=D||L===p&&U.isActive&&!ae&&J||I>C&&J,N=!1;const M=Array.isArray(H)?H:[H];let F=M.reduce(i(L),{});ee===!1&&(F={});const{prevResolvedValues:z={}}=U,j={...z,...F},Xe=ke=>{A=!0,T.has(ke)&&(N=!0,T.delete(ke)),U.needsAnimating[ke]=!0;const re=n.getValue(ke);re&&(re.liveStyle=!1)};for(const ke in j){const re=F[ke],ge=z[ke];if(b.hasOwnProperty(ke))continue;let le=!1;zm(re)&&zm(ge)?le=!fk(re,ge):le=re!==ge,le?re!=null?Xe(ke):T.add(ke):re!==void 0&&T.has(ke)?Xe(ke):U.protectedKeys[ke]=!0}U.prevProp=H,U.prevResolvedValues=F,U.isActive&&(b={...b,...F}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(ae&&D)||N)&&w.push(...M.map(ke=>({animation:ke,options:{type:L}})))}if(T.size){const I={};T.forEach(L=>{const U=n.getBaseTarget(L),H=n.getValue(L);H&&(H.liveStyle=!0),I[L]=U??null}),w.push({animation:I})}let k=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(w):Promise.resolve()}function u(p,m){var y;if(t[p].isActive===m)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(T=>{var b;return(b=T.animationState)===null||b===void 0?void 0:b.setActive(p,m)}),t[p].isActive=m;const w=l(p);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=D_(),r=!0}}}function $6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!fk(e,n):!1}function to(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D_(){return{animate:to(!0),whileInView:to(),whileHover:to(),whileTap:to(),whileDrag:to(),whileFocus:to(),exit:to()}}class Ii{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W6 extends Ii{constructor(e){super(e),e.animationState||(e.animationState=z6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let q6=0;class H6 extends Ii{constructor(){super(...arguments),this.id=q6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const K6={animation:{Feature:W6},exit:{Feature:H6}};function Mc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function tu(n){return{point:{x:n.pageX,y:n.pageY}}}const G6=n=>e=>Py(e)&&n(e,tu(e));function yc(n,e,t,r){return Mc(n,e,G6(t),r)}const V_=(n,e)=>Math.abs(n-e);function Q6(n,e){const t=V_(n.x,e.x),r=V_(n.y,e.y);return Math.sqrt(t**2+r**2)}class tS{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=im(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,b=Q6(w.offset,{x:0,y:0})>=3;if(!T&&!b)return;const{point:C}=w,{timestamp:k}=qt;this.history.push({...C,timestamp:k});const{onStart:I,onMove:L}=this.handlers;T||(I&&I(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=sm(T,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=im(w.type==="pointercancel"?this.lastMoveEventInfo:sm(T,this.transformPagePoint),this.history);this.startEvent&&b&&b(w,I),C&&C(w,I)},!Py(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=tu(e),u=sm(l,this.transformPagePoint),{point:p}=u,{timestamp:m}=qt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=t;y&&y(e,im(u,this.history)),this.removeListeners=eu(yc(this.contextWindow,"pointermove",this.handlePointerMove),yc(this.contextWindow,"pointerup",this.handlePointerUp),yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function sm(n,e){return e?{point:e(n.point)}:n}function M_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function im({point:n},e){return{point:n,delta:M_(n,nS(e)),offset:M_(n,Y6(e)),velocity:X6(e,.1)}}function Y6(n){return n[0]}function nS(n){return n[n.length-1]}function X6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=nS(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ys(e)));)t--;if(!r)return{x:0,y:0};const a=vs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const rS=1e-4,J6=1-rS,Z6=1+rS,sS=.01,e3=0-sS,t3=0+sS;function Ln(n){return n.max-n.min}function n3(n,e,t){return Math.abs(n-e)<=t}function L_(n,e,t,r=.5){n.origin=r,n.originPoint=ut(e.min,e.max,n.origin),n.scale=Ln(t)/Ln(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=J6&&n.scale<=Z6||isNaN(n.scale))&&(n.scale=1),(n.translate>=e3&&n.translate<=t3||isNaN(n.translate))&&(n.translate=0)}function vc(n,e,t,r){L_(n.x,e.x,t.x,r?r.originX:void 0),L_(n.y,e.y,t.y,r?r.originY:void 0)}function O_(n,e,t){n.min=t.min+e.min,n.max=n.min+Ln(e)}function r3(n,e,t){O_(n.x,e.x,t.x),O_(n.y,e.y,t.y)}function F_(n,e,t){n.min=e.min-t.min,n.max=n.min+Ln(e)}function xc(n,e,t){F_(n.x,e.x,t.x),F_(n.y,e.y,t.y)}function s3(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ut(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ut(t,n,r.max):Math.min(n,t)),n}function U_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function i3(n,{top:e,left:t,bottom:r,right:i}){return{x:U_(n.x,t,i),y:U_(n.y,e,r)}}function B_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function o3(n,e){return{x:B_(n.x,e.x),y:B_(n.y,e.y)}}function a3(n,e){let t=.5;const r=Ln(n),i=Ln(e);return i>r?t=$a(e.min,e.max-r,n.min):r>i&&(t=$a(n.min,n.max-i,e.min)),bs(0,1,t)}function l3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Zm=.35;function c3(n=Zm){return n===!1?n=0:n===!0&&(n=Zm),{x:z_(n,"left","right"),y:z_(n,"top","bottom")}}function z_(n,e,t){return{min:$_(n,e),max:$_(n,t)}}function $_(n,e){return typeof n=="number"?n:n[e]||0}const W_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ba=()=>({x:W_(),y:W_()}),q_=()=>({min:0,max:0}),yt=()=>({x:q_(),y:q_()});function Qn(n){return[n("x"),n("y")]}function iS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function u3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function h3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function om(n){return n===void 0||n===1}function eg({scale:n,scaleX:e,scaleY:t}){return!om(n)||!om(e)||!om(t)}function ro(n){return eg(n)||oS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function oS(n){return H_(n.x)||H_(n.y)}function H_(n){return n&&n!=="0%"}function _d(n,e,t){const r=n-t,i=e*r;return t+i}function K_(n,e,t,r,i){return i!==void 0&&(n=_d(n,i,r)),_d(n,t,r)+e}function tg(n,e=0,t=1,r,i){n.min=K_(n.min,e,t,r,i),n.max=K_(n.max,e,t,r,i)}function aS(n,{x:e,y:t}){tg(n.x,e.translate,e.scale,e.originPoint),tg(n.y,t.translate,t.scale,t.originPoint)}const G_=.999999999999,Q_=1.0000000000001;function d3(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=t[u],l=a.projectionDelta;const{visualElement:p}=a.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,aS(n,l)),r&&ro(a.latestValues)&&Sa(n,a.latestValues))}e.x<Q_&&e.x>G_&&(e.x=1),e.y<Q_&&e.y>G_&&(e.y=1)}function ka(n,e){n.min=n.min+e,n.max=n.max+e}function Y_(n,e,t,r,i=.5){const a=ut(n.min,n.max,i);tg(n,e,t,a,r)}function Sa(n,e){Y_(n.x,e.x,e.scaleX,e.scale,e.originX),Y_(n.y,e.y,e.scaleY,e.scale,e.originY)}function lS(n,e){return iS(h3(n.getBoundingClientRect(),e))}function f3(n,e,t){const r=lS(n,t),{scroll:i}=e;return i&&(ka(r.x,i.offset.x),ka(r.y,i.offset.y)),r}const cS=({current:n})=>n?n.ownerDocument.defaultView:null,p3=new WeakMap;class m3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tu(y).point)},a=(y,w)=>{const{drag:T,dragPropagation:b,onDragStart:C}=this.getProps();if(T&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aM(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(I=>{let L=this.getAxisMotionValue(I).get()||0;if(Hr.test(L)){const{projection:U}=this.visualElement;if(U&&U.layout){const H=U.layout.layoutBox[I];H&&(L=Ln(H)*(parseFloat(L)/100))}}this.originPoint[I]=L}),C&&st.postRender(()=>C(y,w)),qm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(y,w)=>{const{dragPropagation:T,dragDirectionLock:b,onDirectionLock:C,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:I}=w;if(b&&this.currentDirection===null){this.currentDirection=g3(I),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",w.point,I),this.updateAxis("y",w.point,I),this.visualElement.render(),k&&k(y,w)},u=(y,w)=>this.stop(y,w),p=()=>Qn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new tS(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:cS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ah(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=s3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Ta(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=i3(i.layoutBox,t):this.constraints=!1,this.elastic=c3(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=l3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ta(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=f3(r,i.root,this.visualElement.getTransformPagePoint());let l=o3(i.layout.layoutBox,a);if(t){const u=t(u3(l));this.hasMutatedConstraints=!!u,u&&(l=iS(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),p=this.constraints||{},m=Qn(y=>{if(!Ah(y,t,this.currentDirection))return;let w=p&&p[y]||{};l&&(w={min:0,max:0});const T=i?200:1e6,b=i?40:1e7,C={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return qm(this.visualElement,e),r.start($y(e,r,0,t,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qn(t=>{const{drag:r}=this.getProps();if(!Ah(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];a.set(e[t]-ut(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ta(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const p=u.get();i[l]=a3({min:p,max:p},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(l=>{if(!Ah(l,e,null))return;const u=this.getAxisMotionValue(l),{min:p,max:m}=this.constraints[l];u.set(ut(p,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;p3.set(this.visualElement,this);const e=this.visualElement.current,t=yc(e,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ta(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),st.read(r);const l=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Qn(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=p[y].translate,w.set(w.get()+p[y].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Zm,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Ah(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function g3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class y3 extends Ii{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new m3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const X_=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class v3 extends Ii{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new tS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:X_(e),onStart:X_(t),onMove:r,onEnd:(a,l)=>{delete this.session,i&&st.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function J_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Jl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_e.test(n))n=parseFloat(n);else return n;const t=J_(n,e.target.x),r=J_(n,e.target.y);return`${t}% ${r}%`}},x3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=_i.parse(n);if(i.length>5)return r;const a=_i.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,p=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=p;const m=ut(u,p,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};class w3 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;U5(_3),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uS(n){const[e,t]=Hb(),r=R.useContext(uy);return d.jsx(w3,{...n,layoutGroup:r,switchLayoutGroup:R.useContext(ek),isPresent:e,safeToRemove:t})}const _3={borderRadius:{...Jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jl,borderTopRightRadius:Jl,borderBottomLeftRadius:Jl,borderBottomRightRadius:Jl,boxShadow:x3};function T3(n,e,t){const r=sn(n)?n:Dc(n);return r.start($y("",r,e,t)),r.animation}function E3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const b3=(n,e)=>n.depth-e.depth;class k3{constructor(){this.children=[],this.isDirty=!1}add(e){Ry(this.children,e),this.isDirty=!0}remove(e){jy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b3),this.isDirty=!1,this.children.forEach(e)}}function S3(n,e){const t=Kr.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(wi(r),n(a-e))};return st.read(r,!0),()=>wi(r)}const hS=["TopLeft","TopRight","BottomLeft","BottomRight"],I3=hS.length,Z_=n=>typeof n=="string"?parseFloat(n):n,e1=n=>typeof n=="number"||_e.test(n);function A3(n,e,t,r,i,a){i?(n.opacity=ut(0,t.opacity!==void 0?t.opacity:1,C3(r)),n.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,N3(r))):a&&(n.opacity=ut(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<I3;l++){const u=`border${hS[l]}Radius`;let p=t1(e,u),m=t1(t,u);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||e1(p)===e1(m)?(n[u]=Math.max(ut(Z_(p),Z_(m),r),0),(Hr.test(m)||Hr.test(p))&&(n[u]+="%")):n[u]=m}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,r))}function t1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const C3=dS(0,.5,Nk),N3=dS(.5,.95,Mn);function dS(n,e,t){return r=>r<n?0:r>e?1:t($a(n,e,r))}function n1(n,e){n.min=e.min,n.max=e.max}function Gn(n,e){n1(n.x,e.x),n1(n.y,e.y)}function r1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function s1(n,e,t,r,i){return n-=e,n=_d(n,1/t,r),i!==void 0&&(n=_d(n,1/i,r)),n}function P3(n,e=0,t=1,r=.5,i,a=n,l=n){if(Hr.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ut(a.min,a.max,r);n===a&&(u-=e),n.min=s1(n.min,e,t,u,i),n.max=s1(n.max,e,t,u,i)}function i1(n,e,[t,r,i],a,l){P3(n,e[t],e[r],e[i],e.scale,a,l)}const R3=["x","scaleX","originX"],j3=["y","scaleY","originY"];function o1(n,e,t,r){i1(n.x,e,R3,t?t.x:void 0,r?r.x:void 0),i1(n.y,e,j3,t?t.y:void 0,r?r.y:void 0)}function a1(n){return n.translate===0&&n.scale===1}function fS(n){return a1(n.x)&&a1(n.y)}function l1(n,e){return n.min===e.min&&n.max===e.max}function D3(n,e){return l1(n.x,e.x)&&l1(n.y,e.y)}function c1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function pS(n,e){return c1(n.x,e.x)&&c1(n.y,e.y)}function u1(n){return Ln(n.x)/Ln(n.y)}function h1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class V3{constructor(){this.members=[]}add(e){Ry(this.members,e),e.scheduleRender()}remove(e){if(jy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M3(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:w,rotateY:T,skewX:b,skewY:C}=t;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),b&&(r+=`skewX(${b}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=n.x.scale*e.x,p=n.y.scale*e.y;return(u!==1||p!==1)&&(r+=`scale(${u}, ${p})`),r||"none"}const so={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lc=typeof window<"u"&&window.MotionDebug!==void 0,am=["","X","Y","Z"],L3={visibility:"hidden"},d1=1e3;let O3=0;function lm(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function mS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Ek(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&mS(r)}function gS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=O3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lc&&(so.totalNodes=so.resolvedTargetDeltas=so.recalculatedProjection=0),this.nodes.forEach(B3),this.nodes.forEach(H3),this.nodes.forEach(K3),this.nodes.forEach(z3),lc&&window.MotionDebug.record(so)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new k3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Dy),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const p=this.eventHandlers.get(l);p&&p.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E3(l),this.instance=l;const{layoutId:p,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||p)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=S3(T,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(p1))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||J3,{onLayoutAnimationStart:I,onLayoutAnimationComplete:L}=y.getProps(),U=!this.targetLayout||!pS(this.targetLayout,C)||b,H=!T&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||H||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,H);const J={...Ay(k,"layout"),onPlay:I,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else T||p1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:u,layout:p}=this.options;if(u===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f1);return}this.isUpdating||this.nodes.forEach(W3),this.isUpdating=!1,this.nodes.forEach(q3),this.nodes.forEach(F3),this.nodes.forEach(U3),this.clearAllSnapshots();const u=Kr.now();qt.delta=bs(0,1e3/60,u-qt.timestamp),qt.timestamp=u,qt.isProcessing=!0,Zp.update.process(qt),Zp.preRender.process(qt),Zp.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($3),this.sharedNodes.forEach(Q3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!fS(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;l&&(u||ro(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let p=this.removeElementScroll(u);return l&&(p=this.removeTransform(p)),Z3(p),{animationId:this.root.animationId,measuredBox:u,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return yt();const p=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(eL))){const{scroll:y}=this.root;y&&(ka(p.x,y.offset.x),ka(p.y,y.offset.y))}return p}removeElementScroll(l){var u;const p=yt();if(Gn(p,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return p;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:w,options:T}=y;y!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Gn(p,l),ka(p.x,w.offset.x),ka(p.y,w.offset.y))}return p}applyTransform(l,u=!1){const p=yt();Gn(p,l);for(let m=0;m<this.path.length;m++){const y=this.path[m];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Sa(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ro(y.latestValues)&&Sa(p,y.latestValues)}return ro(this.latestValues)&&Sa(p,this.latestValues),p}removeTransform(l){const u=yt();Gn(u,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!ro(m.latestValues))continue;eg(m.latestValues)&&m.updateSnapshot();const y=yt(),w=m.measurePageBox();Gn(y,w),o1(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return ro(this.latestValues)&&o1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),xc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),aS(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),xc(this.relativeTargetOrigin,this.target,b.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lc&&so.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eg(this.parent.latestValues)||oS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),p=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;Gn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;d3(this.layoutCorrected,this.treeScale,this.path,p),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=yt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r1(this.prevProjectionDelta.x,this.projectionDelta.x),r1(this.prevProjectionDelta.y,this.projectionDelta.y)),vc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!h1(this.projectionDelta.x,this.prevProjectionDelta.x)||!h1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),lc&&so.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ba(),this.projectionDelta=ba(),this.projectionDeltaWithTransform=ba()}setAnimationOrigin(l,u=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},w=ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const T=yt(),b=p?p.source:void 0,C=this.layout?this.layout.source:void 0,k=b!==C,I=this.getStack(),L=!I||I.members.length<=1,U=!!(k&&!L&&this.options.crossfade===!0&&!this.path.some(X3));this.animationProgress=0;let H;this.mixTargetDelta=J=>{const ee=J/1e3;m1(w.x,l.x,ee),m1(w.y,l.y,ee),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y3(this.relativeTarget,this.relativeTargetOrigin,T,ee),H&&D3(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=yt()),Gn(H,this.relativeTarget)),k&&(this.animationValues=y,A3(y,m,this.latestValues,ee,U,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{zh.hasAnimatedSinceResize=!0,this.currentAnimation=T3(0,d1,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:p,layout:m,latestValues:y}=l;if(!(!u||!p||!m)){if(this!==l&&this.layout&&m&&yS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||yt();const w=Ln(this.layout.layoutBox.x);p.x.min=l.target.x.min,p.x.max=p.x.min+w;const T=Ln(this.layout.layoutBox.y);p.y.min=l.target.y.min,p.y.max=p.y.min+T}Gn(u,p),Sa(u,y),vc(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new V3),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:p}=l;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(u=!0),!u)return;const m={};p.z&&lm("z",l,m,this.animationValues);for(let y=0;y<am.length;y++)lm(`rotate${am[y]}`,l,m,this.animationValues),lm(`skew${am[y]}`,l,m,this.animationValues);l.render();for(const y in m)l.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);l.scheduleRender()}getProjectionStyles(l){var u,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return L3;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Uh(l==null?void 0:l.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Uh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(k.transform=y?y({},""):"none",this.hasProjected=!1),k}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=M3(this.projectionDeltaWithTransform,this.treeScale,T),y&&(m.transform=y(T,m.transform));const{x:b,y:C}=this.projectionDelta;m.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,w.animationValues?m.opacity=w===this?(p=(u=T.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const k in gd){if(T[k]===void 0)continue;const{correct:I,applyTo:L}=gd[k],U=m.transform==="none"?T[k]:I(T[k],w);if(L){const H=L.length;for(let J=0;J<H;J++)m[L[J]]=U}else m[k]=U}return this.options.layoutId&&(m.pointerEvents=w===this?Uh(l==null?void 0:l.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(f1),this.root.sharedNodes.clear()}}}function F3(n){n.updateLayout()}function U3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Qn(w=>{const T=l?t.measuredBox[w]:t.layoutBox[w],b=Ln(T);T.min=r[w].min,T.max=T.min+b}):yS(a,t.layoutBox,r)&&Qn(w=>{const T=l?t.measuredBox[w]:t.layoutBox[w],b=Ln(r[w]);T.max=T.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+b)});const u=ba();vc(u,r,t.layoutBox);const p=ba();l?vc(p,n.applyTransform(i,!0),t.measuredBox):vc(p,r,t.layoutBox);const m=!fS(u);let y=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:b}=w;if(T&&b){const C=yt();xc(C,t.layoutBox,T.layoutBox);const k=yt();xc(k,r,b.layoutBox),pS(C,k)||(y=!0),w.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=C,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function B3(n){lc&&so.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function z3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $3(n){n.clearSnapshot()}function f1(n){n.clearMeasurements()}function W3(n){n.isLayoutDirty=!1}function q3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function p1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function H3(n){n.resolveTargetDelta()}function K3(n){n.calcProjection()}function G3(n){n.resetSkewAndRotation()}function Q3(n){n.removeLeadSnapshot()}function m1(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function g1(n,e,t,r){n.min=ut(e.min,t.min,r),n.max=ut(e.max,t.max,r)}function Y3(n,e,t,r){g1(n.x,e.x,t.x,r),g1(n.y,e.y,t.y,r)}function X3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const J3={duration:.45,ease:[.4,0,.1,1]},y1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),v1=y1("applewebkit/")&&!y1("chrome/")?Math.round:Mn;function x1(n){n.min=v1(n.min),n.max=v1(n.max)}function Z3(n){x1(n.x),x1(n.y)}function yS(n,e,t){return n==="position"||n==="preserve-aspect"&&!n3(u1(e),u1(t),.2)}function eL(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const tL=gS({attachResizeListener:(n,e)=>Mc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cm={current:void 0},vS=gS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!cm.current){const n=new tL({});n.mount(window),n.setOptions({layoutScroll:!0}),cm.current=n}return cm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nL={pan:{Feature:v3},drag:{Feature:y3,ProjectionNode:vS,MeasureLayout:uS}};function w1(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&st.postRender(()=>a(e,tu(e)))}class rL extends Ii{mount(){const{current:e}=this.node;e&&(this.unmount=nM(e,t=>(w1(this.node,t,"Start"),r=>w1(this.node,r,"End"))))}unmount(){}}class sL extends Ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _1(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&st.postRender(()=>a(e,tu(e)))}class iL extends Ii{mount(){const{current:e}=this.node;e&&(this.unmount=oM(e,t=>(_1(this.node,t,"Start"),(r,{success:i})=>_1(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ng=new WeakMap,um=new WeakMap,oL=n=>{const e=ng.get(n.target);e&&e(n)},aL=n=>{n.forEach(oL)};function lL({root:n,...e}){const t=n||document;um.has(t)||um.set(t,{});const r=um.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(aL,{root:n,...e})),r[i]}function cL(n,e,t){const r=lL(e);return ng.set(n,t),r.observe(n),()=>{ng.delete(n),r.unobserve(n)}}const uL={some:0,all:1};class hL extends Ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uL[i]},u=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),T=m?y:w;T&&T(p)};return cL(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(dL(e,t))&&this.startObserver()}unmount(){}}function dL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const fL={inView:{Feature:hL},tap:{Feature:iL},focus:{Feature:sL},hover:{Feature:rL}},pL={layout:{ProjectionNode:vS,MeasureLayout:uS}},rg={current:null},xS={current:!1};function mL(){if(xS.current=!0,!!fy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>rg.current=n.matches;n.addListener(e),e()}else rg.current=!1}const gL=[...Wk,en,_i],yL=n=>gL.find($k(n)),T1=new WeakMap;function vL(n,e,t){for(const r in e){const i=e[r],a=t[r];if(sn(i))n.addValue(r,i);else if(sn(a))n.addValue(r,Dc(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Dc(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const E1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xL{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Kr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,st.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:y}=l;this.onUpdate=y,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=ef(t),this.isVariantNode=Jb(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in T){const C=T[b];p[b]!==void 0&&sn(C)&&C.set(p[b],!1)}}mount(e){this.current=e,T1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),xS.current||mL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T1.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Io.has(e),i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&st.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wa){const t=Wa[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<E1.length;r++){const i=E1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=vL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Dc(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Bk(i)||Rk(i))?i=parseFloat(i):!yL(i)&&_i.test(t)&&(i=Ok(e,t)),this.setBaseTarget(e,sn(i)?i.get():i)),sn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=wy(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Dy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class wS extends xL{constructor(){super(...arguments),this.KeyframeResolver=qk}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wL(n){return window.getComputedStyle(n)}class _L extends wS{constructor(){super(...arguments),this.type="html",this.renderInstance=ak}readValueFromInstance(e,t){if(Io.has(t)){const r=Fy(t);return r&&r.default||0}else{const r=wL(e),i=(sk(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return lS(e,t)}build(e,t,r){Ey(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Iy(e,t,r)}}class TL extends wS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Io.has(t)){const r=Fy(t);return r&&r.default||0}return t=lk.has(t)?t:yy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return hk(e,t,r)}build(e,t,r){by(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){ck(e,t,r,i)}mount(e){this.isSVGTag=Sy(e.tagName),super.mount(e)}}const EL=(n,e)=>xy(n)?new TL(e):new _L(e,{allowProjection:n!==R.Fragment}),bL=Q5({...K6,...fL,...nL,...pL},EL),oe=u5(bL),_S=({isOpen:n,onClose:e})=>{const[t,r]=R.useState(!1),[i,a]=R.useState(!1),[l,u]=R.useState(!1),[p,m]=R.useState(""),[y,w]=R.useState({email:"",password:"",displayName:"",confirmPassword:""}),{signInWithGoogle:T,signInWithEmail:b,signUpWithEmail:C}=Ss(),k=ee=>{w({...y,[ee.target.name]:ee.target.value}),m("")},I=async()=>{u(!0),m("");try{await T(),e()}catch(ee){m(ee.message||"Failed to sign in with Google")}finally{u(!1)}},L=async ee=>{ee.preventDefault(),u(!0),m("");try{if(t){if(y.password!==y.confirmPassword){m("Passwords do not match"),u(!1);return}if(y.password.length<6){m("Password must be at least 6 characters"),u(!1);return}if(!y.displayName.trim()){m("Display name is required"),u(!1);return}await C(y.email,y.password,y.displayName)}else await b(y.email,y.password);e()}catch(ae){m(ae.message||`Failed to ${t?"sign up":"sign in"}`)}finally{u(!1)}},U=()=>{w({email:"",password:"",displayName:"",confirmPassword:""}),m(""),a(!1)},H=()=>{r(!t),U()},J=()=>{U(),e()};return d.jsx(Xc,{children:n&&d.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:J,children:d.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:ee=>ee.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Create Account":"Welcome Back"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t?"Join FitVision to track your AI-powered workouts":"Sign in to continue your fitness journey"})]}),d.jsx("button",{onClick:J,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Yc,{className:"h-6 w-6"})})]}),p&&d.jsxs(oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[d.jsx(Bb,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-red-700",children:p})]}),d.jsxs("button",{onClick:I,disabled:l,className:"w-full mb-6 py-3 px-4 border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-all duration-200 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Continue with Google"})]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),d.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),d.jsx("input",{type:"text",name:"displayName",value:y.displayName,onChange:k,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your name",required:t})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(UV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"email",name:"email",value:y.email,onChange:k,className:"w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(s_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:i?"text":"password",name:"password",value:y.password,onChange:k,className:"w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),d.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?d.jsx(MV,{className:"h-4 w-4"}):d.jsx(LV,{className:"h-4 w-4"})})]})]}),t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(s_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:y.confirmPassword,onChange:k,className:"w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:t})]})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Please wait...":t?"Create Account":"Sign In"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[t?"Already have an account?":"Don't have an account?",d.jsx("button",{onClick:H,className:"ml-1 text-purple-600 hover:text-purple-700 font-medium",children:t?"Sign In":"Sign Up"})]})})]})})})},kL=({isOpen:n,onClose:e})=>{var b,C;const{userProfile:t,updateUserProfile:r}=Ss(),{theme:i,setTheme:a}=Ub(),[l,u]=R.useState({autoRest:!0,voiceCoaching:!0,formAlerts:!0,repCounting:!0,workoutReminders:((b=t==null?void 0:t.preferences)==null?void 0:b.notifications)||!0,achievementAlerts:!0,weeklyReports:!0,cameraAccess:!0,microphoneAccess:!1,dataCollection:!0,analyticsSharing:!1,theme:i,units:((C=t==null?void 0:t.preferences)==null?void 0:C.units)||"metric",language:"en",aiDifficulty:"adaptive",poseAccuracy:"high",feedbackFrequency:"normal"});R.useEffect(()=>{n&&u(k=>{var I,L;return{...k,theme:i,units:((I=t==null?void 0:t.preferences)==null?void 0:I.units)||"metric",workoutReminders:((L=t==null?void 0:t.preferences)==null?void 0:L.notifications)||!0}})},[n,t,i]);const p=(k,I)=>{u(L=>({...L,[k]:I})),k==="theme"&&a(I)},m=async()=>{try{await r({preferences:{...t==null?void 0:t.preferences,notifications:l.workoutReminders,theme:l.theme,units:l.units}}),e()}catch(k){console.error("Error saving settings:",k)}},y=()=>{u({autoRest:!0,voiceCoaching:!0,formAlerts:!0,repCounting:!0,workoutReminders:!0,achievementAlerts:!0,weeklyReports:!0,cameraAccess:!0,microphoneAccess:!1,dataCollection:!0,analyticsSharing:!1,theme:"light",units:"metric",language:"en",aiDifficulty:"adaptive",poseAccuracy:"high",feedbackFrequency:"normal"}),a("light")},w=({enabled:k,onChange:I,label:L,description:U})=>d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L}),U&&d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:U})]}),d.jsx("button",{onClick:()=>I(!k),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k?"bg-purple-600":"bg-gray-200"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k?"translate-x-6":"translate-x-1"}`})})]}),T=({value:k,onChange:I,options:L,label:U})=>d.jsxs("div",{className:"py-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:U}),d.jsx("select",{value:k,onChange:H=>I(H.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:L.map(H=>d.jsx("option",{value:H.value,children:H.label},H.value))})]});return d.jsx(Xc,{children:n&&d.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:k=>k.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:d.jsx(ly,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Settings"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Customize your FitVision experience"})]})]}),d.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-white transition-colors",children:d.jsx(Yc,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(ja,{className:"h-5 w-5 mr-2 text-purple-600"}),"Workout Settings"]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(w,{enabled:l.autoRest,onChange:k=>p("autoRest",k),label:"Auto Rest Timer",description:"Automatically start rest periods between sets"}),d.jsx(w,{enabled:l.voiceCoaching,onChange:k=>p("voiceCoaching",k),label:"Voice Coaching",description:"Audio cues and form corrections during workouts"}),d.jsx(w,{enabled:l.formAlerts,onChange:k=>p("formAlerts",k),label:"Form Alerts",description:"Real-time notifications for form improvements"}),d.jsx(w,{enabled:l.repCounting,onChange:k=>p("repCounting",k),label:"Auto Rep Counting",description:"AI-powered automatic repetition counting"})]}),d.jsx(T,{value:l.aiDifficulty,onChange:k=>p("aiDifficulty",k),label:"AI Difficulty",options:[{value:"easy",label:"Easy - Relaxed form requirements"},{value:"adaptive",label:"Adaptive - Adjusts to your level"},{value:"strict",label:"Strict - Precise form required"}]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(jV,{className:"h-5 w-5 mr-2 text-blue-600"}),"Notifications"]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(w,{enabled:l.workoutReminders,onChange:k=>p("workoutReminders",k),label:"Workout Reminders",description:"Daily reminders to stay active"}),d.jsx(w,{enabled:l.achievementAlerts,onChange:k=>p("achievementAlerts",k),label:"Achievement Alerts",description:"Notifications when you unlock achievements"}),d.jsx(w,{enabled:l.weeklyReports,onChange:k=>p("weeklyReports",k),label:"Weekly Reports",description:"Summary of your weekly progress"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(qb,{className:"h-5 w-5 mr-2 text-green-600"}),"Privacy & Permissions"]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(w,{enabled:l.cameraAccess,onChange:k=>p("cameraAccess",k),label:"Camera Access",description:"Required for AI pose detection"}),d.jsx(w,{enabled:l.microphoneAccess,onChange:k=>p("microphoneAccess",k),label:"Microphone Access",description:"For voice commands and coaching"}),d.jsx(w,{enabled:l.dataCollection,onChange:k=>p("dataCollection",k),label:"Workout Data Collection",description:"Store workout data for progress tracking"}),d.jsx(w,{enabled:l.analyticsSharing,onChange:k=>p("analyticsSharing",k),label:"Anonymous Analytics",description:"Help improve FitVision with usage data"})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(qV,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Display & Language"]}),d.jsx(T,{value:l.theme,onChange:k=>p("theme",k),label:"Theme",options:[{value:"light",label:"☀️ Light Mode"},{value:"dark",label:"🌙 Dark Mode"},{value:"auto",label:"🔄 Auto (System)"}]}),d.jsx(T,{value:l.units,onChange:k=>p("units",k),label:"Units",options:[{value:"metric",label:"Metric (kg, cm, km)"},{value:"imperial",label:"Imperial (lbs, ft, miles)"}]}),d.jsx(T,{value:l.language,onChange:k=>p("language",k),label:"Language",options:[{value:"en",label:"🇺🇸 English"},{value:"es",label:"🇪🇸 Español"},{value:"fr",label:"🇫🇷 Français"},{value:"de",label:"🇩🇪 Deutsch"}]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(Wb,{className:"h-5 w-5 mr-2 text-yellow-600"}),"AI Settings"]}),d.jsx(T,{value:l.poseAccuracy,onChange:k=>p("poseAccuracy",k),label:"Pose Detection Accuracy",options:[{value:"low",label:"Low - Faster performance"},{value:"medium",label:"Medium - Balanced"},{value:"high",label:"High - Best accuracy"}]}),d.jsx(T,{value:l.feedbackFrequency,onChange:k=>p("feedbackFrequency",k),label:"Feedback Frequency",options:[{value:"minimal",label:"Minimal - Only major corrections"},{value:"normal",label:"Normal - Balanced feedback"},{value:"detailed",label:"Detailed - Comprehensive guidance"}]})]})]})]})}),d.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[d.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white transition-colors",children:[d.jsx(ay,{className:"h-4 w-4"}),d.jsx("span",{children:"Reset to Defaults"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:m,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all duration-200",children:"Save Changes"})]})]})]})})})},SL=()=>{const[n,e]=R.useState(!1),[t,r]=R.useState(!1),[i,a]=R.useState(!1),[l,u]=R.useState(!1),p=Oc(),{user:m,userProfile:y,logout:w}=Ss(),{isDark:T,toggleTheme:b}=Ub(),C=async()=>{try{await w(),u(!1)}catch(I){console.error("Error logging out:",I)}},k=[{name:"Home",href:"/",current:p.pathname==="/"},{name:"Dashboard",href:"/dashboard",current:p.pathname==="/dashboard",protected:!0},{name:"Analytics",href:"/analytics",current:p.pathname==="/analytics",protected:!0},{name:"Workout Library",href:"/workout-library",current:p.pathname==="/workout-library"},{name:"Workout Session",href:"/workout-session",current:p.pathname==="/workout-session",protected:!0}].filter(I=>!I.protected||m);return d.jsxs("nav",{className:"bg-white dark:bg-gray-900 shadow-lg fixed w-full z-50 transition-colors duration-200",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs(Rn,{to:"/",className:"flex-shrink-0 flex items-center",children:[d.jsx("img",{className:"h-8 w-auto",src:"/FitVision/images/logo.png",alt:"FitVision"}),d.jsxs("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white",children:["Fit",d.jsx("span",{className:"text-purple-600",children:"Vision"})]})]})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[k.map(I=>d.jsx(Rn,{to:I.href,className:`${I.current?"text-purple-600 border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white"} px-3 py-2 text-sm font-medium transition-colors duration-200`,children:I.name},I.name)),d.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition-colors duration-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Toggle theme",children:T?d.jsx(a_,{className:"h-5 w-5"}):d.jsx(i_,{className:"h-5 w-5"})}),m?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>u(!l),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[m.photoURL?d.jsx("img",{src:m.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:d.jsx(pd,{className:"h-4 w-4 text-white"})}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(y==null?void 0:y.displayName)||m.displayName||"User"})]}),l&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(y==null?void 0:y.displayName)||m.displayName}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.email})]}),d.jsxs(Rn,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>u(!1),children:[d.jsx(pd,{className:"h-4 w-4 mr-3"}),"Profile"]}),d.jsxs(Rn,{to:"/achievements",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>u(!1),children:[d.jsx(Va,{className:"h-4 w-4 mr-3"}),"Achievements"]}),d.jsxs("button",{onClick:()=>{a(!0),u(!1)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[d.jsx(ly,{className:"h-4 w-4 mr-3"}),"Settings"]}),d.jsxs("button",{onClick:C,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:[d.jsx(FV,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})})]}):d.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-200",children:"Sign In"})]}),d.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[d.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition-colors duration-200","aria-label":"Toggle theme",children:T?d.jsx(a_,{className:"h-5 w-5"}):d.jsx(i_,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>e(!n),className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white focus:outline-none",children:n?d.jsx(Yc,{className:"h-6 w-6"}):d.jsx($V,{className:"h-6 w-6"})})]})]}),n&&d.jsx("div",{className:"md:hidden",children:d.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:k.map(I=>d.jsx(Rn,{to:I.href,className:`${I.current?"text-purple-600 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 hover:text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800"} block px-3 py-2 text-base font-medium rounded-md transition-colors duration-200`,onClick:()=>e(!1),children:I.name},I.name))})})]}),d.jsx(_S,{isOpen:t,onClose:()=>r(!1)}),d.jsx(kL,{isOpen:i,onClose:()=>a(!1)})]})},Zl=({children:n,redirectTo:e="/"})=>{const{user:t,loading:r}=Ss(),[i,a]=R.useState(!1);return r?d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?d.jsx(d.Fragment,{children:n}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:d.jsx("div",{className:"text-center max-w-md mx-auto px-4",children:d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your personalized workout dashboard and track your fitness progress."}),d.jsx("button",{onClick:()=>a(!0),className:"w-full py-3 px-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:"Sign In to Continue"})]})})}),d.jsx(_S,{isOpen:i,onClose:()=>a(!1)})]})};function IL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const AL=R.forwardRef(IL);function CL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const b1=R.forwardRef(CL);function NL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const hm=R.forwardRef(NL);function PL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const RL=R.forwardRef(PL);function jL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const DL=R.forwardRef(jL);function VL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const ML=R.forwardRef(VL);function LL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const k1=R.forwardRef(LL);function OL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const FL=R.forwardRef(OL),UL=()=>{const n=[{icon:d.jsx(DL,{className:"h-8 w-8"}),title:"Real-Time Pose Detection",description:"Advanced MediaPipe integration tracks 33+ body keypoints with skeleton overlay visualization for perfect form analysis.",color:"bg-blue-500"},{icon:d.jsx(b1,{className:"h-8 w-8"}),title:"Smart Rep Counter",description:"AI-powered OpenCV algorithms automatically count push-ups, squats, and jumping jacks by tracking body movement patterns.",color:"bg-green-500"},{icon:d.jsx(RL,{className:"h-8 w-8"}),title:"Posture Correction Alerts",description:"Real-time joint angle analysis provides instant feedback to prevent injuries and optimize workout effectiveness.",color:"bg-yellow-500"},{icon:d.jsx(hm,{className:"h-8 w-8"}),title:"AI Analytics Dashboard",description:"Machine learning algorithms analyze your performance trends and provide personalized workout recommendations.",color:"bg-purple-500"}],e=[{name:"Push-ups",reps:"Auto-counted",difficulty:"Beginner"},{name:"Squats",reps:"Auto-counted",difficulty:"Intermediate"},{name:"Jumping Jacks",reps:"Auto-counted",difficulty:"Beginner"},{name:"Planks",reps:"Time-based",difficulty:"Advanced"}],t=[{label:"AI Accuracy",value:"95%",icon:d.jsx(hm,{className:"h-6 w-6"})},{label:"Workouts Tracked",value:"10K+",icon:d.jsx(b1,{className:"h-6 w-6"})},{label:"Users Active",value:"2.5K+",icon:d.jsx(FL,{className:"h-6 w-6"})},{label:"Calories Burned",value:"500K+",icon:d.jsx(ML,{className:"h-6 w-6"})}];return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center py-16",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/FitVision/images/logo.png",alt:"FitVision Logo",className:"h-40 w-auto mx-auto mb-6 drop-shadow-lg"}),d.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"AI POWERED"})]}),d.jsxs("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white sm:text-5xl sm:tracking-tight lg:text-6xl",children:["Fit",d.jsx("span",{className:"text-purple-600",children:"Vision"})]}),d.jsx("p",{className:"mt-5 max-w-2xl mx-auto text-xl text-gray-600 dark:text-gray-300",children:"Your AI-Powered Personal Trainer with Real-Time Pose Detection, Smart Rep Counting & Posture Correction"}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[d.jsxs(Rn,{to:"/workout-session",className:"inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-medium rounded-lg text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg transform hover:scale-105 transition-all duration-200",children:[d.jsx(k1,{className:"h-5 w-5 mr-2"}),"Start AI Workout"]}),d.jsxs(Rn,{to:"/workout-library",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-purple-600 text-lg font-medium rounded-lg text-purple-600 bg-white dark:bg-gray-800 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-gray-700 shadow-lg transform hover:scale-105 transition-all duration-200",children:[d.jsx(AL,{className:"h-5 w-5 mr-2"}),"Browse AI Workouts"]})]})]}),d.jsx("div",{className:"py-12 border-y border-gray-200 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl mb-16",children:d.jsx("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:t.map((r,i)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center text-purple-600 mb-2",children:r.icon}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.value}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.label})]},i))})}),d.jsxs("div",{className:"py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"Advanced AI Features"}),d.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-600 dark:text-gray-300",children:"Powered by MediaPipe, OpenCV, and TensorFlow for the most accurate fitness tracking"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4",children:n.map((r,i)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100 dark:border-gray-700",children:[d.jsx("div",{className:`inline-flex p-3 rounded-lg text-white mb-4 ${r.color}`,children:r.icon}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:r.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:r.description})]},i))})]}),d.jsx("div",{className:"py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-sm",children:d.jsxs("div",{className:"px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"AI-Supported Workouts"}),d.jsx("p",{className:"mt-4 text-xl text-gray-600 dark:text-gray-300",children:"Each workout includes real-time AI analysis and feedback"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:e.map((r,i)=>d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:border-purple-300 dark:hover:border-purple-400 transition-colors duration-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.name}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.difficulty==="Beginner"?"bg-green-100 text-green-800":r.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.difficulty})]}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:r.reps}),d.jsxs("div",{className:"flex items-center text-xs text-purple-600",children:[d.jsx(hm,{className:"h-4 w-4 mr-1"}),"AI Tracking Enabled"]})]},i))})]})}),d.jsxs("div",{className:"py-16",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"How FitVision AI Works"})}),d.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-purple-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"1"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Camera Setup"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Position yourself in front of your device camera. Our AI will detect your body pose in real-time."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-blue-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"2"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"AI Analysis"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"MediaPipe tracks 33+ body keypoints while OpenCV counts reps and analyzes your form."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-green-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-green-600",children:"3"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Real-Time Feedback"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Get instant posture corrections, rep counts, and performance analytics during your workout."})]})]})]}),d.jsxs("div",{className:"py-16 text-center bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl text-white",children:[d.jsx("h2",{className:"text-3xl font-extrabold mb-4",children:"Ready to Transform Your Fitness Journey?"}),d.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of users already training smarter with AI"}),d.jsxs(Rn,{to:"/workout-session",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-white dark:border-gray-600 text-lg font-medium rounded-lg text-purple-600 dark:text-purple-400 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 shadow-lg transform hover:scale-105 transition-all duration-200",children:[d.jsx(k1,{className:"h-5 w-5 mr-2"}),"Start Your First AI Workout"]})]})]})})};class ri{static async saveWorkoutSession(e,t){try{const r={userId:e,workoutType:{id:t.workoutType.id,name:t.workoutType.name,category:t.workoutType.category,difficulty:t.workoutType.difficulty,type:t.workoutType.type},targetValue:t.targetValue,actualValue:t.repsCompleted,startTime:We.fromDate(t.startTime),endTime:We.fromDate(t.endTime||new Date),duration:Math.floor(((t.endTime||new Date).getTime()-t.startTime.getTime())/1e3),repsCompleted:t.repsCompleted,accuracy:t.accuracy,formScore:t.accuracy,calories:t.calories,aiAccuracy:t.accuracy,formFeedback:(t.formFeedback||[]).map(a=>({timestamp:a.timestamp instanceof Date?a.timestamp.getTime():a.timestamp,type:a.type==="error"?"warning":a.type==="correct"?"encouragement":a.type,message:a.message})),createdAt:We.now()},i=await r4(Qp(Ur,this.COLLECTION_NAME),r);return await this.updateUserStats(e,r),i.id}catch(r){throw console.error("Error saving workout session:",r),r}}static async getUserWorkouts(e,t=50){try{const r=qw(Qp(Ur,this.COLLECTION_NAME),Eh("userId","==",e),Hw("createdAt","desc"),JD(t));return(await Qw(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(r){throw console.error("Error getting user workouts:",r),r}}static async getWorkoutById(e){try{const t=oi(Ur,this.COLLECTION_NAME,e),r=await ud(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){throw console.error("Error getting workout by ID:",t),t}}static async deleteWorkoutSession(e){try{await n4(oi(Ur,this.COLLECTION_NAME,e))}catch(t){throw console.error("Error deleting workout session:",t),t}}static async getUserStats(e){try{const t=await this.getUserWorkouts(e,1e3);if(t.length===0)return{totalWorkouts:0,totalReps:0,totalCalories:0,totalMinutes:0,avgFormScore:0,avgAiAccuracy:0,currentStreak:0,bestStreak:0,workoutsByCategory:{},workoutsByDifficulty:{},recentWorkouts:[]};const r=t.length,i=t.reduce((b,C)=>b+C.repsCompleted,0),a=t.reduce((b,C)=>b+C.calories,0),l=Math.floor(t.reduce((b,C)=>b+C.duration,0)/60),u=Math.round(t.reduce((b,C)=>b+C.formScore,0)/r),p=Math.round(t.reduce((b,C)=>b+C.aiAccuracy,0)/r),m={},y={};t.forEach(b=>{const C=b.workoutType.category,k=b.workoutType.difficulty;m[C]=(m[C]||0)+1,y[k]=(y[k]||0)+1});const{currentStreak:w,bestStreak:T}=this.calculateWorkoutStreaks(t);return{totalWorkouts:r,totalReps:i,totalCalories:a,totalMinutes:l,avgFormScore:u,avgAiAccuracy:p,currentStreak:w,bestStreak:T,workoutsByCategory:m,workoutsByDifficulty:y,recentWorkouts:t.slice(0,10)}}catch(t){throw console.error("Error getting user stats:",t),t}}static calculateWorkoutStreaks(e){if(e.length===0)return{currentStreak:0,bestStreak:0};const t=new Set(e.map(p=>p.createdAt.toDate().toDateString())),r=Array.from(t).sort((p,m)=>new Date(m).getTime()-new Date(p).getTime());let i=0,a=0,l=0;const u=new Date;u.setHours(0,0,0,0);for(let p=0;p<r.length;p++){const m=new Date(r[p]);m.setHours(0,0,0,0);const y=Math.floor((u.getTime()-m.getTime())/(1e3*60*60*24));if(p===0&&(y===0||y===1))i=1;else if(i>0){const w=new Date(r[p-1]);if(w.setHours(0,0,0,0),Math.floor((w.getTime()-m.getTime())/(1e3*60*60*24))===1)i++;else break}}l=1;for(let p=1;p<r.length;p++){const m=new Date(r[p]),y=new Date(r[p-1]);Math.floor((y.getTime()-m.getTime())/(1e3*60*60*24))===1?l++:(a=Math.max(a,l),l=1)}return a=Math.max(a,l),{currentStreak:i,bestStreak:a}}static async updateUserStats(e,t){try{const r=oi(Ur,this.USER_STATS_COLLECTION,e),i=await ud(r);let a={totalWorkouts:0,totalReps:0,totalCalories:0,totalMinutes:0,lastWorkoutDate:null,updatedAt:We.now()};i.exists()&&(a={...a,...i.data()});const l={totalWorkouts:a.totalWorkouts+1,totalReps:a.totalReps+t.repsCompleted,totalCalories:a.totalCalories+t.calories,totalMinutes:a.totalMinutes+Math.floor(t.duration/60),lastWorkoutDate:t.createdAt,updatedAt:We.now()};await t4(r,l)}catch(r){console.error("Error updating user stats:",r)}}static async getWorkoutsInDateRange(e,t,r){try{const i=qw(Qp(Ur,this.COLLECTION_NAME),Eh("userId","==",e),Eh("createdAt",">=",We.fromDate(t)),Eh("createdAt","<=",We.fromDate(r)),Hw("createdAt","desc"));return(await Qw(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(i){throw console.error("Error getting workouts in date range:",i),i}}}rt(ri,"COLLECTION_NAME","workouts"),rt(ri,"USER_STATS_COLLECTION","userStats");const rl=()=>{const{user:n}=Ss(),[e,t]=R.useState([]),[r,i]=R.useState(null),[a,l]=R.useState(!0),[u,p]=R.useState(null),m=async()=>{if(!n){t([]),i(null),l(!1);return}try{l(!0),p(null);const[b,C]=await Promise.all([ri.getUserWorkouts(n.uid,50),ri.getUserStats(n.uid)]);t(b),i(C)}catch(b){console.error("Error loading workout data:",b),p("Failed to load workout data")}finally{l(!1)}},y=async b=>{if(!n)throw new Error("User not authenticated");try{await ri.saveWorkoutSession(n.uid,b),await m()}catch(C){throw console.error("Error saving workout:",C),C}},w=async b=>{try{await ri.deleteWorkoutSession(b),await m()}catch(C){throw console.error("Error deleting workout:",C),C}},T=async(b,C)=>{if(!n)return[];try{return await ri.getWorkoutsInDateRange(n.uid,b,C)}catch(k){throw console.error("Error getting workouts in range:",k),k}};return R.useEffect(()=>{m()},[n]),{workouts:e,stats:r,loading:a,error:u,saveWorkout:y,deleteWorkout:w,getWorkoutsInRange:T,refreshData:m}},BL=()=>{const{user:n}=Ss(),[e,t]=R.useState([]),[r,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{if(!n){t([]),i(!1);return}try{const l=new Date,u=new Date;u.setDate(u.getDate()-7);const p=await ri.getWorkoutsInDateRange(n.uid,u,l),y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((w,T)=>{const b=new Date;b.setDate(b.getDate()-(6-T));const C=p.filter(k=>k.createdAt.toDate().toDateString()===b.toDateString());return{day:w,date:b,workouts:C.length,totalReps:C.reduce((k,I)=>k+I.repsCompleted,0),totalCalories:C.reduce((k,I)=>k+I.calories,0),avgFormScore:C.length>0?Math.round(C.reduce((k,I)=>k+I.formScore,0)/C.length):0}});t(y)}catch(l){console.error("Error loading weekly data:",l)}finally{i(!1)}})()},[n]),{weeklyData:e,loading:r}},zL=()=>{const{stats:n}=rl();return{workoutBreakdown:(()=>{if(!n||!n.workoutsByCategory)return[];const t={strength:{bg:"bg-purple-500",light:"bg-purple-100",text:"text-purple-600",color:"bg-purple-500",textColor:"text-purple-600"},cardio:{bg:"bg-blue-500",light:"bg-blue-100",text:"text-blue-600",color:"bg-blue-500",textColor:"text-blue-600"},core:{bg:"bg-green-500",light:"bg-green-100",text:"text-green-600",color:"bg-green-500",textColor:"text-green-600"},flexibility:{bg:"bg-yellow-500",light:"bg-yellow-100",text:"text-yellow-600",color:"bg-yellow-500",textColor:"text-yellow-600"}};return Object.entries(n.workoutsByCategory).map(([r,i])=>({name:r.charAt(0).toUpperCase()+r.slice(1),count:i,sessions:i,totalReps:Math.round(i*20),avgFormScore:n.avgFormScore||85,percentage:Math.round(i/n.totalWorkouts*100),...t[r]||t.strength}))})()}},$L=()=>{const{user:n,userProfile:e}=Ss(),{workouts:t,stats:r,loading:i}=rl();if(i)return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})});const a=t.slice(0,3).map(m=>({id:m.id,name:m.workoutType.name,date:m.createdAt.toDate().toISOString().split("T")[0],reps:m.repsCompleted,duration:`${Math.floor(m.duration/60)} min`,formScore:m.formScore,calories:m.calories})),l={workoutsCompleted:(r==null?void 0:r.totalWorkouts)||0,totalReps:(r==null?void 0:r.totalReps)||0,totalMinutes:(r==null?void 0:r.totalMinutes)||0,avgFormScore:(r==null?void 0:r.avgFormScore)||0,totalCalories:(r==null?void 0:r.totalCalories)||0,streak:(r==null?void 0:r.currentStreak)||0},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[d.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:["Welcome Back",e!=null&&e.displayName?`, ${e.displayName}`:""]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"AI-powered fitness tracking with real-time form correction and progress analytics"})]}),d.jsxs(oe.div,{variants:u,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[d.jsx(oe.div,{variants:p,children:d.jsxs(Rn,{to:"/workout-session",className:"group bg-gradient-to-r from-purple-600 to-blue-600 dark:from-purple-700 dark:to-blue-700 text-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 block",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:d.jsx(Pc,{className:"h-8 w-8"})}),d.jsx("div",{className:"flex items-center text-white/80",children:d.jsx("span",{className:"text-xs bg-white/20 px-3 py-1 rounded-full",children:"AI POWERED"})})]}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Workout"}),d.jsx("p",{className:"text-purple-100 mb-4",children:"Real-time pose detection & form feedback"}),d.jsxs("div",{className:"flex items-center text-white/80",children:[d.jsx("span",{className:"text-sm",children:"Begin your fitness journey"}),d.jsx(Fh,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})}),d.jsx(oe.div,{variants:p,children:d.jsxs(Rn,{to:"/workout-library",className:"group bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 block border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:d.jsx(gs,{className:"h-8 w-8 text-purple-600"})}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-3 py-1 rounded-full",children:"LIBRARY"})})]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Browse Workouts"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Discover AI-tracked exercises"}),d.jsxs("div",{className:"flex items-center text-purple-600",children:[d.jsx("span",{className:"text-sm font-medium",children:"Explore collection"}),d.jsx(Fh,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})}),d.jsx(oe.div,{variants:p,children:d.jsxs(Rn,{to:"/analytics",className:"group bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 block border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:d.jsx(di,{className:"h-8 w-8 text-green-600"})}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-3 py-1 rounded-full",children:"INSIGHTS"})})]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"View Analytics"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Track your fitness progress"}),d.jsxs("div",{className:"flex items-center text-green-600",children:[d.jsx("span",{className:"text-sm font-medium",children:"See detailed metrics"}),d.jsx(Fh,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]}),d.jsxs(oe.div,{variants:u,initial:"hidden",animate:"visible",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-12",children:[d.jsxs(oe.div,{variants:p,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-purple-100 rounded-xl mb-3",children:d.jsx(gs,{className:"h-6 w-6 text-purple-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.workoutsCompleted}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Workouts"})]}),d.jsxs(oe.div,{variants:p,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-blue-100 rounded-xl mb-3",children:d.jsx(rn,{className:"h-6 w-6 text-blue-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalReps}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Reps"})]}),d.jsxs(oe.div,{variants:p,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-green-100 rounded-xl mb-3",children:d.jsx(Es,{className:"h-6 w-6 text-green-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalMinutes}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Minutes"})]}),d.jsxs(oe.div,{variants:p,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-yellow-100 rounded-xl mb-3",children:d.jsx(Ra,{className:"h-6 w-6 text-yellow-600"})}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[l.avgFormScore,"%"]}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Form Score"})]}),d.jsxs(oe.div,{variants:p,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-red-100 rounded-xl mb-3",children:d.jsx(Zn,{className:"h-6 w-6 text-red-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalCalories}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"})]}),d.jsxs(oe.div,{variants:p,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-orange-100 rounded-xl mb-3",children:d.jsx(JV,{className:"h-6 w-6 text-orange-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.streak}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Day Streak"})]})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Recent Workouts"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Your latest AI-tracked sessions"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ja,{className:"h-5 w-5 text-purple-600"}),d.jsx(ho,{className:"h-5 w-5 text-purple-600"})]})]}),a.length>0?d.jsx("div",{className:"space-y-4",children:a.map((m,y)=>d.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:shadow-md transition-all duration-200",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:d.jsx(uo,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:m.name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(m.date).toLocaleDateString()})]})]}),d.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:m.reps}),d.jsx("div",{className:"text-gray-500",children:"reps"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:m.duration}),d.jsx("div",{className:"text-gray-500",children:"time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"font-semibold text-gray-900",children:[m.formScore,"%"]}),d.jsx("div",{className:"text-gray-500",children:"form"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:m.calories}),d.jsx("div",{className:"text-gray-500",children:"cal"})]})]})]},m.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ja,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workouts yet"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Start your first AI-powered workout to see your progress"}),d.jsxs(Rn,{to:"/workout-session",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:[d.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Start First Workout"]})]})]}),d.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white mb-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(ja,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Real-time Detection"}),d.jsx("p",{className:"text-purple-100",children:"AI tracks your movements with precision using advanced pose detection"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(ho,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Smart Feedback"}),d.jsx("p",{className:"text-purple-100",children:"Get instant form corrections and personalized workout insights"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(rn,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Auto Rep Counting"}),d.jsx("p",{className:"text-purple-100",children:"Never lose count again with our intelligent repetition tracking"})]})]})})]})})},WL=()=>{const[n,e]=R.useState("week"),{stats:t,loading:r}=rl(),{weeklyData:i}=BL(),{workoutBreakdown:a}=zL();if(r)return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})});const l={workouts:(t==null?void 0:t.totalWorkouts)||0,totalReps:(t==null?void 0:t.totalReps)||0,avgFormScore:(t==null?void 0:t.avgFormScore)||0,aiAccuracy:(t==null?void 0:t.avgAiAccuracy)||0,caloriesBurned:(t==null?void 0:t.totalCalories)||0,activeMinutes:(t==null?void 0:t.totalMinutes)||0,improvements:Math.floor(((t==null?void 0:t.totalWorkouts)||0)*1.5)},u=i.map(w=>({day:w.day,workouts:w.workouts,formScore:w.avgFormScore,reps:w.totalReps})),p=({title:w,value:T,change:b,icon:C,bgColor:k,textColor:I,subtitle:L})=>d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("div",{className:`p-2 rounded-lg ${k}`,children:C}),d.jsx("p",{className:"text-sm font-medium text-gray-600",children:w})]}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:T}),L&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:L})]})}),b!==void 0&&d.jsxs("div",{className:"mt-4 flex items-center",children:[b>0?d.jsxs("div",{className:"flex items-center bg-green-100 px-2 py-1 rounded-full",children:[d.jsx(di,{className:"h-3 w-3 text-green-600 mr-1"}),d.jsxs("span",{className:"text-xs font-medium text-green-600",children:["+",b,"%"]})]}):b<0?d.jsxs("div",{className:"flex items-center bg-red-100 px-2 py-1 rounded-full",children:[d.jsx(XV,{className:"h-3 w-3 text-red-600 mr-1"}),d.jsxs("span",{className:"text-xs font-medium text-red-600",children:[b,"%"]})]}):d.jsx("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full",children:d.jsx("span",{className:"text-xs font-medium text-gray-600",children:"No change"})}),d.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["vs last ",n]})]})]}),m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl mr-4",children:d.jsx(RV,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time AI-powered insights"})]})]})]})}),d.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex justify-center mb-12",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-1 shadow-lg border border-gray-200 dark:border-gray-700",children:["week","month"].map(w=>d.jsxs("button",{onClick:()=>e(w),className:`px-8 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${n===w?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 hover:bg-gray-50"}`,children:["This ",w.charAt(0).toUpperCase()+w.slice(1)]},w))})}),d.jsxs(oe.div,{variants:m,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"AI Workouts",value:l.workouts,change:12,icon:d.jsx(ja,{className:"h-5 w-5 text-white"}),bgColor:"bg-purple-500",subtitle:"Sessions tracked"})}),d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"Total Reps",value:l.totalReps.toLocaleString(),change:8,icon:d.jsx(rn,{className:"h-5 w-5 text-white"}),bgColor:"bg-blue-500",subtitle:"Auto-counted"})}),d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"Form Score",value:`${l.avgFormScore}%`,change:5,icon:d.jsx(Ra,{className:"h-5 w-5 text-white"}),bgColor:"bg-green-500",subtitle:"Average accuracy"})}),d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"AI Accuracy",value:`${l.aiAccuracy}%`,change:3,icon:d.jsx(ho,{className:"h-5 w-5 text-white"}),bgColor:"bg-yellow-500",subtitle:"Detection precision"})})]}),d.jsxs(oe.div,{variants:m,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"Calories Burned",value:l.caloriesBurned.toLocaleString(),change:15,icon:d.jsx(Zn,{className:"h-5 w-5 text-white"}),bgColor:"bg-red-500",subtitle:"Total energy"})}),d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"Active Minutes",value:l.activeMinutes,change:10,icon:d.jsx(Es,{className:"h-5 w-5 text-white"}),bgColor:"bg-indigo-500",subtitle:"Workout time"})}),d.jsx(oe.div,{variants:y,children:d.jsx(p,{title:"Improvements",value:l.improvements,change:25,icon:d.jsx(di,{className:"h-5 w-5 text-white"}),bgColor:"bg-teal-500",subtitle:"Form corrections"})})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-12",children:[d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Workout Breakdown"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"AI-tracked exercise distribution"})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:d.jsx(gs,{className:"h-6 w-6 text-purple-600"})})]}),d.jsx("div",{className:"space-y-6",children:a.map((w,T)=>d.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`w-4 h-4 rounded-full ${w.color}`}),d.jsx("span",{className:"text-lg font-semibold text-gray-800",children:w.name})]}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w.sessions}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"sessions"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w.totalReps}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"reps"})]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:d.jsx("div",{className:`h-2 rounded-full ${w.color} transition-all duration-500`,style:{width:`${w.sessions/15*100}%`}})}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ra,{className:`h-4 w-4 ${w.textColor}`}),d.jsxs("span",{className:`text-sm font-medium ${w.textColor}`,children:[w.avgFormScore,"% form score"]})]})})]},T))})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Weekly Activity"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Daily workout consistency"})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:d.jsx(uo,{className:"h-6 w-6 text-blue-600"})})]}),d.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:u.map((w,T)=>d.jsxs("div",{className:"flex flex-col items-center flex-1",children:[d.jsxs("div",{className:"w-full flex flex-col items-center space-y-1",children:[d.jsx("div",{className:"w-8 bg-gradient-to-t from-purple-600 to-blue-500 rounded-t-lg transition-all duration-500",style:{height:`${Math.max(w.workouts*40,8)}px`,opacity:w.workouts===0?.3:1}}),w.workouts>0&&d.jsxs("div",{className:"text-xs text-purple-600 font-semibold",children:[w.formScore,"%"]})]}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:w.day})]},T))}),d.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-gradient-to-t from-purple-600 to-blue-500 rounded mr-2"}),d.jsx("span",{children:"Workout Sessions"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(ho,{className:"h-3 w-3 text-purple-600 mr-1"}),d.jsx("span",{children:"Form Score %"})]})]})]})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(ho,{className:"h-8 w-8"})}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Insights"}),d.jsx("p",{className:"text-purple-100",children:"Personalized recommendations based on your workout data"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-6",children:[d.jsx(di,{className:"h-8 w-8 mx-auto mb-3"}),d.jsx("h3",{className:"font-bold mb-2",children:"Form Improvement"}),d.jsx("p",{className:"text-sm text-purple-100",children:"Your squat form has improved by 15% this week"})]}),d.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-6",children:[d.jsx(rn,{className:"h-8 w-8 mx-auto mb-3"}),d.jsx("h3",{className:"font-bold mb-2",children:"Rep Accuracy"}),d.jsx("p",{className:"text-sm text-purple-100",children:"AI is tracking your reps with 94% precision"})]}),d.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-6",children:[d.jsx(Ra,{className:"h-8 w-8 mx-auto mb-3"}),d.jsx("h3",{className:"font-bold mb-2",children:"Achievement"}),d.jsx("p",{className:"text-sm text-purple-100",children:"You've maintained consistent form for 5 days"})]})]})]})]})})},qL=()=>{var T,b,C,k;const{user:n,userProfile:e,updateUserProfile:t}=Ss(),{stats:r}=rl(),[i,a]=R.useState(!1),[l,u]=R.useState({displayName:(e==null?void 0:e.displayName)||"",email:(n==null?void 0:n.email)||"",bio:"",location:"",dateOfBirth:"",fitnessGoal:((T=e==null?void 0:e.preferences)==null?void 0:T.fitnessGoal)||"general",units:((b=e==null?void 0:e.preferences)==null?void 0:b.units)||"metric",notifications:((C=e==null?void 0:e.preferences)==null?void 0:C.notifications)||!0,theme:((k=e==null?void 0:e.preferences)==null?void 0:k.theme)||"light"}),p=async()=>{try{await t({displayName:l.displayName,preferences:{...e==null?void 0:e.preferences,units:l.units,notifications:l.notifications,theme:l.theme,fitnessGoal:l.fitnessGoal}}),a(!1)}catch(I){console.error("Error updating profile:",I)}},m=I=>{const{name:L,value:U,type:H}=I.target;u(J=>({...J,[L]:H==="checkbox"?I.target.checked:U}))},y={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your account and preferences"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs(oe.div,{variants:y,initial:"hidden",animate:"visible",className:"lg:col-span-1",children:[d.jsx(oe.div,{variants:w,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"relative inline-block mb-6",children:[n!=null&&n.photoURL?d.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto"}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center mx-auto",children:d.jsx(pd,{className:"h-12 w-12 text-white"})}),d.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white dark:bg-gray-700 rounded-full shadow-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:d.jsx(ja,{className:"h-4 w-4 text-gray-600"})})]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:(e==null?void 0:e.displayName)||(n==null?void 0:n.displayName)||"User"}),d.jsx("p",{className:"text-gray-500 mb-4",children:n==null?void 0:n.email}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(r==null?void 0:r.totalWorkouts)||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Workouts"})]}),d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(r==null?void 0:r.currentStreak)||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Day Streak"})]})]})]})}),d.jsxs(oe.div,{variants:w,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Your Progress"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(rn,{className:"h-5 w-5 text-green-600"}),d.jsx("span",{className:"text-gray-700",children:"Total Reps"})]}),d.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.totalReps)||0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Zn,{className:"h-5 w-5 text-red-600"}),d.jsx("span",{className:"text-gray-700",children:"Calories Burned"})]}),d.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.totalCalories)||0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Es,{className:"h-5 w-5 text-blue-600"}),d.jsx("span",{className:"text-gray-700",children:"Active Minutes"})]}),d.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.totalMinutes)||0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Ra,{className:"h-5 w-5 text-yellow-600"}),d.jsx("span",{className:"text-gray-700",children:"Avg. Form Score"})]}),d.jsxs("span",{className:"font-semibold",children:[(r==null?void 0:r.avgFormScore)||0,"%"]})]})]})]})]}),d.jsx(oe.div,{variants:y,initial:"hidden",animate:"visible",className:"lg:col-span-2",children:d.jsxs(oe.div,{variants:w,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Account Settings"}),i?d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(GV,{className:"h-4 w-4"}),d.jsx("span",{children:"Save"})]}),d.jsxs("button",{onClick:()=>a(!1),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[d.jsx(Yc,{className:"h-4 w-4"}),d.jsx("span",{children:"Cancel"})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[d.jsx(KV,{className:"h-4 w-4"}),d.jsx("span",{children:"Edit"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[d.jsx(pd,{className:"h-4 w-4 mr-2"}),"Personal Information"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),d.jsx("input",{type:"text",name:"displayName",value:l.displayName,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:l.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fitness Goal"}),d.jsxs("select",{name:"fitnessGoal",value:l.fitnessGoal,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[d.jsx("option",{value:"weight_loss",children:"Weight Loss"}),d.jsx("option",{value:"muscle_gain",children:"Muscle Gain"}),d.jsx("option",{value:"endurance",children:"Build Endurance"}),d.jsx("option",{value:"strength",children:"Increase Strength"}),d.jsx("option",{value:"general",children:"General Fitness"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[d.jsx(ly,{className:"h-4 w-4 mr-2"}),"Preferences"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),d.jsxs("select",{name:"units",value:l.units,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[d.jsx("option",{value:"metric",children:"Metric (kg, cm)"}),d.jsx("option",{value:"imperial",children:"Imperial (lbs, ft)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme"}),d.jsxs("select",{name:"theme",value:l.theme,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[d.jsx("option",{value:"light",children:"Light"}),d.jsx("option",{value:"dark",children:"Dark"}),d.jsx("option",{value:"auto",children:"Auto"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"}),d.jsx("button",{type:"button",onClick:()=>m({target:{name:"notifications",type:"checkbox",checked:!l.notifications}}),disabled:!i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.notifications?"bg-purple-600":"bg-gray-200"} ${i?"":"opacity-50"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.notifications?"translate-x-6":"translate-x-1"}`})})]})]})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[d.jsx(rn,{className:"h-4 w-4 mr-2"}),"Workout Preferences"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(zb,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Weekly Goal"}),d.jsx("div",{className:"text-lg font-bold text-purple-600",children:"5 days"})]})}),d.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Es,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Session Length"}),d.jsx("div",{className:"text-lg font-bold text-blue-600",children:"30 min"})]})}),d.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(di,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Difficulty"}),d.jsx("div",{className:"text-lg font-bold text-green-600",children:"Beginner"})]})})]})]})]})})]})]})})},HL=()=>{var l;const{stats:n}=rl(),e=[{id:"first_workout",title:"First Steps",description:"Complete your first workout",icon:d.jsx(gs,{className:"h-8 w-8"}),color:"bg-purple-600",lightColor:"bg-purple-100",textColor:"text-purple-600",unlocked:((n==null?void 0:n.totalWorkouts)||0)>=1,progress:Math.min((n==null?void 0:n.totalWorkouts)||0,1),requirement:"1 workout"},{id:"workout_streak_3",title:"Getting Consistent",description:"Maintain a 3-day workout streak",icon:d.jsx(zb,{className:"h-8 w-8"}),color:"bg-blue-600",lightColor:"bg-blue-100",textColor:"text-blue-600",unlocked:((n==null?void 0:n.currentStreak)||0)>=3,progress:Math.min(((n==null?void 0:n.currentStreak)||0)/3,1),requirement:"3-day streak"},{id:"workout_streak_7",title:"Week Warrior",description:"Maintain a 7-day workout streak",icon:d.jsx(Zn,{className:"h-8 w-8"}),color:"bg-orange-600",lightColor:"bg-orange-100",textColor:"text-orange-600",unlocked:((n==null?void 0:n.currentStreak)||0)>=7,progress:Math.min(((n==null?void 0:n.currentStreak)||0)/7,1),requirement:"7-day streak"},{id:"reps_100",title:"Century Club",description:"Complete 100 total reps",icon:d.jsx(rn,{className:"h-8 w-8"}),color:"bg-green-600",lightColor:"bg-green-100",textColor:"text-green-600",unlocked:((n==null?void 0:n.totalReps)||0)>=100,progress:Math.min(((n==null?void 0:n.totalReps)||0)/100,1),requirement:"100 reps"},{id:"reps_500",title:"Rep Master",description:"Complete 500 total reps",icon:d.jsx(zV,{className:"h-8 w-8"}),color:"bg-yellow-600",lightColor:"bg-yellow-100",textColor:"text-yellow-600",unlocked:((n==null?void 0:n.totalReps)||0)>=500,progress:Math.min(((n==null?void 0:n.totalReps)||0)/500,1),requirement:"500 reps"},{id:"calories_1000",title:"Calorie Crusher",description:"Burn 1000 total calories",icon:d.jsx(Zn,{className:"h-8 w-8"}),color:"bg-red-600",lightColor:"bg-red-100",textColor:"text-red-600",unlocked:((n==null?void 0:n.totalCalories)||0)>=1e3,progress:Math.min(((n==null?void 0:n.totalCalories)||0)/1e3,1),requirement:"1000 calories"},{id:"form_master",title:"Perfect Form",description:"Achieve 90%+ average form score",icon:d.jsx(Ra,{className:"h-8 w-8"}),color:"bg-indigo-600",lightColor:"bg-indigo-100",textColor:"text-indigo-600",unlocked:((n==null?void 0:n.avgFormScore)||0)>=90,progress:Math.min(((n==null?void 0:n.avgFormScore)||0)/90,1),requirement:"90% form score"},{id:"time_warrior",title:"Time Warrior",description:"Complete 60 active minutes",icon:d.jsx(Es,{className:"h-8 w-8"}),color:"bg-teal-600",lightColor:"bg-teal-100",textColor:"text-teal-600",unlocked:((n==null?void 0:n.totalMinutes)||0)>=60,progress:Math.min(((n==null?void 0:n.totalMinutes)||0)/60,1),requirement:"60 minutes"},{id:"ai_champion",title:"AI Champion",description:"Achieve 95%+ AI accuracy",icon:d.jsx(Brain,{className:"h-8 w-8"}),color:"bg-purple-600",lightColor:"bg-purple-100",textColor:"text-purple-600",unlocked:((n==null?void 0:n.avgAiAccuracy)||0)>=95,progress:Math.min(((n==null?void 0:n.avgAiAccuracy)||0)/95,1),requirement:"95% AI accuracy"}],t=e.filter(u=>u.unlocked).length,r=e.length,i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl mb-4",children:d.jsx(Va,{className:"h-8 w-8 text-white"})}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Achievements"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Track your fitness milestones and celebrate your progress"})]}),d.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 mb-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-purple-100 rounded-2xl mb-3",children:d.jsx(Va,{className:"h-8 w-8 text-purple-600"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Achievements Unlocked"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-blue-100 rounded-2xl mb-3",children:d.jsx(cy,{className:"h-8 w-8 text-blue-600"})}),d.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[Math.round(t/r*100),"%"]}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completion Rate"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-green-100 rounded-2xl mb-3",children:d.jsx(rn,{className:"h-8 w-8 text-green-600"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(n==null?void 0:n.totalReps)||0}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Reps"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-yellow-100 rounded-2xl mb-3",children:d.jsx(Zn,{className:"h-8 w-8 text-yellow-600"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(n==null?void 0:n.currentStreak)||0}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Streak"})]})]})}),d.jsx("div",{className:"mb-8",children:d.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["All","Unlocked","In Progress","Locked"].map(u=>d.jsx("button",{className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 shadow-md border border-gray-200 dark:border-gray-700",children:u},u))})}),d.jsx(oe.div,{variants:i,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((u,p)=>d.jsxs(oe.div,{variants:a,className:`relative overflow-hidden rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${u.unlocked?"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700":"bg-gray-50 border-gray-200"}`,children:[u.unlocked&&d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx(VV,{className:"h-4 w-4 text-green-600"})})}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:`inline-flex p-4 rounded-2xl mb-4 ${u.unlocked?u.lightColor:"bg-gray-200"}`,children:d.jsx("div",{className:u.unlocked?u.textColor:"text-gray-400",children:u.icon})}),d.jsx("h3",{className:`text-xl font-bold mb-2 ${u.unlocked?"text-gray-900 dark:text-white":"text-gray-400"}`,children:u.title}),d.jsx("p",{className:`text-sm mb-4 ${u.unlocked?"text-gray-600":"text-gray-400"}`,children:u.description}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(u.progress*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${u.color}`,style:{width:`${u.progress*100}%`}})})]}),d.jsx("div",{className:`text-xs px-3 py-1 rounded-full inline-block ${u.unlocked?`${u.lightColor} ${u.textColor}`:"bg-gray-200 text-gray-500 dark:text-gray-400"}`,children:u.requirement}),u.unlocked&&d.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[d.jsx(qb,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Unlocked!"})]})]})]},u.id))}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white text-center",children:[d.jsx(Va,{className:"h-12 w-12 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Keep Going!"}),d.jsx("p",{className:"text-purple-100 mb-4",children:"You're doing great! Every workout brings you closer to your next achievement."}),d.jsxs("div",{className:"text-sm text-purple-200",children:["Next milestone: ",((l=e.find(u=>!u.unlocked))==null?void 0:l.title)||"All achievements unlocked!"]})]})]})})},KL=()=>{const[n,e]=R.useState("all"),[t,r]=R.useState(""),[i,a]=R.useState(null),l=[{id:"pushups",name:"Push-ups",description:"Upper body strength with AI form correction",category:"strength",difficulty:"beginner",duration:10,calories:100,icon:d.jsx(gs,{className:"h-6 w-6"}),color:"bg-purple-500",lightColor:"bg-purple-50 border-purple-200",aiTracking:!0,type:"reps",defaultValue:10,options:[5,10,15,20,25,30],unit:"reps"},{id:"squats",name:"Squats",description:"Lower body strength with depth tracking",category:"strength",difficulty:"beginner",duration:15,calories:150,icon:d.jsx(uo,{className:"h-6 w-6"}),color:"bg-blue-500",lightColor:"bg-blue-50 border-blue-200",aiTracking:!0,type:"reps",defaultValue:15,options:[10,15,20,25,30,40],unit:"reps"},{id:"plank",name:"Plank",description:"Core stability with posture monitoring",category:"core",difficulty:"intermediate",duration:5,calories:50,icon:d.jsx(Da,{className:"h-6 w-6"}),color:"bg-indigo-500",lightColor:"bg-indigo-50 border-indigo-200",aiTracking:!0,type:"time",defaultValue:30,options:[15,30,45,60,90,120],unit:"seconds"},{id:"jumpingjacks",name:"Jumping Jacks",description:"Cardio with arm and leg synchronization",category:"cardio",difficulty:"beginner",duration:10,calories:120,icon:d.jsx(fd,{className:"h-6 w-6"}),color:"bg-pink-500",lightColor:"bg-pink-50 border-pink-200",aiTracking:!0,type:"reps",defaultValue:20,options:[15,20,25,30,40,50],unit:"reps"},{id:"burpees",name:"Burpees",description:"Full body high-intensity exercise",category:"cardio",difficulty:"advanced",duration:8,calories:160,icon:d.jsx(uo,{className:"h-6 w-6"}),color:"bg-red-500",lightColor:"bg-red-50 border-red-200",aiTracking:!1,type:"reps",defaultValue:10,options:[5,10,15,20],unit:"reps"},{id:"lunges",name:"Lunges",description:"Lower body strength and balance",category:"strength",difficulty:"intermediate",duration:12,calories:130,icon:d.jsx(rn,{className:"h-6 w-6"}),color:"bg-green-500",lightColor:"bg-green-50 border-green-200",aiTracking:!1,type:"reps",defaultValue:20,options:[10,20,30,40],unit:"reps"}],u=[{id:"all",name:"All Exercises",icon:d.jsx(uo,{className:"h-5 w-5"})},{id:"strength",name:"Strength",icon:d.jsx(gs,{className:"h-5 w-5"})},{id:"cardio",name:"Cardio",icon:d.jsx(fd,{className:"h-5 w-5"})},{id:"core",name:"Core",icon:d.jsx(rn,{className:"h-5 w-5"})}],p=l.filter(b=>{const C=n==="all"||b.category===n,k=b.name.toLowerCase().includes(t.toLowerCase())||b.description.toLowerCase().includes(t.toLowerCase());return C&&k}),m=b=>{switch(b){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},y=()=>{a(null)},w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Workout Library"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Discover AI-powered workouts designed for every fitness level"})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col lg:flex-row justify-between items-center mb-12 gap-6",children:[d.jsxs("div",{className:"relative w-full lg:w-96",children:[d.jsx(QV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search workouts...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",value:t,onChange:b=>r(b.target.value)})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:u.map(b=>d.jsxs("button",{onClick:()=>e(b.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200 ${n===b.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 shadow-md border border-gray-200 dark:border-gray-700"}`,children:[b.icon,d.jsx("span",{children:b.name})]},b.id))})]}),d.jsx(oe.div,{variants:w,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:p.map((b,C)=>d.jsxs(oe.div,{variants:T,onClick:()=>a(b),className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-2 group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${b.color} text-white shadow-lg group-hover:scale-110 transition-transform`,children:b.icon}),d.jsxs("div",{className:"flex items-center space-x-2",children:[b.aiTracking&&d.jsxs("div",{className:"flex items-center bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs font-medium",children:[d.jsx(ho,{className:"h-3 w-3 mr-1"}),"AI"]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(b.difficulty)}`,children:b.difficulty})]})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:b.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:b.description}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1",children:d.jsx(Es,{className:"h-4 w-4 text-blue-500"})}),d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:b.duration}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"min"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1",children:d.jsx(Zn,{className:"h-4 w-4 text-red-500"})}),d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:b.calories}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"cal"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1",children:b.type==="reps"?d.jsx(rn,{className:"h-4 w-4 text-green-500"}):d.jsx(Da,{className:"h-4 w-4 text-purple-500"})}),d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:b.defaultValue}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.unit})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[b.type==="reps"?d.jsx(rn,{className:"h-4 w-4 mr-1"}):d.jsx(Da,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"text-sm",children:b.type==="reps"?"Rep-based":"Time-based"})]}),d.jsxs("div",{className:"flex items-center text-purple-600 font-medium group-hover:text-purple-700",children:[d.jsx("span",{className:"text-sm",children:"Configure"}),d.jsx(Fh,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]},b.id))}),p.length===0&&d.jsxs(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[d.jsx(gs,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No workouts found"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Try adjusting your search or filter to find what you're looking for."}),d.jsx("button",{onClick:()=>{r(""),e("all")},className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:"Clear Filters"})]}),d.jsx(Xc,{children:i&&d.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:y,children:d.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:b=>b.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:`inline-flex p-4 rounded-2xl ${i.color} text-white mb-4 shadow-lg`,children:i.icon}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:i.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:i.description}),i.aiTracking&&d.jsxs("div",{className:"inline-flex items-center bg-purple-100 text-purple-600 px-4 py-2 rounded-full text-sm font-medium mt-3",children:[d.jsx(ho,{className:"h-4 w-4 mr-2"}),"AI-Powered Tracking"]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 py-6 border-t border-gray-200 mb-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Es,{className:"h-5 w-5 text-blue-500"})}),d.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[i.duration," min"]}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Duration"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Zn,{className:"h-5 w-5 text-red-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i.calories}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(cy,{className:"h-5 w-5 text-yellow-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white capitalize",children:i.difficulty}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Level"})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:y,className:"flex-1 py-3 px-6 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),d.jsxs(Rn,{to:`/workout-session?workout=${i.id}`,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[d.jsx(Pc,{className:"h-4 w-4"}),d.jsx("span",{children:"Start Workout"})]})]})]})})})]})})},GL=({onWorkoutSelect:n,isLoading:e=!1})=>{const[t,r]=R.useState(null),[i,a]=R.useState(10),[l,u]=R.useState("all"),p=[{id:"pushups",name:"Push-ups",description:"Upper body strength with AI form correction",category:"strength",type:"reps",difficulty:"beginner",calories:8,icon:d.jsx(gs,{className:"h-6 w-6"}),color:"bg-purple-500",lightColor:"bg-purple-50 border-purple-200",defaultValue:10,options:[5,10,15,20,25,30],unit:"reps"},{id:"squats",name:"Squats",description:"Lower body strength with depth tracking",category:"strength",type:"reps",difficulty:"beginner",calories:10,icon:d.jsx(uo,{className:"h-6 w-6"}),color:"bg-blue-500",lightColor:"bg-blue-50 border-blue-200",defaultValue:15,options:[10,15,20,25,30,40],unit:"reps"},{id:"plank",name:"Plank",description:"Core stability with posture monitoring",category:"core",type:"time",difficulty:"beginner",calories:5,icon:d.jsx(Da,{className:"h-6 w-6"}),color:"bg-indigo-500",lightColor:"bg-indigo-50 border-indigo-200",defaultValue:30,options:[15,30,45,60,90,120],unit:"seconds"},{id:"jumpingjacks",name:"Jumping Jacks",description:"Cardio with arm and leg synchronization",category:"cardio",type:"reps",difficulty:"beginner",calories:6,icon:d.jsx(fd,{className:"h-6 w-6"}),color:"bg-pink-500",lightColor:"bg-pink-50 border-pink-200",defaultValue:20,options:[15,20,25,30,40,50],unit:"reps"}],m=[{id:"all",name:"All Exercises",icon:d.jsx(uo,{className:"h-5 w-5"})},{id:"strength",name:"Strength",icon:d.jsx(gs,{className:"h-5 w-5"})},{id:"cardio",name:"Cardio",icon:d.jsx(fd,{className:"h-5 w-5"})},{id:"core",name:"Core",icon:d.jsx(rn,{className:"h-5 w-5"})}],y=l==="all"?p:p.filter(k=>k.category===l),w=k=>{switch(k){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},T=k=>{r(k),a(k.defaultValue)},b=()=>{t&&n(t,i)},C=()=>{r(null)};return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center py-12",children:[d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"AI-Powered Workouts"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Choose your exercise and let our AI provide real-time form feedback and rep counting"})]}),d.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap justify-center gap-4 mb-8",children:m.map(k=>d.jsxs("button",{onClick:()=>u(k.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200 ${l===k.id?"bg-purple-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 shadow-md"}`,children:[k.icon,d.jsx("span",{children:k.name})]},k.id))})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:y.map((k,I)=>d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},onClick:()=>T(k),className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border-2 cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border-gray-100 dark:border-gray-700 hover:border-purple-200 dark:hover:border-purple-400",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${k.color} text-white`,children:k.icon}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(k.difficulty)}`,children:k.difficulty}),d.jsxs("div",{className:"flex items-center text-orange-500",children:[d.jsx(Zn,{className:"h-4 w-4 mr-1"}),d.jsxs("span",{className:"text-sm font-medium",children:[k.calories," cal"]})]})]})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:k.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:k.description}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[k.type==="reps"?d.jsx(rn,{className:"h-4 w-4 mr-1"}):d.jsx(Da,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"text-sm",children:k.type==="reps"?"Rep-based":"Time-based"})]})})]},k.id))}),d.jsx(Xc,{children:t&&d.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:C,children:d.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:k=>k.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"relative",children:d.jsx("button",{onClick:C,className:"absolute top-0 right-0 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",children:d.jsx(Yc,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:`inline-flex p-4 rounded-2xl ${t.color} text-white mb-4`,children:t.icon}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.description})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Target ",t.type==="reps"?"Reps":"Duration"]}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.options.map(k=>d.jsxs("button",{onClick:()=>a(k),className:`p-3 rounded-lg border-2 font-medium transition-all duration-200 ${i===k?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 text-gray-700 hover:border-purple-300"}`,children:[k," ",t.unit]},k))})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-t border-gray-200",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Zn,{className:"h-5 w-5 text-orange-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Math.round(t.calories*(i/t.defaultValue))}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Da,{className:"h-5 w-5 text-blue-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.type==="reps"?`${Math.round(i*3)}s`:`${i}s`}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Est. Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(di,{className:"h-5 w-5 text-green-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.difficulty}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Level"})]})]}),d.jsxs(oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:b,disabled:e,className:"w-full py-4 px-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[d.jsx(Pc,{className:"h-5 w-5"}),d.jsx("span",{children:e?"Starting...":"Start AI Workout"})]})]})]})})})]})};function Td(n,e,t){const r=Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(n.y-e.y,n.x-e.x);let i=Math.abs(r*180/Math.PI);return i>180&&(i=360-i),i}function Ed(n,e,t){const r=n.x-e.x,i=n.y-e.y,a=t.x-e.x,l=t.y-e.y,u=r*a+i*l,p=a*a+l*l;let m=-1;p!==0&&(m=u/p);let y,w;m<0?(y=e.x,w=e.y):m>1?(y=t.x,w=t.y):(y=e.x+m*a,w=e.y+m*l);const T=n.x-y,b=n.y-w;return Math.sqrt(T*T+b*b)}function Pe(n,e){return n.find(t=>t.name===e)||null}function QL(n){const e=[],t=Pe(n,"left_hip"),r=Pe(n,"right_hip"),i=Pe(n,"left_knee"),a=Pe(n,"right_knee"),l=Pe(n,"left_ankle"),u=Pe(n,"right_ankle");if(!t||!r||!i||!a||!l||!u)return["Cannot detect full body - position yourself fully in frame"];const p=t&&i&&l?Td(t,i,l):0,m=r&&a&&u?Td(r,a,u):0;(p<90||m<90)&&e.push("Go deeper - bend your knees more");const y=Math.abs(i.x-a.x),w=Math.abs(l.x-u.x);return y<w*.8&&e.push("Keep knees aligned over your toes"),Math.abs(t.y-r.y)>20&&e.push("Keep your hips level"),e}function YL(n){const e=[],t=Pe(n,"left_shoulder"),r=Pe(n,"right_shoulder"),i=Pe(n,"left_elbow"),a=Pe(n,"right_elbow"),l=Pe(n,"left_hip"),u=Pe(n,"right_hip");if(!t||!r||!i||!a)return["Cannot detect upper body - position yourself in frame"];if(Math.abs(t.y-r.y)>30&&e.push("Keep your shoulders level"),i&&a&&Ed(t,i,a)+Ed(r,i,a)>200&&e.push("Keep your elbows closer to your body"),t&&l&&r&&u){const p=Math.abs(t.y-l.y),m=Math.abs(r.y-u.y);(p>50||m>50)&&e.push("Keep your body straight - maintain plank position")}return e}function XL(n){const e=[],t=Pe(n,"left_shoulder"),r=Pe(n,"right_shoulder"),i=Pe(n,"left_hip"),a=Pe(n,"right_hip"),l=Pe(n,"left_elbow"),u=Pe(n,"right_elbow");if(!t||!r||!i||!a)return["Cannot detect full body alignment"];const p={x:(t.x+r.x)/2,y:(t.y+r.y)/2},m={x:(i.x+a.x)/2,y:(i.y+a.y)/2};return Math.abs(p.y-m.y)>40&&(p.y>m.y?e.push("Lower your hips - keep your body straight"):e.push("Raise your hips - avoid sagging")),l&&u&&Math.abs((t.x+r.x)/2-(l.x+u.x)/2)>30&&e.push("Align your shoulders directly over your elbows"),e}function JL(n,e,t,r=.3){const i=e.filter(a=>(a.score||0)>=r);t.forEach(([a,l])=>{const u=Pe(i,a),p=Pe(i,l);u&&p&&(n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(p.x,p.y),n.strokeStyle="#00ff00",n.lineWidth=2,n.stroke())})}const ZL=[["left_shoulder","right_shoulder"],["left_shoulder","left_elbow"],["left_elbow","left_wrist"],["right_shoulder","right_elbow"],["right_elbow","right_wrist"],["left_shoulder","left_hip"],["right_shoulder","right_hip"],["left_hip","right_hip"],["left_hip","left_knee"],["left_knee","left_ankle"],["right_hip","right_knee"],["right_knee","right_ankle"]];class eO{constructor(e){rt(this,"callbacks");rt(this,"currentCount",0);rt(this,"currentPosition","UP");rt(this,"isRunning",!1);rt(this,"intervalId",null);this.callbacks=e}async initialize(){console.log("Fallback detector initialized - manual counting mode"),this.callbacks.onFormFeedback("AI detection unavailable. Use manual controls to count reps.")}start(){this.isRunning=!0,this.callbacks.onPositionChange("READY"),this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.isRunning&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount))},1e3)}stop(){this.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}reset(){this.currentCount=0,this.currentPosition="UP",this.callbacks.onRepComplete(0),this.callbacks.onPositionChange("UP"),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}cleanup(){this.stop()}getCurrentCount(){return this.currentCount}getCurrentPosition(){return this.currentPosition}addRep(){this.isRunning&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount),this.callbacks.onPositionChange(this.currentPosition==="UP"?"DOWN":"UP"),this.currentPosition=this.currentPosition==="UP"?"DOWN":"UP")}}let ya=null;async function tO(){if(ya)return ya;try{return console.log("Initializing TensorFlow.js..."),await Yv(),console.log("TensorFlow.js backend:",Xv()),Xv()!=="webgl"&&(await AI("webgl"),await Yv()),console.log("Creating pose detector..."),ya=await Jv(Zv.MoveNet,{modelType:CI.modelType.SINGLEPOSE_LIGHTNING,enableSmoothing:!0}),console.log("MoveNet model loaded successfully"),ya}catch(n){console.error("Error loading pose detector:",n),console.error("Error details:",n==null?void 0:n.message);try{return console.log("Attempting fallback initialization..."),ya=await Jv(Zv.MoveNet),console.log("Fallback detector created successfully"),ya}catch(e){throw console.error("Fallback initialization also failed:",e),new Error(`Failed to initialize pose detector: ${(n==null?void 0:n.message)||n}`)}}}class rf{constructor(e,t){rt(this,"videoElement");rt(this,"canvasElement");rt(this,"ctx");rt(this,"callbacks");rt(this,"detector");rt(this,"isRunning",!1);rt(this,"requestId",null);rt(this,"currentCount",0);rt(this,"currentPosition","UP");rt(this,"lastFrameTime",0);rt(this,"frameCount",0);var r;this.videoElement=e,this.callbacks=t,this.canvasElement=document.createElement("canvas"),this.canvasElement.style.position="absolute",this.canvasElement.style.top="0",this.canvasElement.style.left="0",this.canvasElement.style.width="100%",this.canvasElement.style.height="100%",this.canvasElement.style.zIndex="10",this.canvasElement.style.pointerEvents="none",(r=e.parentNode)==null||r.appendChild(this.canvasElement),this.ctx=this.canvasElement.getContext("2d")}async initialize(){this.detector=await tO()}start(){!this.isRunning&&this.detector&&(this.isRunning=!0,this.lastFrameTime=performance.now(),this.frameCount=0,this.processFrame())}stop(){this.isRunning=!1,this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null)}reset(){this.currentCount=0,this.currentPosition="UP",this.callbacks.onRepComplete(0),this.callbacks.onPositionChange("UP"),this.callbacks.onFormFeedback("")}cleanup(){this.stop(),this.canvasElement&&this.canvasElement.parentNode&&this.canvasElement.parentNode.removeChild(this.canvasElement)}getCurrentCount(){return this.currentCount}getCurrentPosition(){return this.currentPosition}async processFrame(){if(!this.isRunning)return;const e=performance.now();if(e-this.lastFrameTime<67){this.requestId=requestAnimationFrame(()=>this.processFrame());return}this.lastFrameTime=e,this.frameCount++,(this.canvasElement.width!==this.videoElement.videoWidth||this.canvasElement.height!==this.videoElement.videoHeight)&&(this.canvasElement.width=this.videoElement.videoWidth||640,this.canvasElement.height=this.videoElement.videoHeight||480),this.ctx.clearRect(0,0,this.canvasElement.width,this.canvasElement.height);try{if(this.frameCount%2===0){const r=await this.detector.estimatePoses(this.videoElement);if(r.length>0){const a=r[0].keypoints.filter(l=>(l.score||0)>.3);a.length>0&&(this.drawPose(a),this.detectMovement(a))}}this.drawUI()}catch(r){console.error("Error in pose detection:",r),this.ctx.fillStyle="red",this.ctx.font="16px Arial",this.ctx.fillText("Detection error - retrying...",10,30)}this.isRunning&&(this.requestId=requestAnimationFrame(()=>this.processFrame()))}drawPose(e){e.forEach(t=>{this.ctx.beginPath(),this.ctx.arc(t.x,t.y,5,0,2*Math.PI),this.ctx.fillStyle="#ff0000",this.ctx.fill()}),JL(this.ctx,e,ZL)}drawUI(){this.ctx.font="24px Arial",this.ctx.fillStyle=this.currentPosition==="DOWN"?"#ff0000":"#00ff00",this.ctx.fillText(this.currentPosition,10,60),this.ctx.font="32px Arial",this.ctx.fillStyle="#ffffff",this.ctx.strokeStyle="#000000",this.ctx.lineWidth=2,this.ctx.strokeText(`Reps: ${this.currentCount}`,10,100),this.ctx.fillText(`Reps: ${this.currentCount}`,10,100)}}class nO extends rf{detectMovement(e){const t=Pe(e,"left_shoulder"),r=Pe(e,"right_shoulder"),i=Pe(e,"left_elbow"),a=Pe(e,"right_elbow");if(!t||!r||!i||!a){this.callbacks.onFormFeedback("Position yourself so your upper body is visible");return}const l=Ed(t,i,a),u=Ed(r,i,a),p=l+u;this.ctx.font="16px Arial",this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.strokeText(`Distance: ${Math.round(p)}`,10,30),this.ctx.fillText(`Distance: ${Math.round(p)}`,10,30);const m=this.currentPosition;if(p<120)this.currentPosition="DOWN",m!=="DOWN"&&this.callbacks.onPositionChange("DOWN");else{if(this.currentPosition==="DOWN"){this.currentCount++,this.callbacks.onRepComplete(this.currentCount);try{const w=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+Lr0Hj");w.volume=.3,w.play().catch(()=>{})}catch{}}this.currentPosition="UP",m!=="UP"&&this.callbacks.onPositionChange("UP")}const y=YL(e);y.length>0?this.callbacks.onFormFeedback(y[0],"warning"):this.callbacks.onFormFeedback("Good form!","correct"),this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(a.x,a.y),this.ctx.lineWidth=3,this.ctx.strokeStyle="red",this.ctx.stroke()}}class rO extends rf{detectMovement(e){const t=Pe(e,"left_hip"),r=Pe(e,"right_hip"),i=Pe(e,"left_knee"),a=Pe(e,"right_knee"),l=Pe(e,"left_ankle"),u=Pe(e,"right_ankle");if(!t||!r||!i||!a||!l||!u){this.callbacks.onFormFeedback("Position yourself so your full body is visible");return}const p=Td(t,i,l),m=Td(r,a,u),y=(p+m)/2;this.ctx.font="16px Arial",this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.strokeText(`Knee Angle: ${Math.round(y)}°`,10,30),this.ctx.fillText(`Knee Angle: ${Math.round(y)}°`,10,30);const w=this.currentPosition;y<120?(this.currentPosition="DOWN",w!=="DOWN"&&this.callbacks.onPositionChange("DOWN")):(this.currentPosition==="DOWN"&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount)),this.currentPosition="UP",w!=="UP"&&this.callbacks.onPositionChange("UP"));const T=QL(e);T.length>0?this.callbacks.onFormFeedback(T[0],"warning"):this.callbacks.onFormFeedback("Good form!","correct")}}class sO extends rf{constructor(){super(...arguments);rt(this,"startTime",null);rt(this,"elapsedTime",0)}start(){super.start(),this.startTime=Date.now()}reset(){super.reset(),this.startTime=Date.now(),this.elapsedTime=0}detectMovement(t){const r=Pe(t,"left_shoulder"),i=Pe(t,"right_shoulder"),a=Pe(t,"left_hip"),l=Pe(t,"right_hip");if(!r||!i||!a||!l){this.callbacks.onFormFeedback("Position yourself so your torso is visible");return}const u={x:(r.x+i.x)/2,y:(r.y+i.y)/2},p={x:(a.x+l.x)/2,y:(a.y+l.y)/2},y=Math.abs(u.y-p.y)<40;y?(this.currentPosition="HOLD",this.startTime&&(this.elapsedTime=Math.floor((Date.now()-this.startTime)/1e3),this.callbacks.onRepComplete(this.elapsedTime))):this.currentPosition="ADJUST",this.callbacks.onPositionChange(this.currentPosition);const w=XL(t);w.length>0?this.callbacks.onFormFeedback(w[0],"warning"):y&&this.callbacks.onFormFeedback("Perfect plank position!","correct")}drawUI(){this.ctx.font="32px Arial",this.ctx.fillStyle="#ffffff",this.ctx.strokeStyle="#000000",this.ctx.lineWidth=2,this.ctx.strokeText(`Time: ${this.elapsedTime}s`,10,100),this.ctx.fillText(`Time: ${this.elapsedTime}s`,10,100),this.ctx.font="24px Arial",this.ctx.fillStyle=this.currentPosition==="HOLD"?"#00ff00":"#ff0000",this.ctx.fillText(this.currentPosition,10,60)}}class iO extends rf{detectMovement(e){const t=Pe(e,"left_wrist"),r=Pe(e,"right_wrist"),i=Pe(e,"left_ankle"),a=Pe(e,"right_ankle"),l=Pe(e,"nose");if(!t||!r||!i||!a||!l){this.callbacks.onFormFeedback("Position yourself so your full body is visible");return}const u=t.y<l.y&&r.y<l.y,m=Math.abs(i.x-a.x)>100,y=this.currentPosition;u&&m?(this.currentPosition="OUT",y!=="OUT"&&this.callbacks.onPositionChange("OUT")):(this.currentPosition==="OUT"&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount)),this.currentPosition="IN",y!=="IN"&&this.callbacks.onPositionChange("IN")),!u&&!m?this.callbacks.onFormFeedback("Good form!","correct"):u?m||this.callbacks.onFormFeedback("Spread your legs wider","warning"):this.callbacks.onFormFeedback("Raise your arms higher","warning"),this.ctx.font="16px Arial",this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.strokeText(`Arms: ${u?"UP":"DOWN"} | Legs: ${m?"OUT":"IN"}`,10,30),this.ctx.fillText(`Arms: ${u?"UP":"DOWN"} | Legs: ${m?"OUT":"IN"}`,10,30)}}function oO(n,e,t){switch(n.toLowerCase()){case"pushups":return new nO(e,t);case"squats":return new rO(e,t);case"plank":return new sO(e,t);case"jumpingjacks":return new iO(e,t);default:throw new Error(`Unsupported workout type: ${n}`)}}function aO(n){return new eO(n)}const lO=({currentReps:n,targetReps:e,workoutType:t,currentPosition:r,elapsedTime:i=0,caloriesEstimate:a=0,accuracy:l=100})=>{const u=t==="reps"?n/e*100:i/e*100,p=u>=100,m=y=>{const w=Math.floor(y/60),T=y%60;return`${w}:${T.toString().padStart(2,"0")}`};return d.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-3 lg:p-6 shadow-lg border border-gray-200",children:[d.jsxs("div",{className:"text-center mb-3 lg:mb-6",children:[d.jsx(oe.div,{initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},className:"text-3xl lg:text-6xl font-bold text-gray-900 mb-1 lg:mb-2",children:t==="reps"?n:m(i)},n),d.jsx("div",{className:"text-sm lg:text-lg text-gray-600",children:t==="reps"?`/ ${e} reps`:`/ ${m(e)} target`}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 lg:h-3 mt-2 lg:mt-4 overflow-hidden",children:d.jsx(oe.div,{className:`h-full rounded-full ${p?"bg-green-500":u>75?"bg-blue-500":"bg-purple-500"}`,initial:{width:0},animate:{width:`${Math.min(u,100)}%`},transition:{duration:.5}})}),d.jsxs("div",{className:"text-xs lg:text-sm text-gray-500 mt-1 lg:mt-2",children:[Math.round(u),"% Complete"]})]}),d.jsx("div",{className:"flex justify-center mb-3 lg:mb-6",children:d.jsx(oe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`px-3 lg:px-6 py-1.5 lg:py-3 rounded-full font-bold text-sm lg:text-lg ${r==="DOWN"||r==="HOLD"||r==="OUT"?"bg-red-100 text-red-700 border-2 border-red-300":r==="UP"||r==="IN"?"bg-green-100 text-green-700 border-2 border-green-300":"bg-yellow-100 text-yellow-700 border-2 border-yellow-300"}`,children:r},r)}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1 lg:mb-2",children:d.jsx(Es,{className:"h-4 w-4 lg:h-5 lg:w-5 text-blue-500"})}),d.jsx("div",{className:"text-sm lg:text-lg font-semibold text-gray-900",children:m(i)}),d.jsx("div",{className:"text-xs text-gray-500",children:"Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1 lg:mb-2",children:d.jsx(Zn,{className:"h-4 w-4 lg:h-5 lg:w-5 text-orange-500"})}),d.jsx("div",{className:"text-sm lg:text-lg font-semibold text-gray-900",children:Math.round(a)}),d.jsx("div",{className:"text-xs text-gray-500",children:"Calories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1 lg:mb-2",children:d.jsx(di,{className:"h-4 w-4 lg:h-5 lg:w-5 text-green-500"})}),d.jsxs("div",{className:"text-sm lg:text-lg font-semibold text-gray-900",children:[Math.round(l),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Form"})]})]}),p&&d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-3 lg:mt-6 text-center p-3 lg:p-4 bg-green-100 rounded-lg border-2 border-green-300",children:[d.jsx("div",{className:"text-green-700 font-bold text-base lg:text-lg",children:"🎉 Workout Complete!"}),d.jsx("div",{className:"text-green-600 text-xs lg:text-sm mt-1",children:"Great job! You've reached your target."})]})]})},cO=({feedback:n,type:e,isVisible:t})=>{const i=(()=>{switch(e){case"correct":return{icon:d.jsx($b,{className:"h-5 w-5"}),bgColor:"bg-green-100 border-green-300",textColor:"text-green-700",iconColor:"text-green-500"};case"warning":return{icon:d.jsx(PV,{className:"h-5 w-5"}),bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-700",iconColor:"text-yellow-500"};case"error":return{icon:d.jsx(Bb,{className:"h-5 w-5"}),bgColor:"bg-red-100 border-red-300",textColor:"text-red-700",iconColor:"text-red-500"};case"info":default:return{icon:d.jsx(Wb,{className:"h-5 w-5"}),bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-700",iconColor:"text-blue-500"}}})();return d.jsx(Xc,{children:t&&n&&d.jsxs(oe.div,{initial:{opacity:0,x:-100,scale:.8},animate:{opacity:1,x:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,x:-100,scale:.8,transition:{duration:.2}},className:`
            fixed top-24 left-4 z-50 p-4 rounded-lg border-2 shadow-lg 
            backdrop-blur-sm max-w-sm
            ${i.bgColor}
          `,children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:`flex-shrink-0 ${i.iconColor}`,children:i.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:`font-semibold text-sm ${i.textColor}`,children:[e==="correct"&&"Perfect Form!",e==="warning"&&"Form Alert",e==="error"&&"Form Error",e==="info"&&"Tip"]}),d.jsx("div",{className:`text-sm mt-1 ${i.textColor}`,children:n})]})]}),d.jsx(oe.div,{className:"mt-3 h-1 bg-white/30 rounded-full overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:d.jsx(oe.div,{className:`h-full ${e==="correct"?"bg-green-500":e==="warning"?"bg-yellow-500":e==="error"?"bg-red-500":"bg-blue-500"}`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:4,ease:"linear"}})})]})})};class uO{constructor(){rt(this,"audioContext",null);rt(this,"enabled",!0);this.initializeAudio()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.warn("Audio not supported:",e),this.enabled=!1}}createBeep(e,t,r=.1){if(!this.audioContext||!this.enabled)return;const i=this.audioContext.createOscillator(),a=this.audioContext.createGain();i.connect(a),a.connect(this.audioContext.destination),i.frequency.value=e,i.type="sine",a.gain.setValueAtTime(r,this.audioContext.currentTime),a.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+t),i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+t)}repCompleted(){this.createBeep(800,.1,.15)}formAlert(){this.createBeep(400,.2,.2)}achievement(){setTimeout(()=>this.createBeep(523,.1,.1),0),setTimeout(()=>this.createBeep(659,.1,.1),100),setTimeout(()=>this.createBeep(784,.1,.1),200)}countdown(){this.createBeep(600,.1,.1)}error(){this.createBeep(300,.5,.3)}milestone(){this.createBeep(700,.15,.15)}speak(e){if(!this.enabled||!("speechSynthesis"in window))return;const t=new SpeechSynthesisUtterance(e);t.rate=.9,t.pitch=1,t.volume=.7;const i=speechSynthesis.getVoices().find(a=>a.lang.includes("en"));i&&(t.voice=i),speechSynthesis.speak(t)}setEnabled(e){this.enabled=e}resume(){this.audioContext&&this.audioContext.state==="suspended"&&this.audioContext.resume()}}const Or=new uO;class hO{constructor(){rt(this,"lastMotivationTime",0);rt(this,"motivationCooldown",5e3)}getMotivationalMessage(e,t,r){const i=e/t,a=t-e,l=Date.now();if(l-this.lastMotivationTime<this.motivationCooldown)return null;let u="";return a===1?u="One more! You've got this!":a===2?u="Two left! Keep going!":a===3?u="Three more! You're almost there!":a===5?u="Five more! Push through!":i>=.9?u="Final stretch! Don't give up!":i>=.75?u="Three quarters done! Keep it up!":i>=.5?u="Halfway there! You're doing great!":i>=.25?u="Quarter done! Find your rhythm!":e===5?u="Five reps down! You're warmed up!":e===10&&(u="Ten reps! You're on fire!"),r==="pushups"&&e>0&&e%10===0?u=`${e} push-ups! Your upper body is getting stronger!`:r==="squats"&&e>0&&e%15===0?u=`${e} squats! Your legs are on fire!`:r==="jumpingjacks"&&e>0&&e%20===0&&(u=`${e} jumping jacks! Your heart is pumping!`),u?(this.lastMotivationTime=l,u):null}getFormFeedbackMessage(e,t){const a=({pushups:{low_back:["Keep your back straight!","Engage your core!","Don't let your hips sag!"],elbow_angle:["Lower down more!","Get those elbows to 90 degrees!","Go deeper!"],head_position:["Keep your head neutral!","Look down at the floor!","Don't crane your neck!"]},squats:{knee_position:["Keep your knees over your toes!","Don't let your knees cave in!","Track those knees!"],depth:["Go lower!","Get your thighs parallel!","Deeper squat!"],back_angle:["Keep your chest up!","Don't lean forward!","Proud chest!"]},jumpingjacks:{arm_position:["Get those arms all the way up!","Touch your hands overhead!","Full range of motion!"],landing:["Land softer!","Bend your knees on landing!","Light on your feet!"]}}[t]||{})[e]||["Keep focusing on your form!"];return a[Math.floor(Math.random()*a.length)]}getComeIntoFrameMessage(){const e=["Please step into the camera frame!","I can't see you! Move into the frame!","Come into view so I can track your workout!","Position yourself in front of the camera!","Step into the frame to start tracking!"];return e[Math.floor(Math.random()*e.length)]}getEncouragementMessage(){const e=["You're doing great!","Keep up the good work!","Strong and steady!","Perfect form!","You've got this!","Stay focused!","Breathe and push!","Looking good!","Nice rhythm!","Keep it up!"];return e[Math.floor(Math.random()*e.length)]}getBreakWarningMessage(e){return e>3e4?"Ready to continue? Your body is cooling down!":e>6e4?"Let's get back to it! You've got momentum to maintain!":e>12e4?"Time to resume! Your muscles are getting cold!":"Take your time, but don't rest too long!"}}const S1=new hO,dO=({selectedWorkout:n,targetValue:e,onWorkoutComplete:t,onExit:r})=>{const i=R.useRef(null),a=R.useRef(null),l=R.useRef(null),[u,p]=R.useState(!0),[m,y]=R.useState(!1),[w,T]=R.useState(null),[b,C]=R.useState(0),[k,I]=R.useState("UP"),[L,U]=R.useState(""),[H,J]=R.useState("correct"),[ee,ae]=R.useState(!1),[D,A]=R.useState(null),[N,M]=R.useState(0),[F,z]=R.useState(!1),[j,Xe]=R.useState(!1),[At,Ct]=R.useState(!0),[ke,re]=R.useState([]),[ge,le]=R.useState(0),[B,Y]=R.useState(!1),[ye,Ce]=R.useState(0),[Ne,je]=R.useState(null),Oe=Ge=>{const En=Math.floor(Ge/60),hn=Ge%60;return`${En}:${hn.toString().padStart(2,"0")}`};R.useEffect(()=>{let Ge;return m&&D&&(Ge=setInterval(()=>{M(Math.floor((Date.now()-D.getTime())/1e3))},1e3)),()=>{Ge&&clearInterval(Ge)}},[m,D]);const De=R.useCallback(async()=>{try{p(!0),T(null);const Ge=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!1});i.current&&(i.current.srcObject=Ge,a.current=Ge,i.current.onloadedmetadata=async()=>{var En,hn,Sr;try{console.log("Initializing workout detector for:",n.id);const Qe={onRepComplete:at=>{C(at),le(Date.now()),Or.repCompleted();const dt=S1.getMotivationalMessage(at,e,n.id);dt&&(Or.speak(dt),U(dt),J("correct"),ae(!0),setTimeout(()=>ae(!1),3e3))},onPositionChange:I,onFormFeedback:(at,dt="correct")=>{at!==L&&(U(at),J(dt),ae(!0),(dt==="error"||dt==="warning")&&(Or.formAlert(),Y(!0),setTimeout(()=>Y(!1),1e3),re(bn=>[...bn,at])),setTimeout(()=>ae(!1),4e3))},onPersonDetected:at=>{if(Ct(at),!at){const dt=S1.getComeIntoFrameMessage();Or.speak(dt),U(dt),J("warning"),ae(!0)}}};j?l.current=aO(Qe):l.current=oO(n.id,i.current,Qe),console.log("Detector created, initializing..."),await l.current.initialize(),console.log("Detector initialized successfully"),p(!1)}catch(Qe){console.error("Detector initialization error:",Qe),console.error("Error stack:",Qe==null?void 0:Qe.stack);let at="Failed to initialize AI detection.";Qe!=null&&Qe.message&&(at+=` Details: ${Qe.message}`),(En=Qe==null?void 0:Qe.message)!=null&&En.includes("WebGL")?at="WebGL not supported. Please use a modern browser with hardware acceleration enabled.":((hn=Qe==null?void 0:Qe.message)!=null&&hn.includes("network")||(Sr=Qe==null?void 0:Qe.message)!=null&&Sr.includes("fetch"))&&(at="Failed to download AI model. Please check your internet connection."),T(at),p(!1)}})}catch(Ge){console.error("Camera access error:",Ge),T("Unable to access camera. Please check permissions and try again."),p(!1)}},[n.id,L]),Ke=R.useCallback(()=>{l.current&&!m&&(y(!0),A(new Date),C(0),I("UP"),re([]),Ce(0),je(null),Or.resume(),Or.speak("Let's begin! Show me your best form!"),l.current.start())},[m]),_t=R.useCallback(()=>{l.current&&m&&(y(!1),je(Date.now()),l.current.stop(),Or.speak("Workout paused. Take a breath!"))},[m]),tr=R.useCallback(()=>{l.current&&(y(!1),C(0),I("UP"),M(0),A(null),l.current.reset())},[]),nr=R.useCallback(()=>{l.current&&l.current.stop();const Ge=b*3,En=ke.length,hn=Math.max(60,Math.round((1-En/Ge)*100)),Sr=n.calories*(b/n.defaultValue),Qe=N>0?Math.min(1.2,600/N):1,at=hn/100,dt=Math.round(Sr*Qe*at),bn={workoutType:n,targetValue:e,repsCompleted:b,timeElapsed:N,accuracy:hn,calories:dt,formIssues:ke.length,averageRepTime:b>0?N/b:0};b>=e?(Or.achievement(),Or.speak(`Outstanding! You completed ${b} reps with ${hn}% form accuracy!`)):Or.speak(`Good effort! You completed ${b} out of ${e} reps.`),t(bn)},[n,e,b,N,ke,t]);R.useEffect(()=>{n.type==="reps"&&b>=e?setTimeout(nr,2e3):n.type==="time"&&N>=e&&setTimeout(nr,1e3)},[b,N,e,n.type,nr]),R.useEffect(()=>()=>{a.current&&a.current.getTracks().forEach(Ge=>Ge.stop()),l.current&&l.current.cleanup()},[]),R.useEffect(()=>{De()},[De]);const kr=()=>{z(!F)};return n.type==="reps"?b/e*100:N/e*100,w?d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl max-w-lg w-full text-center",children:[d.jsx("div",{className:"text-red-500 mb-4",children:d.jsx(DV,{className:"h-12 w-12 mx-auto"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"AI Detection Error"}),d.jsx("p",{className:"text-gray-600 mb-6",children:w}),d.jsxs("details",{className:"mb-6 text-left",children:[d.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"Show technical details"}),d.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded text-xs text-gray-600 font-mono",children:[d.jsxs("p",{children:["Workout Type: ",n.id]}),d.jsxs("p",{children:["Browser: ",navigator.userAgent]}),d.jsxs("p",{children:["WebGL Support: ",(()=>{try{const Ge=document.createElement("canvas");return!!(Ge.getContext("webgl")||Ge.getContext("experimental-webgl"))}catch{return!1}})()?"Yes":"No"]}),d.jsxs("p",{children:["Camera Access: ",a.current?"Granted":"Denied/Failed"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:De,className:"w-full py-3 px-4 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>{Xe(!0),T(null),De()},className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue with Manual Counting"}),d.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Go Back"})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Troubleshooting Tips:"}),d.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[d.jsx("li",{children:"• Make sure your browser supports WebGL"}),d.jsx("li",{children:"• Enable hardware acceleration in browser settings"}),d.jsx("li",{children:"• Try refreshing the page"}),d.jsx("li",{children:"• Check your internet connection"}),d.jsx("li",{children:"• Use Chrome, Firefox, or Safari for best results"})]})]})]})}):d.jsxs("div",{className:`${F?"fixed inset-0 z-50":"min-h-screen"} bg-gray-900 flex flex-col ${B?"ring-4 ring-red-500 ring-opacity-75":""}`,children:[d.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20 p-2 md:p-4",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[d.jsx("div",{className:`p-1 md:p-2 rounded-lg ${n.color} text-white`,children:n.icon}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg md:text-xl font-bold text-white",children:n.name}),d.jsxs("p",{className:"text-white/70 text-xs md:text-sm",children:["Target: ",e," ",n.unit]})]})]}),d.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[d.jsx("button",{onClick:kr,className:"p-1.5 md:p-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10 transition-all touch-manipulation",children:F?d.jsx(WV,{className:"h-4 w-4 md:h-5 md:w-5"}):d.jsx(BV,{className:"h-4 w-4 md:h-5 md:w-5"})}),d.jsx("button",{onClick:r,className:"p-1.5 md:p-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10 transition-all touch-manipulation",children:d.jsx(o_,{className:"h-4 w-4 md:h-5 md:w-5"})})]})]})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex-1 relative min-h-0 lg:flex lg:flex-row",children:[d.jsxs("div",{className:"flex-1 relative bg-black",children:[u&&d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:d.jsxs("div",{className:"text-white text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),d.jsx("p",{className:"text-lg font-medium",children:"Initializing AI Detection..."}),d.jsx("p",{className:"text-sm text-white/70 mt-2",children:"This may take a few moments"})]})}),d.jsx("video",{ref:i,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx(cO,{feedback:L,type:H,isVisible:ee&&!u}),d.jsx("div",{className:"absolute bottom-2 lg:bottom-4 left-1/2 transform -translate-x-1/2",children:d.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 bg-black/50 backdrop-blur-sm rounded-full px-3 lg:px-6 py-2 lg:py-3",children:[m?d.jsx(oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:_t,className:"p-2 lg:p-3 rounded-full bg-yellow-500 text-white hover:bg-yellow-600 transition-colors touch-manipulation",children:d.jsx(HV,{className:"h-4 w-4 lg:h-6 lg:w-6"})}):d.jsx(oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ke,disabled:u,className:"p-2 lg:p-3 rounded-full bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors touch-manipulation",children:d.jsx(Pc,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),j&&m&&d.jsx(oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{l.current&&"addRep"in l.current&&l.current.addRep()},className:"p-2 lg:p-3 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-colors touch-manipulation",children:d.jsx(rn,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),d.jsx(oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:tr,className:"p-2 lg:p-3 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors touch-manipulation",children:d.jsx(ay,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),d.jsx(oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:nr,className:"p-2 lg:p-3 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-colors touch-manipulation",children:d.jsx(o_,{className:"h-4 w-4 lg:h-6 lg:w-6"})})]})}),j&&m&&d.jsx("div",{className:"absolute top-2 lg:top-4 left-1/2 transform -translate-x-1/2 px-2",children:d.jsx("div",{className:"bg-blue-500/80 backdrop-blur-sm text-white px-3 lg:px-4 py-1.5 lg:py-2 rounded-lg text-xs lg:text-sm text-center",children:"Manual Mode: Tap the target button to count each rep"})})]}),d.jsxs("div",{className:"hidden lg:flex lg:w-80 bg-gray-800 p-6 flex-col h-full",children:[d.jsx(lO,{currentReps:n.type==="reps"?b:N,targetReps:e,workoutType:n.type,currentPosition:k,elapsedTime:N,caloriesEstimate:Math.round(n.calories*(b/n.defaultValue)),accuracy:95}),d.jsxs("div",{className:"mt-6 bg-white/10 rounded-lg p-4",children:[d.jsx("h3",{className:"text-white font-semibold mb-3 text-base",children:"Form Tips"}),d.jsxs("div",{className:"text-white/70 text-sm space-y-2",children:[n.id==="pushups"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Keep your body straight like a plank"}),d.jsx("p",{children:"• Lower until elbows are at 90 degrees"}),d.jsx("p",{children:"• Keep your core engaged"})]}),n.id==="squats"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Keep your chest up and core tight"}),d.jsx("p",{children:"• Lower until thighs are parallel"}),d.jsx("p",{children:"• Knees should track over your toes"})]}),n.id==="plank"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Keep your body straight"}),d.jsx("p",{children:"• Shoulders over elbows"}),d.jsx("p",{children:"• Engage your core muscles"})]}),n.id==="jumpingjacks"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Jump feet apart, arms overhead"}),d.jsx("p",{children:"• Land softly on balls of feet"}),d.jsx("p",{children:"• Keep a steady rhythm"})]})]})]})]})]}),d.jsx("div",{className:"lg:hidden bg-gray-800 p-2 border-t border-gray-700",children:d.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold",children:n.type==="reps"?b:Oe(N)}),d.jsx("div",{className:"text-xs text-gray-300",children:n.type==="reps"?`/${e}`:`/${Oe(e)}`})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold",children:Oe(N)}),d.jsx("div",{className:"text-xs text-gray-300",children:"Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold",children:Math.round(n.calories*(b/n.defaultValue))}),d.jsx("div",{className:"text-xs text-gray-300",children:"Cal"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!At&&d.jsx("div",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs font-bold animate-pulse",children:"FRAME"}),d.jsx(oe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`px-3 py-1 rounded-full text-xs font-bold ${k==="DOWN"||k==="HOLD"||k==="OUT"?"bg-red-500 text-white":k==="UP"||k==="IN"?"bg-green-500 text-white":"bg-yellow-500 text-white"}`,children:k},k),d.jsxs("div",{className:"text-xs text-gray-300",children:[Math.round((n.type==="reps"?b/e:N/e)*100),"%"]})]})]})})]})]})},fO=({session:n,onRestart:e,onNewWorkout:t,onHome:r})=>{const{user:i}=Ss(),{saveWorkout:a}=rl(),[l,u]=R.useState(!1),[p,m]=R.useState(!1);R.useEffect(()=>{(async()=>{if(i&&!p&&!l)try{u(!0),await a(n),m(!0)}catch(H){console.error("Failed to save workout:",H)}finally{u(!1)}})()},[i,n,p,l,a]);const y=n.endTime?Math.floor((n.endTime.getTime()-n.startTime.getTime())/1e3):0,w=U=>{const H=Math.floor(U/60),J=U%60;return`${H}:${J.toString().padStart(2,"0")}`},T=(U,H)=>{const J=(U+H)/2;return J>=90?"Excellent":J>=80?"Great":J>=70?"Good":J>=60?"Fair":"Keep practicing"},b=n.workoutType.type==="reps"?n.repsCompleted/n.targetValue*100:100,C=T(n.accuracy,b),k=Math.round((n.accuracy+b)/2),I=[];b>=100&&I.push("Goal Completed"),n.accuracy>=90&&I.push("Perfect Form"),y<=n.targetValue*.8&&n.workoutType.type==="reps"&&I.push("Speed Demon"),n.calories>=n.workoutType.calories&&I.push("Calorie Crusher");const L=()=>{if(navigator.share)navigator.share({title:"FitVision Workout Complete!",text:`Just completed ${n.repsCompleted} ${n.workoutType.name} with ${n.accuracy}% form accuracy! 💪`,url:window.location.origin}).catch(console.log);else{const U=`Just completed ${n.repsCompleted} ${n.workoutType.name} with ${n.accuracy}% form accuracy using FitVision AI! 💪 ${window.location.origin}`;navigator.clipboard.writeText(U).then(()=>{alert("Workout results copied to clipboard!")})}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 py-12",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i&&d.jsx(oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:d.jsx("div",{className:`flex items-center justify-center space-x-2 p-3 rounded-lg ${p?"bg-green-100 text-green-700":l?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:p?d.jsxs(d.Fragment,{children:[d.jsx($b,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Workout saved to your profile!"})]}):l?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600"}),d.jsx("span",{className:"text-sm font-medium",children:"Saving workout..."})]}):d.jsx("span",{className:"text-sm font-medium",children:"Ready to save"})})}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:d.jsx(Va,{className:"h-10 w-10 text-green-600"})}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Workout Complete!"}),d.jsxs("p",{className:"text-xl text-gray-600",children:["Great job on your ",n.workoutType.name," session"]})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx("div",{className:`p-3 rounded-full ${n.workoutType.color} text-white`,children:n.workoutType.icon})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.repsCompleted}),d.jsxs("div",{className:"text-sm text-gray-500",children:[n.workoutType.unit," completed"]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(Es,{className:"h-8 w-8 text-blue-500"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:w(y)}),d.jsx("div",{className:"text-sm text-gray-500",children:"total time"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(Zn,{className:"h-8 w-8 text-orange-500"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.calories}),d.jsx("div",{className:"text-sm text-gray-500",children:"calories burned"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(di,{className:"h-8 w-8 text-green-500"})}),d.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[n.accuracy,"%"]}),d.jsx("div",{className:"text-sm text-gray-500",children:"form accuracy"})]})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Performance Summary"}),d.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[...Array(5)].map((U,H)=>d.jsx(cy,{className:`h-6 w-6 ${H<Math.round(k/20)?"text-yellow-400 fill-current":"text-gray-300"}`},H))}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:C}),d.jsxs("div",{className:"text-lg text-gray-600",children:["Overall Score: ",k,"/100"]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[d.jsx("span",{children:"Completion Rate"}),d.jsxs("span",{children:[Math.round(b),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx(oe.div,{className:"bg-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:`${Math.min(b,100)}%`},transition:{duration:1.5,delay:.5}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[d.jsx("span",{children:"Form Accuracy"}),d.jsxs("span",{children:[n.accuracy,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx(oe.div,{className:"bg-green-500 h-3 rounded-full",initial:{width:0},animate:{width:`${n.accuracy}%`},transition:{duration:1.5,delay:.7}})})]})]})]}),I.length>0&&d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-200 mb-8",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[d.jsx(Va,{className:"h-6 w-6 text-yellow-500 mr-2"}),"Achievements Unlocked"]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:I.map((U,H)=>d.jsxs(oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+H*.1},className:"bg-white rounded-lg p-3 border border-yellow-200 text-center",children:[d.jsx("div",{className:"text-yellow-500 mb-1",children:"🏆"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:U})]},U))})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("button",{onClick:e,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors",children:[d.jsx(ay,{className:"h-5 w-5"}),d.jsx("span",{children:"Do Again"})]}),d.jsxs("button",{onClick:t,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[d.jsx(rn,{className:"h-5 w-5"}),d.jsx("span",{children:"New Workout"})]}),d.jsxs("button",{onClick:L,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors",children:[d.jsx(YV,{className:"h-5 w-5"}),d.jsx("span",{children:"Share"})]}),d.jsxs("button",{onClick:r,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-gray-600 text-white rounded-xl font-medium hover:bg-gray-700 transition-colors",children:[d.jsx(OV,{className:"h-5 w-5"}),d.jsx("span",{children:"Home"})]})]}),d.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-8 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Tips for Next Time"}),d.jsxs("div",{className:"space-y-2 text-gray-600",children:[n.accuracy<85&&d.jsx("p",{children:"• Focus on maintaining proper form throughout the entire movement"}),b<100&&d.jsx("p",{children:"• Try to complete the full target next time - you're almost there!"}),y>n.targetValue*2&&n.workoutType.type==="reps"&&d.jsx("p",{children:"• Work on increasing your pace while maintaining good form"}),d.jsx("p",{children:"• Stay consistent with your workouts for best results"}),d.jsx("p",{children:"• Remember to stay hydrated and listen to your body"})]})]})]})})},pO=()=>{const n=M1(),[e,t]=R.useState("selection"),[r,i]=R.useState(null),[a,l]=R.useState(10),[u,p]=R.useState(null),[m,y]=R.useState(!1),w=async(L,U)=>{y(!0),i(L),l(U),setTimeout(()=>{t("workout"),y(!1)},1e3)},T=L=>{const U={id:Date.now().toString(),workoutType:r,targetValue:a,startTime:new Date(Date.now()-L.timeElapsed*1e3),endTime:new Date,repsCompleted:L.repsCompleted,accuracy:L.accuracy,calories:L.calories,formFeedback:[]};p(U),t("summary")},b=()=>{r&&t("workout")},C=()=>{t("selection"),i(null),p(null)},k=()=>{t("selection"),i(null),p(null)},I=()=>{n("/")};switch(e){case"selection":return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsx(GL,{onWorkoutSelect:w,isLoading:m})});case"workout":return r?d.jsx(dO,{selectedWorkout:r,targetValue:a,onWorkoutComplete:T,onExit:k}):null;case"summary":return u?d.jsx(fO,{session:u,onRestart:b,onNewWorkout:C,onHome:I}):null;default:return null}};function mO(){return d.jsx(AV,{children:d.jsx(IV,{children:d.jsx(OA,{basename:"/FitVision",children:d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[d.jsx(SL,{}),d.jsxs(PA,{children:[d.jsx(Js,{path:"/",element:d.jsx(UL,{})}),d.jsx(Js,{path:"/dashboard",element:d.jsx(Zl,{children:d.jsx($L,{})})}),d.jsx(Js,{path:"/analytics",element:d.jsx(Zl,{children:d.jsx(WL,{})})}),d.jsx(Js,{path:"/profile",element:d.jsx(Zl,{children:d.jsx(qL,{})})}),d.jsx(Js,{path:"/achievements",element:d.jsx(Zl,{children:d.jsx(HL,{})})}),d.jsx(Js,{path:"/workout-library",element:d.jsx(KL,{})}),d.jsx(Js,{path:"/workout-session",element:d.jsx(Zl,{children:d.jsx(pO,{})})})]})]})})})})}UI.createRoot(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(mO,{})}));
