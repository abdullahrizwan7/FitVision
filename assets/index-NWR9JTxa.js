var SI=Object.defineProperty;var II=(n,e,t)=>e in n?SI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var rt=(n,e,t)=>II(n,typeof e!="symbol"?e+"":e,t);import{g as AI,r as Jv,a as Zv,s as CI,m as ex,b as tx,y as NI}from"./tensorflow-vzkht5av.js";function PI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Rp={exports:{}},Yl={},jp={exports:{}},Re={},nx;function RI(){if(nx)return Re;nx=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function I(B,Y,ye){this.props=B,this.context=Y,this.refs=k,this.updater=ye||b}I.prototype.isReactComponent={},I.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function L(){}L.prototype=I.prototype;function U(B,Y,ye){this.props=B,this.context=Y,this.refs=k,this.updater=ye||b}var H=U.prototype=new L;H.constructor=U,C(H,I.prototype),H.isPureReactComponent=!0;var J=Array.isArray,ee=Object.prototype.hasOwnProperty,ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(B,Y,ye){var Ce,Ne={},je=null,Oe=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(Oe=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)ee.call(Y,Ce)&&!D.hasOwnProperty(Ce)&&(Ne[Ce]=Y[Ce]);var De=arguments.length-2;if(De===1)Ne.children=ye;else if(1<De){for(var Ke=Array(De),_t=0;_t<De;_t++)Ke[_t]=arguments[_t+2];Ne.children=Ke}if(B&&B.defaultProps)for(Ce in De=B.defaultProps,De)Ne[Ce]===void 0&&(Ne[Ce]=De[Ce]);return{$$typeof:n,type:B,key:je,ref:Oe,props:Ne,_owner:ae.current}}function N(B,Y){return{$$typeof:n,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function F(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return Y[ye]})}var z=/\/+/g;function j(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Y.toString(36)}function Xe(B,Y,ye,Ce,Ne){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var Oe=!1;if(B===null)Oe=!0;else switch(je){case"string":case"number":Oe=!0;break;case"object":switch(B.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=B,Ne=Ne(Oe),B=Ce===""?"."+j(Oe,0):Ce,J(Ne)?(ye="",B!=null&&(ye=B.replace(z,"$&/")+"/"),Xe(Ne,Y,ye,"",function(_t){return _t})):Ne!=null&&(M(Ne)&&(Ne=N(Ne,ye+(!Ne.key||Oe&&Oe.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+B)),Y.push(Ne)),1;if(Oe=0,Ce=Ce===""?".":Ce+":",J(B))for(var De=0;De<B.length;De++){je=B[De];var Ke=Ce+j(je,De);Oe+=Xe(je,Y,ye,Ke,Ne)}else if(Ke=T(B),typeof Ke=="function")for(B=Ke.call(B),De=0;!(je=B.next()).done;)je=je.value,Ke=Ce+j(je,De++),Oe+=Xe(je,Y,ye,Ke,Ne);else if(je==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Oe}function At(B,Y,ye){if(B==null)return B;var Ce=[],Ne=0;return Xe(B,Ce,"","",function(je){return Y.call(ye,je,Ne++)}),Ce}function Ct(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var ke={current:null},se={transition:null},ge={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:At,forEach:function(B,Y,ye){At(B,function(){Y.apply(this,arguments)},ye)},count:function(B){var Y=0;return At(B,function(){Y++}),Y},toArray:function(B){return At(B,function(Y){return Y})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=I,Re.Fragment=t,Re.Profiler=i,Re.PureComponent=U,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=le,Re.cloneElement=function(B,Y,ye){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ce=C({},B.props),Ne=B.key,je=B.ref,Oe=B._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,Oe=ae.current),Y.key!==void 0&&(Ne=""+Y.key),B.type&&B.type.defaultProps)var De=B.type.defaultProps;for(Ke in Y)ee.call(Y,Ke)&&!D.hasOwnProperty(Ke)&&(Ce[Ke]=Y[Ke]===void 0&&De!==void 0?De[Ke]:Y[Ke])}var Ke=arguments.length-2;if(Ke===1)Ce.children=ye;else if(1<Ke){De=Array(Ke);for(var _t=0;_t<Ke;_t++)De[_t]=arguments[_t+2];Ce.children=De}return{$$typeof:n,type:B.type,key:Ne,ref:je,props:Ce,_owner:Oe}},Re.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Re.createElement=A,Re.createFactory=function(B){var Y=A.bind(null,B);return Y.type=B,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:u,render:B}},Re.isValidElement=M,Re.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Ct}},Re.memo=function(B,Y){return{$$typeof:m,type:B,compare:Y===void 0?null:Y}},Re.startTransition=function(B){var Y=se.transition;se.transition={};try{B()}finally{se.transition=Y}},Re.unstable_act=le,Re.useCallback=function(B,Y){return ke.current.useCallback(B,Y)},Re.useContext=function(B){return ke.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return ke.current.useDeferredValue(B)},Re.useEffect=function(B,Y){return ke.current.useEffect(B,Y)},Re.useId=function(){return ke.current.useId()},Re.useImperativeHandle=function(B,Y,ye){return ke.current.useImperativeHandle(B,Y,ye)},Re.useInsertionEffect=function(B,Y){return ke.current.useInsertionEffect(B,Y)},Re.useLayoutEffect=function(B,Y){return ke.current.useLayoutEffect(B,Y)},Re.useMemo=function(B,Y){return ke.current.useMemo(B,Y)},Re.useReducer=function(B,Y,ye){return ke.current.useReducer(B,Y,ye)},Re.useRef=function(B){return ke.current.useRef(B)},Re.useState=function(B){return ke.current.useState(B)},Re.useSyncExternalStore=function(B,Y,ye){return ke.current.useSyncExternalStore(B,Y,ye)},Re.useTransition=function(){return ke.current.useTransition()},Re.version="18.3.1",Re}var rx;function ig(){return rx||(rx=1,jp.exports=RI()),jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function jI(){if(sx)return Yl;sx=1;var n=ig(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var y,w={},T=null,b=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(b=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:u,key:T,ref:b,props:w,_owner:i.current}}return Yl.Fragment=t,Yl.jsx=l,Yl.jsxs=l,Yl}var ix;function DI(){return ix||(ix=1,Rp.exports=jI()),Rp.exports}var d=DI(),R=ig();const VI=AI(R),MI=PI({__proto__:null,default:VI},[R]);var gd={},Dp={exports:{}},xn={},Vp={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function LI(){return ox||(ox=1,function(n){function e(se,ge){var le=se.length;se.push(ge);e:for(;0<le;){var B=le-1>>>1,Y=se[B];if(0<i(Y,ge))se[B]=ge,se[le]=Y,le=B;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ge=se[0],le=se.pop();if(le!==ge){se[0]=le;e:for(var B=0,Y=se.length,ye=Y>>>1;B<ye;){var Ce=2*(B+1)-1,Ne=se[Ce],je=Ce+1,Oe=se[je];if(0>i(Ne,le))je<Y&&0>i(Oe,Ne)?(se[B]=Oe,se[je]=le,B=je):(se[B]=Ne,se[Ce]=le,B=Ce);else if(je<Y&&0>i(Oe,le))se[B]=Oe,se[je]=le,B=je;else break e}}return ge}function i(se,ge){var le=se.sortIndex-ge.sortIndex;return le!==0?le:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],m=[],y=1,w=null,T=3,b=!1,C=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(se){for(var ge=t(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=se)r(m),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(m)}}function J(se){if(k=!1,H(se),!C)if(t(f)!==null)C=!0,Ct(ee);else{var ge=t(m);ge!==null&&ke(J,ge.startTime-se)}}function ee(se,ge){C=!1,k&&(k=!1,L(A),A=-1),b=!0;var le=T;try{for(H(ge),w=t(f);w!==null&&(!(w.expirationTime>ge)||se&&!F());){var B=w.callback;if(typeof B=="function"){w.callback=null,T=w.priorityLevel;var Y=B(w.expirationTime<=ge);ge=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&r(f),H(ge)}else r(f);w=t(f)}if(w!==null)var ye=!0;else{var Ce=t(m);Ce!==null&&ke(J,Ce.startTime-ge),ye=!1}return ye}finally{w=null,T=le,b=!1}}var ae=!1,D=null,A=-1,N=5,M=-1;function F(){return!(n.unstable_now()-M<N)}function z(){if(D!==null){var se=n.unstable_now();M=se;var ge=!0;try{ge=D(!0,se)}finally{ge?j():(ae=!1,D=null)}}else ae=!1}var j;if(typeof U=="function")j=function(){U(z)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,At=Xe.port2;Xe.port1.onmessage=z,j=function(){At.postMessage(null)}}else j=function(){I(z,0)};function Ct(se){D=se,ae||(ae=!0,j())}function ke(se,ge){A=I(function(){se(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){C||b||(C=!0,Ct(ee))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var le=T;T=ge;try{return se()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=T;T=se;try{return ge()}finally{T=le}},n.unstable_scheduleCallback=function(se,ge,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:y++,callback:ge,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>B?(se.sortIndex=le,e(m,se),t(f)===null&&se===t(m)&&(k?(L(A),A=-1):k=!0,ke(J,le-B))):(se.sortIndex=Y,e(f,se),C||b||(C=!0,Ct(ee))),se},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(se){var ge=T;return function(){var le=T;T=ge;try{return se.apply(this,arguments)}finally{T=le}}}}(Mp)),Mp}var ax;function OI(){return ax||(ax=1,Vp.exports=LI()),Vp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function FI(){if(lx)return xn;lx=1;var n=ig(),e=OI();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(s){return f.call(w,s)?!0:f.call(y,s)?!1:m.test(s)?w[s]=!0:(y[s]=!0,!1)}function b(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,c,p){if(o===null||typeof o>"u"||b(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,c,p,g,x,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=E}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,U);I[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,U);I[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,U);I[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,o,c,p){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,g,p)&&(c=null),p||g===null?T(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,B;function Y(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ye=!1;function Ce(s,o){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var p=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){p=K}s.call(o.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),x=p.stack.split(`
`),E=g.length-1,P=x.length-1;1<=E&&0<=P&&g[E]!==x[P];)P--;for(;1<=E&&0<=P;E--,P--)if(g[E]!==x[P]){if(E!==1||P!==1)do if(E--,P--,0>P||g[E]!==x[P]){var V=`
`+g[E].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=E&&0<=P);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ne(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case ae:return"Portal";case N:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case Xe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case At:return o=s.displayName||null,o!==null?o:je(s.type)||"Memo";case Ct:o=s._payload,s=s._init;try{return je(s(o))}catch{}}return null}function Oe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _t(s){var o=Ke(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){p=""+E,x.call(this,E)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function tr(s){s._valueTracker||(s._valueTracker=_t(s))}function nr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=Ke(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function kr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ge(s,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function En(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=De(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function dn(s,o){o=o.checked,o!=null&&H(s,"checked",o,!1)}function Sr(s,o){dn(s,o);var c=De(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?at(s,o.type,c):o.hasOwnProperty("defaultValue")&&at(s,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Qe(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function at(s,o,c){(o!=="number"||kr(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ht=Array.isArray;function bn(s,o,c,p){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+De(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function sl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ao(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(ht(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:De(c)}}function Co(s,o){var c=De(o.value),p=De(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function il(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Nt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Nt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xr,ol=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Xr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function As(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(s){Ci.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ai[o]=Ai[s]})});function al(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ai.hasOwnProperty(s)&&Ai[s]?(""+o).trim():o+"px"}function ll(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=al(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var cl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(s,o){if(o){if(cl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function dl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function No(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Po=null,On=null,Ir=null;function Ro(s){if(s=Vl(s)){if(typeof Po!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Pu(o),Po(s.stateNode,s.type,o))}}function Ar(s){On?Ir?Ir.push(s):Ir=[s]:On=s}function hl(){if(On){var s=On,o=Ir;if(Ir=On=null,Ro(s),o)for(s=0;s<o.length;s++)Ro(o[s])}}function Pi(s,o){return s(o)}function fl(){}var Jr=!1;function pl(s,o,c){if(Jr)return s(o,c);Jr=!0;try{return Pi(s,o,c)}finally{Jr=!1,(On!==null||Ir!==null)&&(fl(),hl())}}function mt(s,o){var c=s.stateNode;if(c===null)return null;var p=Pu(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var jo=!1;if(u)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){jo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{jo=!1}function Ri(s,o,c,p,g,x,E,P,V){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(te){this.onError(te)}}var ji=!1,Do=null,sr=!1,ml=null,of={onError:function(s){ji=!0,Do=s}};function Vo(s,o,c,p,g,x,E,P,V){ji=!1,Do=null,Ri.apply(of,arguments)}function nu(s,o,c,p,g,x,E,P,V){if(Vo.apply(this,arguments),ji){if(ji){var K=Do;ji=!1,Do=null}else throw Error(t(198));sr||(sr=!0,ml=K)}}function ir(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Di(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function or(s){if(ir(s)!==s)throw Error(t(188))}function ru(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,p=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return or(g),s;if(x===p)return or(g),o;x=x.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=x;else{for(var E=!1,P=g.child;P;){if(P===c){E=!0,c=g,p=x;break}if(P===p){E=!0,p=g,c=x;break}P=P.sibling}if(!E){for(P=x.child;P;){if(P===c){E=!0,c=x,p=g;break}if(P===p){E=!0,p=x,c=g;break}P=P.sibling}if(!E)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function gl(s){return s=ru(s),s!==null?Mo(s):null}function Mo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Mo(s);if(o!==null)return o;s=s.sibling}return null}var Lo=e.unstable_scheduleCallback,yl=e.unstable_cancelCallback,su=e.unstable_shouldYield,af=e.unstable_requestPaint,Je=e.unstable_now,iu=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,Cs=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,vl=e.unstable_LowPriority,ou=e.unstable_IdlePriority,Mi=null,kn=null;function au(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Mi,s,void 0,(s.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:cu,xl=Math.log,lu=Math.LN2;function cu(s){return s>>>=0,s===0?32:31-(xl(s)/lu|0)|0}var Oo=64,Fo=4194304;function Ns(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Li(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,x=s.pingedLanes,E=c&268435455;if(E!==0){var P=E&~g;P!==0?p=Ns(P):(x&=E,x!==0&&(p=Ns(x)))}else E=c&~g,E!==0?p=Ns(E):x!==0&&(p=Ns(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&g)===0&&(g=p&-p,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-an(o),g=1<<c,p|=s[c],o&=~g;return p}function lf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var E=31-an(x),P=1<<E,V=g[E];V===-1?((P&c)===0||(P&p)!==0)&&(g[E]=lf(P,o)):V<=o&&(s.expiredLanes|=P),x&=~P}}function Sn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Oi(){var s=Oo;return Oo<<=1,(Oo&4194240)===0&&(Oo=64),s}function Ps(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Rs(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-an(o),s[o]=c}function Ye(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-an(c),x=1<<g;o[g]=0,p[g]=-1,s[g]=-1,c&=~x}}function js(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-an(c),g=1<<p;g&o|s[p]&o&&(s[p]|=o),c&=~g}}var Fe=0;function Ds(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var uu,Uo,du,hu,fu,wl=!1,Cr=[],Bt=null,ar=null,lr=null,Vs=new Map,Un=new Map,Nr=[],cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(s,o){switch(s){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Vs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(o.pointerId)}}function hn(s,o,c,p,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Vl(o),o!==null&&Uo(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function uf(s,o,c,p,g){switch(o){case"focusin":return Bt=hn(Bt,s,o,c,p,g),!0;case"dragenter":return ar=hn(ar,s,o,c,p,g),!0;case"mouseover":return lr=hn(lr,s,o,c,p,g),!0;case"pointerover":var x=g.pointerId;return Vs.set(x,hn(Vs.get(x)||null,s,o,c,p,g)),!0;case"gotpointercapture":return x=g.pointerId,Un.set(x,hn(Un.get(x)||null,s,o,c,p,g)),!0}return!1}function mu(s){var o=$i(s.target);if(o!==null){var c=ir(o);if(c!==null){if(o=c.tag,o===13){if(o=Di(c),o!==null){s.blockedOn=o,fu(s.priority,function(){du(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function es(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Bo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Ni=p,c.target.dispatchEvent(p),Ni=null}else return o=Vl(c),o!==null&&Uo(o),s.blockedOn=c,!1;o.shift()}return!0}function Fi(s,o,c){es(s)&&c.delete(o)}function gu(){wl=!1,Bt!==null&&es(Bt)&&(Bt=null),ar!==null&&es(ar)&&(ar=null),lr!==null&&es(lr)&&(lr=null),Vs.forEach(Fi),Un.forEach(Fi)}function cr(s,o){s.blockedOn===o&&(s.blockedOn=null,wl||(wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function ur(s){function o(g){return cr(g,s)}if(0<Cr.length){cr(Cr[0],s);for(var c=1;c<Cr.length;c++){var p=Cr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Bt!==null&&cr(Bt,s),ar!==null&&cr(ar,s),lr!==null&&cr(lr,s),Vs.forEach(o),Un.forEach(o),c=0;c<Nr.length;c++)p=Nr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Nr.length&&(c=Nr[0],c.blockedOn===null);)mu(c),c.blockedOn===null&&Nr.shift()}var ts=J.ReactCurrentBatchConfig,Ms=!0;function it(s,o,c,p){var g=Fe,x=ts.transition;ts.transition=null;try{Fe=1,_l(s,o,c,p)}finally{Fe=g,ts.transition=x}}function df(s,o,c,p){var g=Fe,x=ts.transition;ts.transition=null;try{Fe=4,_l(s,o,c,p)}finally{Fe=g,ts.transition=x}}function _l(s,o,c,p){if(Ms){var g=Bo(s,o,c,p);if(g===null)Tf(s,o,p,Ui,c),pu(s,p);else if(uf(g,s,o,c,p))p.stopPropagation();else if(pu(s,p),o&4&&-1<cf.indexOf(s)){for(;g!==null;){var x=Vl(g);if(x!==null&&uu(x),x=Bo(s,o,c,p),x===null&&Tf(s,o,p,Ui,c),x===g)break;g=x}g!==null&&p.stopPropagation()}else Tf(s,o,p,null,c)}}var Ui=null;function Bo(s,o,c,p){if(Ui=null,s=No(p),s=$i(s),s!==null)if(o=ir(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Di(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ui=s,null}function Tl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iu()){case Vi:return 1;case Cs:return 4;case Fn:case vl:return 16;case ou:return 536870912;default:return 16}default:return 16}}var In=null,zo=null,fn=null;function El(){if(fn)return fn;var s,o=zo,c=o.length,p,g="value"in In?In.value:In.textContent,x=g.length;for(s=0;s<c&&o[s]===g[s];s++);var E=c-s;for(p=1;p<=E&&o[c-p]===g[x-p];p++);return fn=g.slice(s,1<p?1-p:void 0)}function $o(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Pr(){return!0}function bl(){return!1}function zt(s){function o(c,p,g,x,E){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(c=s[P],this[P]=c?c(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Pr:bl,this.isPropagationStopped=bl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),o}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=zt(dr),Rr=le({},dr,{view:0,detail:0}),hf=zt(Rr),qo,ns,Ls,Bi=le({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ls&&(Ls&&s.type==="mousemove"?(qo=s.screenX-Ls.screenX,ns=s.screenY-Ls.screenY):ns=qo=0,Ls=s),qo)},movementY:function(s){return"movementY"in s?s.movementY:ns}}),Ho=zt(Bi),kl=le({},Bi,{dataTransfer:0}),yu=zt(kl),Ko=le({},Rr,{relatedTarget:0}),Go=zt(Ko),vu=le({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),rs=zt(vu),xu=le({},dr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wu=zt(xu),_u=le({},dr,{data:0}),Sl=zt(_u),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Tu[s])?!!o[s]:!1}function jr(){return Eu}var h=le({},Rr,{key:function(s){if(s.key){var o=Qo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$o(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ln[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(s){return s.type==="keypress"?$o(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$o(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=zt(h),_=le({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=zt(_),$=le({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),G=zt($),oe=le({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=zt(oe),Rt=le({},Bi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=zt(Rt),Mt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,Bn=null;u&&"documentMode"in document&&(Bn=document.documentMode);var An=u&&"TextEvent"in window&&!Bn,zi=u&&(!Tt||Bn&&8<Bn&&11>=Bn),Yo=" ",Hy=!1;function Ky(s,o){switch(s){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xo=!1;function ES(s,o){switch(s){case"compositionend":return Gy(o);case"keypress":return o.which!==32?null:(Hy=!0,Yo);case"textInput":return s=o.data,s===Yo&&Hy?null:s;default:return null}}function bS(s,o){if(Xo)return s==="compositionend"||!Tt&&Ky(s,o)?(s=El(),fn=zo=In=null,Xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zi&&o.locale!=="ko"?null:o.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!kS[s.type]:o==="textarea"}function Yy(s,o,c,p){Ar(p),o=Au(o,"onChange"),0<o.length&&(c=new Wo("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var Il=null,Al=null;function SS(s){p0(s,0)}function bu(s){var o=na(s);if(nr(o))return s}function IS(s,o){if(s==="change")return o}var Xy=!1;if(u){var ff;if(u){var pf="oninput"in document;if(!pf){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),pf=typeof Jy.oninput=="function"}ff=pf}else ff=!1;Xy=ff&&(!document.documentMode||9<document.documentMode)}function Zy(){Il&&(Il.detachEvent("onpropertychange",e0),Al=Il=null)}function e0(s){if(s.propertyName==="value"&&bu(Al)){var o=[];Yy(o,Al,s,No(s)),pl(SS,o)}}function AS(s,o,c){s==="focusin"?(Zy(),Il=o,Al=c,Il.attachEvent("onpropertychange",e0)):s==="focusout"&&Zy()}function CS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bu(Al)}function NS(s,o){if(s==="click")return bu(o)}function PS(s,o){if(s==="input"||s==="change")return bu(o)}function RS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var hr=typeof Object.is=="function"?Object.is:RS;function Cl(s,o){if(hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!f.call(o,g)||!hr(s[g],o[g]))return!1}return!0}function t0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function n0(s,o){var c=t0(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=t0(c)}}function r0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?r0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function s0(){for(var s=window,o=kr();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=kr(s.document)}return o}function mf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function jS(s){var o=s0(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&r0(c.ownerDocument.documentElement,c)){if(p!==null&&mf(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,x=Math.min(p.start,g);p=p.end===void 0?x:Math.min(p.end,g),!s.extend&&x>p&&(g=p,p=x,x=g),g=n0(c,x);var E=n0(c,p);g&&E&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),x>p?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var DS=u&&"documentMode"in document&&11>=document.documentMode,Jo=null,gf=null,Nl=null,yf=!1;function i0(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;yf||Jo==null||Jo!==kr(p)||(p=Jo,"selectionStart"in p&&mf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Nl&&Cl(Nl,p)||(Nl=p,p=Au(gf,"onSelect"),0<p.length&&(o=new Wo("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=Jo)))}function ku(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Zo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},vf={},o0={};u&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Su(s){if(vf[s])return vf[s];if(!Zo[s])return s;var o=Zo[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in o0)return vf[s]=o[c];return s}var a0=Su("animationend"),l0=Su("animationiteration"),c0=Su("animationstart"),u0=Su("transitionend"),d0=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(s,o){d0.set(s,o),a(o,[s])}for(var xf=0;xf<h0.length;xf++){var wf=h0[xf],VS=wf.toLowerCase(),MS=wf[0].toUpperCase()+wf.slice(1);Os(VS,"on"+MS)}Os(a0,"onAnimationEnd"),Os(l0,"onAnimationIteration"),Os(c0,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(u0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function f0(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,nu(p,o,void 0,s),s.currentTarget=null}function p0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var E=p.length-1;0<=E;E--){var P=p[E],V=P.instance,K=P.currentTarget;if(P=P.listener,V!==x&&g.isPropagationStopped())break e;f0(g,P,K),x=V}else for(E=0;E<p.length;E++){if(P=p[E],V=P.instance,K=P.currentTarget,P=P.listener,V!==x&&g.isPropagationStopped())break e;f0(g,P,K),x=V}}}if(sr)throw s=ml,sr=!1,ml=null,s}function tt(s,o){var c=o[Af];c===void 0&&(c=o[Af]=new Set);var p=s+"__bubble";c.has(p)||(m0(o,s,2,!1),c.add(p))}function _f(s,o,c){var p=0;o&&(p|=4),m0(c,s,p,o)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Rl(s){if(!s[Iu]){s[Iu]=!0,r.forEach(function(c){c!=="selectionchange"&&(LS.has(c)||_f(c,!1,s),_f(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Iu]||(o[Iu]=!0,_f("selectionchange",!1,o))}}function m0(s,o,c,p){switch(Tl(o)){case 1:var g=it;break;case 4:g=df;break;default:g=_l}c=g.bind(null,o,c,s),g=void 0,!jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function Tf(s,o,c,p,g){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var P=p.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(E===4)for(E=p.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;E=E.return}for(;P!==null;){if(E=$i(P),E===null)return;if(V=E.tag,V===5||V===6){p=x=E;continue e}P=P.parentNode}}p=p.return}pl(function(){var K=x,te=No(c),ne=[];e:{var Z=d0.get(s);if(Z!==void 0){var ue=Wo,fe=s;switch(s){case"keypress":if($o(c)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":fe="focus",ue=Go;break;case"focusout":fe="blur",ue=Go;break;case"beforeblur":case"afterblur":ue=Go;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case a0:case l0:case c0:ue=rs;break;case u0:ue=He;break;case"scroll":ue=hf;break;case"wheel":ue=Ue;break;case"copy":case"cut":case"paste":ue=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var pe=(o&4)!==0,gt=!pe&&s==="scroll",W=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var O=K,q;O!==null;){q=O;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,W!==null&&(ie=mt(O,W),ie!=null&&pe.push(jl(O,ie,q)))),gt)break;O=O.return}0<pe.length&&(Z=new ue(Z,fe,null,c,te),ne.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&c!==Ni&&(fe=c.relatedTarget||c.fromElement)&&($i(fe)||fe[ss]))break e;if((ue||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=K,fe=fe?$i(fe):null,fe!==null&&(gt=ir(fe),fe!==gt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=K),ue!==fe)){if(pe=Ho,ie="onMouseLeave",W="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(pe=S,ie="onPointerLeave",W="onPointerEnter",O="pointer"),gt=ue==null?Z:na(ue),q=fe==null?Z:na(fe),Z=new pe(ie,O+"leave",ue,c,te),Z.target=gt,Z.relatedTarget=q,ie=null,$i(te)===K&&(pe=new pe(W,O+"enter",fe,c,te),pe.target=q,pe.relatedTarget=gt,ie=pe),gt=ie,ue&&fe)t:{for(pe=ue,W=fe,O=0,q=pe;q;q=ea(q))O++;for(q=0,ie=W;ie;ie=ea(ie))q++;for(;0<O-q;)pe=ea(pe),O--;for(;0<q-O;)W=ea(W),q--;for(;O--;){if(pe===W||W!==null&&pe===W.alternate)break t;pe=ea(pe),W=ea(W)}pe=null}else pe=null;ue!==null&&g0(ne,Z,ue,pe,!1),fe!==null&&gt!==null&&g0(ne,gt,fe,pe,!0)}}e:{if(Z=K?na(K):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=IS;else if(Qy(Z))if(Xy)me=PS;else{me=CS;var xe=AS}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=NS);if(me&&(me=me(s,K))){Yy(ne,me,c,te);break e}xe&&xe(s,Z,K),s==="focusout"&&(xe=Z._wrapperState)&&xe.controlled&&Z.type==="number"&&at(Z,"number",Z.value)}switch(xe=K?na(K):window,s){case"focusin":(Qy(xe)||xe.contentEditable==="true")&&(Jo=xe,gf=K,Nl=null);break;case"focusout":Nl=gf=Jo=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,i0(ne,c,te);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":i0(ne,c,te)}var we;if(Tt)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Xo?Ky(s,c)&&(Se="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(zi&&c.locale!=="ko"&&(Xo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Xo&&(we=El()):(In=te,zo="value"in In?In.value:In.textContent,Xo=!0)),xe=Au(K,Se),0<xe.length&&(Se=new Sl(Se,s,null,c,te),ne.push({event:Se,listeners:xe}),we?Se.data=we:(we=Gy(c),we!==null&&(Se.data=we)))),(we=An?ES(s,c):bS(s,c))&&(K=Au(K,"onBeforeInput"),0<K.length&&(te=new Sl("onBeforeInput","beforeinput",null,c,te),ne.push({event:te,listeners:K}),te.data=we))}p0(ne,o)})}function jl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Au(s,o){for(var c=o+"Capture",p=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=mt(s,c),x!=null&&p.unshift(jl(s,x,g)),x=mt(s,o),x!=null&&p.push(jl(s,x,g))),s=s.return}return p}function ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function g0(s,o,c,p,g){for(var x=o._reactName,E=[];c!==null&&c!==p;){var P=c,V=P.alternate,K=P.stateNode;if(V!==null&&V===p)break;P.tag===5&&K!==null&&(P=K,g?(V=mt(c,x),V!=null&&E.unshift(jl(c,V,P))):g||(V=mt(c,x),V!=null&&E.push(jl(c,V,P)))),c=c.return}E.length!==0&&s.push({event:o,listeners:E})}var OS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function y0(s){return(typeof s=="string"?s:""+s).replace(OS,`
`).replace(FS,"")}function Cu(s,o,c){if(o=y0(o),y0(s)!==o&&c)throw Error(t(425))}function Nu(){}var Ef=null,bf=null;function kf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(s){return v0.resolve(null).then(s).catch(zS)}:Sf;function zS(s){setTimeout(function(){throw s})}function If(s,o){var c=o,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),ur(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);ur(o)}function Fs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function x0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ta,Dl="__reactProps$"+ta,ss="__reactContainer$"+ta,Af="__reactEvents$"+ta,$S="__reactListeners$"+ta,WS="__reactHandles$"+ta;function $i(s){var o=s[Dr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ss]||c[Dr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=x0(s);s!==null;){if(c=s[Dr])return c;s=x0(s)}return o}s=c,c=s.parentNode}return null}function Vl(s){return s=s[Dr]||s[ss],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Pu(s){return s[Dl]||null}var Cf=[],ra=-1;function Us(s){return{current:s}}function nt(s){0>ra||(s.current=Cf[ra],Cf[ra]=null,ra--)}function Ze(s,o){ra++,Cf[ra]=s.current,s.current=o}var Bs={},Yt=Us(Bs),pn=Us(!1),Wi=Bs;function sa(s,o){var c=s.type.contextTypes;if(!c)return Bs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=o[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function mn(s){return s=s.childContextTypes,s!=null}function Ru(){nt(pn),nt(Yt)}function w0(s,o,c){if(Yt.current!==Bs)throw Error(t(168));Ze(Yt,o),Ze(pn,c)}function _0(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(t(108,Oe(s)||"Unknown",g));return le({},c,p)}function ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bs,Wi=Yt.current,Ze(Yt,s),Ze(pn,pn.current),!0}function T0(s,o,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=_0(s,o,Wi),p.__reactInternalMemoizedMergedChildContext=s,nt(pn),nt(Yt),Ze(Yt,s)):nt(pn),Ze(pn,c)}var is=null,Du=!1,Nf=!1;function E0(s){is===null?is=[s]:is.push(s)}function qS(s){Du=!0,E0(s)}function zs(){if(!Nf&&is!==null){Nf=!0;var s=0,o=Fe;try{var c=is;for(Fe=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}is=null,Du=!1}catch(g){throw is!==null&&(is=is.slice(s+1)),Lo(Vi,zs),g}finally{Fe=o,Nf=!1}}return null}var ia=[],oa=0,Vu=null,Mu=0,zn=[],$n=0,qi=null,os=1,as="";function Hi(s,o){ia[oa++]=Mu,ia[oa++]=Vu,Vu=s,Mu=o}function b0(s,o,c){zn[$n++]=os,zn[$n++]=as,zn[$n++]=qi,qi=s;var p=os;s=as;var g=32-an(p)-1;p&=~(1<<g),c+=1;var x=32-an(o)+g;if(30<x){var E=g-g%5;x=(p&(1<<E)-1).toString(32),p>>=E,g-=E,os=1<<32-an(o)+g|c<<g|p,as=x+s}else os=1<<x|c<<g|p,as=s}function Pf(s){s.return!==null&&(Hi(s,1),b0(s,1,0))}function Rf(s){for(;s===Vu;)Vu=ia[--oa],ia[oa]=null,Mu=ia[--oa],ia[oa]=null;for(;s===qi;)qi=zn[--$n],zn[$n]=null,as=zn[--$n],zn[$n]=null,os=zn[--$n],zn[$n]=null}var Cn=null,Nn=null,ot=!1,fr=null;function k0(s,o){var c=Kn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function S0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Cn=s,Nn=Fs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Cn=s,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=qi!==null?{id:os,overflow:as}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Kn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Cn=s,Nn=null,!0):!1;default:return!1}}function jf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Df(s){if(ot){var o=Nn;if(o){var c=o;if(!S0(s,o)){if(jf(s))throw Error(t(418));o=Fs(c.nextSibling);var p=Cn;o&&S0(s,o)?k0(p,c):(s.flags=s.flags&-4097|2,ot=!1,Cn=s)}}else{if(jf(s))throw Error(t(418));s.flags=s.flags&-4097|2,ot=!1,Cn=s}}}function I0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Cn=s}function Lu(s){if(s!==Cn)return!1;if(!ot)return I0(s),ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!kf(s.type,s.memoizedProps)),o&&(o=Nn)){if(jf(s))throw A0(),Error(t(418));for(;o;)k0(s,o),o=Fs(o.nextSibling)}if(I0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Nn=Fs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Nn=null}}else Nn=Cn?Fs(s.stateNode.nextSibling):null;return!0}function A0(){for(var s=Nn;s;)s=Fs(s.nextSibling)}function aa(){Nn=Cn=null,ot=!1}function Vf(s){fr===null?fr=[s]:fr.push(s)}var HS=J.ReactCurrentBatchConfig;function Ml(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(E){var P=g.refs;E===null?delete P[x]:P[x]=E},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Ou(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function C0(s){var o=s._init;return o(s._payload)}function N0(s){function o(W,O){if(s){var q=W.deletions;q===null?(W.deletions=[O],W.flags|=16):q.push(O)}}function c(W,O){if(!s)return null;for(;O!==null;)o(W,O),O=O.sibling;return null}function p(W,O){for(W=new Map;O!==null;)O.key!==null?W.set(O.key,O):W.set(O.index,O),O=O.sibling;return W}function g(W,O){return W=Ys(W,O),W.index=0,W.sibling=null,W}function x(W,O,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<O?(W.flags|=2,O):q):(W.flags|=2,O)):(W.flags|=1048576,O)}function E(W){return s&&W.alternate===null&&(W.flags|=2),W}function P(W,O,q,ie){return O===null||O.tag!==6?(O=Sp(q,W.mode,ie),O.return=W,O):(O=g(O,q),O.return=W,O)}function V(W,O,q,ie){var me=q.type;return me===D?te(W,O,q.props.children,ie,q.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ct&&C0(me)===O.type)?(ie=g(O,q.props),ie.ref=Ml(W,O,q),ie.return=W,ie):(ie=ld(q.type,q.key,q.props,null,W.mode,ie),ie.ref=Ml(W,O,q),ie.return=W,ie)}function K(W,O,q,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Ip(q,W.mode,ie),O.return=W,O):(O=g(O,q.children||[]),O.return=W,O)}function te(W,O,q,ie,me){return O===null||O.tag!==7?(O=eo(q,W.mode,ie,me),O.return=W,O):(O=g(O,q),O.return=W,O)}function ne(W,O,q){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Sp(""+O,W.mode,q),O.return=W,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ee:return q=ld(O.type,O.key,O.props,null,W.mode,q),q.ref=Ml(W,null,O),q.return=W,q;case ae:return O=Ip(O,W.mode,q),O.return=W,O;case Ct:var ie=O._init;return ne(W,ie(O._payload),q)}if(ht(O)||ge(O))return O=eo(O,W.mode,q,null),O.return=W,O;Ou(W,O)}return null}function Z(W,O,q,ie){var me=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return me!==null?null:P(W,O,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:return q.key===me?V(W,O,q,ie):null;case ae:return q.key===me?K(W,O,q,ie):null;case Ct:return me=q._init,Z(W,O,me(q._payload),ie)}if(ht(q)||ge(q))return me!==null?null:te(W,O,q,ie,null);Ou(W,q)}return null}function ue(W,O,q,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(q)||null,P(O,W,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ee:return W=W.get(ie.key===null?q:ie.key)||null,V(O,W,ie,me);case ae:return W=W.get(ie.key===null?q:ie.key)||null,K(O,W,ie,me);case Ct:var xe=ie._init;return ue(W,O,q,xe(ie._payload),me)}if(ht(ie)||ge(ie))return W=W.get(q)||null,te(O,W,ie,me,null);Ou(O,ie)}return null}function fe(W,O,q,ie){for(var me=null,xe=null,we=O,Se=O=0,Ft=null;we!==null&&Se<q.length;Se++){we.index>Se?(Ft=we,we=null):Ft=we.sibling;var $e=Z(W,we,q[Se],ie);if($e===null){we===null&&(we=Ft);break}s&&we&&$e.alternate===null&&o(W,we),O=x($e,O,Se),xe===null?me=$e:xe.sibling=$e,xe=$e,we=Ft}if(Se===q.length)return c(W,we),ot&&Hi(W,Se),me;if(we===null){for(;Se<q.length;Se++)we=ne(W,q[Se],ie),we!==null&&(O=x(we,O,Se),xe===null?me=we:xe.sibling=we,xe=we);return ot&&Hi(W,Se),me}for(we=p(W,we);Se<q.length;Se++)Ft=ue(we,W,Se,q[Se],ie),Ft!==null&&(s&&Ft.alternate!==null&&we.delete(Ft.key===null?Se:Ft.key),O=x(Ft,O,Se),xe===null?me=Ft:xe.sibling=Ft,xe=Ft);return s&&we.forEach(function(Xs){return o(W,Xs)}),ot&&Hi(W,Se),me}function pe(W,O,q,ie){var me=ge(q);if(typeof me!="function")throw Error(t(150));if(q=me.call(q),q==null)throw Error(t(151));for(var xe=me=null,we=O,Se=O=0,Ft=null,$e=q.next();we!==null&&!$e.done;Se++,$e=q.next()){we.index>Se?(Ft=we,we=null):Ft=we.sibling;var Xs=Z(W,we,$e.value,ie);if(Xs===null){we===null&&(we=Ft);break}s&&we&&Xs.alternate===null&&o(W,we),O=x(Xs,O,Se),xe===null?me=Xs:xe.sibling=Xs,xe=Xs,we=Ft}if($e.done)return c(W,we),ot&&Hi(W,Se),me;if(we===null){for(;!$e.done;Se++,$e=q.next())$e=ne(W,$e.value,ie),$e!==null&&(O=x($e,O,Se),xe===null?me=$e:xe.sibling=$e,xe=$e);return ot&&Hi(W,Se),me}for(we=p(W,we);!$e.done;Se++,$e=q.next())$e=ue(we,W,Se,$e.value,ie),$e!==null&&(s&&$e.alternate!==null&&we.delete($e.key===null?Se:$e.key),O=x($e,O,Se),xe===null?me=$e:xe.sibling=$e,xe=$e);return s&&we.forEach(function(kI){return o(W,kI)}),ot&&Hi(W,Se),me}function gt(W,O,q,ie){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:e:{for(var me=q.key,xe=O;xe!==null;){if(xe.key===me){if(me=q.type,me===D){if(xe.tag===7){c(W,xe.sibling),O=g(xe,q.props.children),O.return=W,W=O;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ct&&C0(me)===xe.type){c(W,xe.sibling),O=g(xe,q.props),O.ref=Ml(W,xe,q),O.return=W,W=O;break e}c(W,xe);break}else o(W,xe);xe=xe.sibling}q.type===D?(O=eo(q.props.children,W.mode,ie,q.key),O.return=W,W=O):(ie=ld(q.type,q.key,q.props,null,W.mode,ie),ie.ref=Ml(W,O,q),ie.return=W,W=ie)}return E(W);case ae:e:{for(xe=q.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){c(W,O.sibling),O=g(O,q.children||[]),O.return=W,W=O;break e}else{c(W,O);break}else o(W,O);O=O.sibling}O=Ip(q,W.mode,ie),O.return=W,W=O}return E(W);case Ct:return xe=q._init,gt(W,O,xe(q._payload),ie)}if(ht(q))return fe(W,O,q,ie);if(ge(q))return pe(W,O,q,ie);Ou(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,O!==null&&O.tag===6?(c(W,O.sibling),O=g(O,q),O.return=W,W=O):(c(W,O),O=Sp(q,W.mode,ie),O.return=W,W=O),E(W)):c(W,O)}return gt}var la=N0(!0),P0=N0(!1),Fu=Us(null),Uu=null,ca=null,Mf=null;function Lf(){Mf=ca=Uu=null}function Of(s){var o=Fu.current;nt(Fu),s._currentValue=o}function Ff(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function ua(s,o){Uu=s,Mf=ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(gn=!0),s.firstContext=null)}function Wn(s){var o=s._currentValue;if(Mf!==s)if(s={context:s,memoizedValue:o,next:null},ca===null){if(Uu===null)throw Error(t(308));ca=s,Uu.dependencies={lanes:0,firstContext:s}}else ca=ca.next=s;return o}var Ki=null;function Uf(s){Ki===null?Ki=[s]:Ki.push(s)}function R0(s,o,c,p){var g=o.interleaved;return g===null?(c.next=c,Uf(o)):(c.next=g.next,g.next=c),o.interleaved=c,ls(s,p)}function ls(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var $s=!1;function Bf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function cs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ws(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ze&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,ls(s,c)}return g=p.interleaved,g===null?(o.next=o,Uf(p)):(o.next=g.next,g.next=o),p.interleaved=o,ls(s,c)}function Bu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,js(s,c)}}function D0(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=E:x=x.next=E,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function zu(s,o,c,p){var g=s.updateQueue;$s=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var V=P,K=V.next;V.next=null,E===null?x=K:E.next=K,E=V;var te=s.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==E&&(P===null?te.firstBaseUpdate=K:P.next=K,te.lastBaseUpdate=V))}if(x!==null){var ne=g.baseState;E=0,te=K=V=null,P=x;do{var Z=P.lane,ue=P.eventTime;if((p&Z)===Z){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=s,pe=P;switch(Z=o,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ne=fe.call(ue,ne,Z);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,Z=typeof fe=="function"?fe.call(ue,ne,Z):fe,Z==null)break e;ne=le({},ne,Z);break e;case 2:$s=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,Z=g.effects,Z===null?g.effects=[P]:Z.push(P))}else ue={eventTime:ue,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(K=te=ue,V=ne):te=te.next=ue,E|=Z;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);if(te===null&&(V=ne),g.baseState=V,g.firstBaseUpdate=K,g.lastBaseUpdate=te,o=g.shared.interleaved,o!==null){g=o;do E|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Yi|=E,s.lanes=E,s.memoizedState=ne}}function V0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var Ll={},Vr=Us(Ll),Ol=Us(Ll),Fl=Us(Ll);function Gi(s){if(s===Ll)throw Error(t(174));return s}function zf(s,o){switch(Ze(Fl,o),Ze(Ol,s),Ze(Vr,Ll),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pt(o,s)}nt(Vr),Ze(Vr,o)}function da(){nt(Vr),nt(Ol),nt(Fl)}function M0(s){Gi(Fl.current);var o=Gi(Vr.current),c=Pt(o,s.type);o!==c&&(Ze(Ol,s),Ze(Vr,c))}function $f(s){Ol.current===s&&(nt(Vr),nt(Ol))}var lt=Us(0);function $u(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wf=[];function qf(){for(var s=0;s<Wf.length;s++)Wf[s]._workInProgressVersionPrimary=null;Wf.length=0}var Wu=J.ReactCurrentDispatcher,Hf=J.ReactCurrentBatchConfig,Qi=0,ct=null,jt=null,Lt=null,qu=!1,Ul=!1,Bl=0,KS=0;function Xt(){throw Error(t(321))}function Kf(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!hr(s[c],o[c]))return!1;return!0}function Gf(s,o,c,p,g,x){if(Qi=x,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Wu.current=s===null||s.memoizedState===null?XS:JS,s=c(p,g),Ul){x=0;do{if(Ul=!1,Bl=0,25<=x)throw Error(t(301));x+=1,Lt=jt=null,o.updateQueue=null,Wu.current=ZS,s=c(p,g)}while(Ul)}if(Wu.current=Gu,o=jt!==null&&jt.next!==null,Qi=0,Lt=jt=ct=null,qu=!1,o)throw Error(t(300));return s}function Qf(){var s=Bl!==0;return Bl=0,s}function Mr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function qn(){if(jt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var o=Lt===null?ct.memoizedState:Lt.next;if(o!==null)Lt=o,jt=s;else{if(s===null)throw Error(t(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Lt===null?ct.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function zl(s,o){return typeof o=="function"?o(s):o}function Yf(s){var o=qn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=jt,g=p.baseQueue,x=c.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}p.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,p=p.baseState;var P=E=null,V=null,K=x;do{var te=K.lane;if((Qi&te)===te)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(P=V=ne,E=p):V=V.next=ne,ct.lanes|=te,Yi|=te}K=K.next}while(K!==null&&K!==x);V===null?E=p:V.next=P,hr(p,o.memoizedState)||(gn=!0),o.memoizedState=p,o.baseState=E,o.baseQueue=V,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do x=g.lane,ct.lanes|=x,Yi|=x,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Xf(s){var o=qn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do x=s(x,E.action),E=E.next;while(E!==g);hr(x,o.memoizedState)||(gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,p]}function L0(){}function O0(s,o){var c=ct,p=qn(),g=o(),x=!hr(p.memoizedState,g);if(x&&(p.memoizedState=g,gn=!0),p=p.queue,Jf(B0.bind(null,c,p,s),[s]),p.getSnapshot!==o||x||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,$l(9,U0.bind(null,c,p,g,o),void 0,null),Ot===null)throw Error(t(349));(Qi&30)!==0||F0(c,o,g)}return g}function F0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function U0(s,o,c,p){o.value=c,o.getSnapshot=p,z0(o)&&$0(s)}function B0(s,o,c){return c(function(){z0(o)&&$0(s)})}function z0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!hr(s,c)}catch{return!0}}function $0(s){var o=ls(s,1);o!==null&&yr(o,s,1,-1)}function W0(s){var o=Mr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:s},o.queue=s,s=s.dispatch=YS.bind(null,ct,s),[o.memoizedState,s]}function $l(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function q0(){return qn().memoizedState}function Hu(s,o,c,p){var g=Mr();ct.flags|=s,g.memoizedState=$l(1|o,c,void 0,p===void 0?null:p)}function Ku(s,o,c,p){var g=qn();p=p===void 0?null:p;var x=void 0;if(jt!==null){var E=jt.memoizedState;if(x=E.destroy,p!==null&&Kf(p,E.deps)){g.memoizedState=$l(o,c,x,p);return}}ct.flags|=s,g.memoizedState=$l(1|o,c,x,p)}function H0(s,o){return Hu(8390656,8,s,o)}function Jf(s,o){return Ku(2048,8,s,o)}function K0(s,o){return Ku(4,2,s,o)}function G0(s,o){return Ku(4,4,s,o)}function Q0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Y0(s,o,c){return c=c!=null?c.concat([s]):null,Ku(4,4,Q0.bind(null,o,s),c)}function Zf(){}function X0(s,o){var c=qn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Kf(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function J0(s,o){var c=qn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Kf(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function Z0(s,o,c){return(Qi&21)===0?(s.baseState&&(s.baseState=!1,gn=!0),s.memoizedState=c):(hr(c,o)||(c=Oi(),ct.lanes|=c,Yi|=c,s.baseState=!0),o)}function GS(s,o){var c=Fe;Fe=c!==0&&4>c?c:4,s(!0);var p=Hf.transition;Hf.transition={};try{s(!1),o()}finally{Fe=c,Hf.transition=p}}function ev(){return qn().memoizedState}function QS(s,o,c){var p=Gs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},tv(s))nv(o,c);else if(c=R0(s,o,c,p),c!==null){var g=un();yr(c,s,p,g),rv(c,o,p)}}function YS(s,o,c){var p=Gs(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(tv(s))nv(o,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,P=x(E,c);if(g.hasEagerState=!0,g.eagerState=P,hr(P,E)){var V=o.interleaved;V===null?(g.next=g,Uf(o)):(g.next=V.next,V.next=g),o.interleaved=g;return}}catch{}finally{}c=R0(s,o,g,p),c!==null&&(g=un(),yr(c,s,p,g),rv(c,o,p))}}function tv(s){var o=s.alternate;return s===ct||o!==null&&o===ct}function nv(s,o){Ul=qu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function rv(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,js(s,c)}}var Gu={readContext:Wn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},XS={readContext:Wn,useCallback:function(s,o){return Mr().memoizedState=[s,o===void 0?null:o],s},useContext:Wn,useEffect:H0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Hu(4194308,4,Q0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Hu(4,2,s,o)},useMemo:function(s,o){var c=Mr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=Mr();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=QS.bind(null,ct,s),[p.memoizedState,s]},useRef:function(s){var o=Mr();return s={current:s},o.memoizedState=s},useState:W0,useDebugValue:Zf,useDeferredValue:function(s){return Mr().memoizedState=s},useTransition:function(){var s=W0(!1),o=s[0];return s=GS.bind(null,s[1]),Mr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=ct,g=Mr();if(ot){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ot===null)throw Error(t(349));(Qi&30)!==0||F0(p,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,H0(B0.bind(null,p,x,s),[s]),p.flags|=2048,$l(9,U0.bind(null,p,x,c,o),void 0,null),c},useId:function(){var s=Mr(),o=Ot.identifierPrefix;if(ot){var c=as,p=os;c=(p&~(1<<32-an(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=Bl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=KS++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},JS={readContext:Wn,useCallback:X0,useContext:Wn,useEffect:Jf,useImperativeHandle:Y0,useInsertionEffect:K0,useLayoutEffect:G0,useMemo:J0,useReducer:Yf,useRef:q0,useState:function(){return Yf(zl)},useDebugValue:Zf,useDeferredValue:function(s){var o=qn();return Z0(o,jt.memoizedState,s)},useTransition:function(){var s=Yf(zl)[0],o=qn().memoizedState;return[s,o]},useMutableSource:L0,useSyncExternalStore:O0,useId:ev,unstable_isNewReconciler:!1},ZS={readContext:Wn,useCallback:X0,useContext:Wn,useEffect:Jf,useImperativeHandle:Y0,useInsertionEffect:K0,useLayoutEffect:G0,useMemo:J0,useReducer:Xf,useRef:q0,useState:function(){return Xf(zl)},useDebugValue:Zf,useDeferredValue:function(s){var o=qn();return jt===null?o.memoizedState=s:Z0(o,jt.memoizedState,s)},useTransition:function(){var s=Xf(zl)[0],o=qn().memoizedState;return[s,o]},useMutableSource:L0,useSyncExternalStore:O0,useId:ev,unstable_isNewReconciler:!1};function pr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function ep(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:le({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Qu={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=un(),g=Gs(s),x=cs(p,g);x.payload=o,c!=null&&(x.callback=c),o=Ws(s,x,g),o!==null&&(yr(o,s,g,p),Bu(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=un(),g=Gs(s),x=cs(p,g);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Ws(s,x,g),o!==null&&(yr(o,s,g,p),Bu(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=un(),p=Gs(s),g=cs(c,p);g.tag=2,o!=null&&(g.callback=o),o=Ws(s,g,p),o!==null&&(yr(o,s,p,c),Bu(o,s,p))}};function sv(s,o,c,p,g,x,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,E):o.prototype&&o.prototype.isPureReactComponent?!Cl(c,p)||!Cl(g,x):!0}function iv(s,o,c){var p=!1,g=Bs,x=o.contextType;return typeof x=="object"&&x!==null?x=Wn(x):(g=mn(o)?Wi:Yt.current,p=o.contextTypes,x=(p=p!=null)?sa(s,g):Bs),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qu,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),o}function ov(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&Qu.enqueueReplaceState(o,o.state,null)}function tp(s,o,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Bf(s);var x=o.contextType;typeof x=="object"&&x!==null?g.context=Wn(x):(x=mn(o)?Wi:Yt.current,g.context=sa(s,x)),g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(ep(s,o,x,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Qu.enqueueReplaceState(g,g.state,null),zu(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ha(s,o){try{var c="",p=o;do c+=Ne(p),p=p.return;while(p);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:g,digest:null}}function np(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function rp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function av(s,o,c){c=cs(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){nd||(nd=!0,vp=p),rp(s,o)},c}function lv(s,o,c){c=cs(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;c.payload=function(){return p(g)},c.callback=function(){rp(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){rp(s,o),typeof p!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function cv(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new eI;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(c)||(g.add(c),s=pI.bind(null,s,o,c),o.then(s,s))}function uv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function dv(s,o,c,p,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=cs(-1,1),o.tag=2,Ws(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var tI=J.ReactCurrentOwner,gn=!1;function cn(s,o,c,p){o.child=s===null?P0(o,null,c,p):la(o,s.child,c,p)}function hv(s,o,c,p,g){c=c.render;var x=o.ref;return ua(o,g),p=Gf(s,o,c,p,x,g),c=Qf(),s!==null&&!gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,us(s,o,g)):(ot&&c&&Pf(o),o.flags|=1,cn(s,o,p,g),o.child)}function fv(s,o,c,p,g){if(s===null){var x=c.type;return typeof x=="function"&&!kp(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,pv(s,o,x,p,g)):(s=ld(c.type,null,p,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&g)===0){var E=x.memoizedProps;if(c=c.compare,c=c!==null?c:Cl,c(E,p)&&s.ref===o.ref)return us(s,o,g)}return o.flags|=1,s=Ys(x,p),s.ref=o.ref,s.return=o,o.child=s}function pv(s,o,c,p,g){if(s!==null){var x=s.memoizedProps;if(Cl(x,p)&&s.ref===o.ref)if(gn=!1,o.pendingProps=p=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(gn=!0);else return o.lanes=s.lanes,us(s,o,g)}return sp(s,o,c,p,g)}function mv(s,o,c){var p=o.pendingProps,g=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(pa,Pn),Pn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ze(pa,Pn),Pn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:c,Ze(pa,Pn),Pn|=p}else x!==null?(p=x.baseLanes|c,o.memoizedState=null):p=c,Ze(pa,Pn),Pn|=p;return cn(s,o,g,c),o.child}function gv(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function sp(s,o,c,p,g){var x=mn(c)?Wi:Yt.current;return x=sa(o,x),ua(o,g),c=Gf(s,o,c,p,x,g),p=Qf(),s!==null&&!gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,us(s,o,g)):(ot&&p&&Pf(o),o.flags|=1,cn(s,o,c,g),o.child)}function yv(s,o,c,p,g){if(mn(c)){var x=!0;ju(o)}else x=!1;if(ua(o,g),o.stateNode===null)Xu(s,o),iv(o,c,p),tp(o,c,p,g),p=!0;else if(s===null){var E=o.stateNode,P=o.memoizedProps;E.props=P;var V=E.context,K=c.contextType;typeof K=="object"&&K!==null?K=Wn(K):(K=mn(c)?Wi:Yt.current,K=sa(o,K));var te=c.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==p||V!==K)&&ov(o,E,p,K),$s=!1;var Z=o.memoizedState;E.state=Z,zu(o,p,E,g),V=o.memoizedState,P!==p||Z!==V||pn.current||$s?(typeof te=="function"&&(ep(o,c,te,p),V=o.memoizedState),(P=$s||sv(o,c,P,p,Z,V,K))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=V),E.props=p,E.state=V,E.context=K,p=P):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{E=o.stateNode,j0(s,o),P=o.memoizedProps,K=o.type===o.elementType?P:pr(o.type,P),E.props=K,ne=o.pendingProps,Z=E.context,V=c.contextType,typeof V=="object"&&V!==null?V=Wn(V):(V=mn(c)?Wi:Yt.current,V=sa(o,V));var ue=c.getDerivedStateFromProps;(te=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==ne||Z!==V)&&ov(o,E,p,V),$s=!1,Z=o.memoizedState,E.state=Z,zu(o,p,E,g);var fe=o.memoizedState;P!==ne||Z!==fe||pn.current||$s?(typeof ue=="function"&&(ep(o,c,ue,p),fe=o.memoizedState),(K=$s||sv(o,c,K,p,Z,fe,V)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,fe,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,fe,V)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=fe),E.props=p,E.state=fe,E.context=V,p=K):(typeof E.componentDidUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),p=!1)}return ip(s,o,c,p,x,g)}function ip(s,o,c,p,g,x){gv(s,o);var E=(o.flags&128)!==0;if(!p&&!E)return g&&T0(o,c,!1),us(s,o,x);p=o.stateNode,tI.current=o;var P=E&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&E?(o.child=la(o,s.child,null,x),o.child=la(o,null,P,x)):cn(s,o,P,x),o.memoizedState=p.state,g&&T0(o,c,!0),o.child}function vv(s){var o=s.stateNode;o.pendingContext?w0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&w0(s,o.context,!1),zf(s,o.containerInfo)}function xv(s,o,c,p,g){return aa(),Vf(g),o.flags|=256,cn(s,o,c,p),o.child}var op={dehydrated:null,treeContext:null,retryLane:0};function ap(s){return{baseLanes:s,cachePool:null,transitions:null}}function wv(s,o,c){var p=o.pendingProps,g=lt.current,x=!1,E=(o.flags&128)!==0,P;if((P=E)||(P=s!==null&&s.memoizedState===null?!1:(g&2)!==0),P?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ze(lt,g&1),s===null)return Df(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=p.children,s=p.fallback,x?(p=o.mode,x=o.child,E={mode:"hidden",children:E},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=cd(E,p,0,null),s=eo(s,p,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=ap(c),o.memoizedState=op,s):lp(o,E));if(g=s.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return nI(s,o,E,p,P,g,c);if(x){x=p.fallback,E=o.mode,g=s.child,P=g.sibling;var V={mode:"hidden",children:p.children};return(E&1)===0&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=V,o.deletions=null):(p=Ys(g,V),p.subtreeFlags=g.subtreeFlags&14680064),P!==null?x=Ys(P,x):(x=eo(x,E,c,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,E=s.child.memoizedState,E=E===null?ap(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=s.childLanes&~c,o.memoizedState=op,p}return x=s.child,s=x.sibling,p=Ys(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function lp(s,o){return o=cd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Yu(s,o,c,p){return p!==null&&Vf(p),la(o,s.child,null,c),s=lp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function nI(s,o,c,p,g,x,E){if(c)return o.flags&256?(o.flags&=-257,p=np(Error(t(422))),Yu(s,o,E,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=p.fallback,g=o.mode,p=cd({mode:"visible",children:p.children},g,0,null),x=eo(x,g,E,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&la(o,s.child,null,E),o.child.memoizedState=ap(E),o.memoizedState=op,x);if((o.mode&1)===0)return Yu(s,o,E,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var P=p.dgst;return p=P,x=Error(t(419)),p=np(x,p,void 0),Yu(s,o,E,p)}if(P=(E&s.childLanes)!==0,gn||P){if(p=Ot,p!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|E))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,ls(s,g),yr(p,s,g,-1))}return bp(),p=np(Error(t(421))),Yu(s,o,E,p)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=mI.bind(null,s),g._reactRetry=o,null):(s=x.treeContext,Nn=Fs(g.nextSibling),Cn=o,ot=!0,fr=null,s!==null&&(zn[$n++]=os,zn[$n++]=as,zn[$n++]=qi,os=s.id,as=s.overflow,qi=o),o=lp(o,p.children),o.flags|=4096,o)}function _v(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Ff(s.return,o,c)}function cp(s,o,c,p,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=g)}function Tv(s,o,c){var p=o.pendingProps,g=p.revealOrder,x=p.tail;if(cn(s,o,p.children,c),p=lt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_v(s,c,o);else if(s.tag===19)_v(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ze(lt,p),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&$u(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),cp(o,!1,g,c,x);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&$u(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}cp(o,!0,c,null,x);break;case"together":cp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function us(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Yi|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=Ys(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ys(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function rI(s,o,c){switch(o.tag){case 3:vv(o),aa();break;case 5:M0(o);break;case 1:mn(o.type)&&ju(o);break;case 4:zf(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,g=o.memoizedProps.value;Ze(Fu,p._currentValue),p._currentValue=g;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ze(lt,lt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?wv(s,o,c):(Ze(lt,lt.current&1),s=us(s,o,c),s!==null?s.sibling:null);Ze(lt,lt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return Tv(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(lt,lt.current),p)break;return null;case 22:case 23:return o.lanes=0,mv(s,o,c)}return us(s,o,c)}var Ev,up,bv,kv;Ev=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},up=function(){},bv=function(s,o,c,p){var g=s.memoizedProps;if(g!==p){s=o.stateNode,Gi(Vr.current);var x=null;switch(c){case"input":g=Ge(s,g),p=Ge(s,p),x=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),x=[];break;case"textarea":g=sl(s,g),p=sl(s,p),x=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Nu)}ul(c,p);var E;c=null;for(K in g)if(!p.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var P=g[K];for(E in P)P.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in p){var V=p[K];if(P=g!=null?g[K]:void 0,p.hasOwnProperty(K)&&V!==P&&(V!=null||P!=null))if(K==="style")if(P){for(E in P)!P.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in V)V.hasOwnProperty(E)&&P[E]!==V[E]&&(c||(c={}),c[E]=V[E])}else c||(x||(x=[]),x.push(K,c)),c=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(x=x||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(x=x||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&tt("scroll",s),x||P===V||(x=[])):(x=x||[]).push(K,V))}c&&(x=x||[]).push("style",c);var K=x;(o.updateQueue=K)&&(o.flags|=4)}},kv=function(s,o,c,p){c!==p&&(o.flags|=4)};function Wl(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function sI(s,o,c){var p=o.pendingProps;switch(Rf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return mn(o.type)&&Ru(),Jt(o),null;case 3:return p=o.stateNode,da(),nt(pn),nt(Yt),qf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Lu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fr!==null&&(_p(fr),fr=null))),up(s,o),Jt(o),null;case 5:$f(o);var g=Gi(Fl.current);if(c=o.type,s!==null&&o.stateNode!=null)bv(s,o,c,p,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Jt(o),null}if(s=Gi(Vr.current),Lu(o)){p=o.stateNode,c=o.type;var x=o.memoizedProps;switch(p[Dr]=o,p[Dl]=x,s=(o.mode&1)!==0,c){case"dialog":tt("cancel",p),tt("close",p);break;case"iframe":case"object":case"embed":tt("load",p);break;case"video":case"audio":for(g=0;g<Pl.length;g++)tt(Pl[g],p);break;case"source":tt("error",p);break;case"img":case"image":case"link":tt("error",p),tt("load",p);break;case"details":tt("toggle",p);break;case"input":En(p,x),tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},tt("invalid",p);break;case"textarea":Ao(p,x),tt("invalid",p)}ul(c,x),g=null;for(var E in x)if(x.hasOwnProperty(E)){var P=x[E];E==="children"?typeof P=="string"?p.textContent!==P&&(x.suppressHydrationWarning!==!0&&Cu(p.textContent,P,s),g=["children",P]):typeof P=="number"&&p.textContent!==""+P&&(x.suppressHydrationWarning!==!0&&Cu(p.textContent,P,s),g=["children",""+P]):i.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&tt("scroll",p)}switch(c){case"input":tr(p),Qe(p,x,!0);break;case"textarea":tr(p),il(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Nu)}p=g,o.updateQueue=p,p!==null&&(o.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Nt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=E.createElement(c,{is:p.is}):(s=E.createElement(c),c==="select"&&(E=s,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):s=E.createElementNS(s,c),s[Dr]=o,s[Dl]=p,Ev(s,o,!1,!1),o.stateNode=s;e:{switch(E=dl(c,p),c){case"dialog":tt("cancel",s),tt("close",s),g=p;break;case"iframe":case"object":case"embed":tt("load",s),g=p;break;case"video":case"audio":for(g=0;g<Pl.length;g++)tt(Pl[g],s);g=p;break;case"source":tt("error",s),g=p;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=p;break;case"details":tt("toggle",s),g=p;break;case"input":En(s,p),g=Ge(s,p),tt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),tt("invalid",s);break;case"textarea":Ao(s,p),g=sl(s,p),tt("invalid",s);break;default:g=p}ul(c,g),P=g;for(x in P)if(P.hasOwnProperty(x)){var V=P[x];x==="style"?ll(s,V):x==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ol(s,V)):x==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&As(s,V):typeof V=="number"&&As(s,""+V):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?V!=null&&x==="onScroll"&&tt("scroll",s):V!=null&&H(s,x,V,E))}switch(c){case"input":tr(s),Qe(s,p,!1);break;case"textarea":tr(s),il(s);break;case"option":p.value!=null&&s.setAttribute("value",""+De(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?bn(s,!!p.multiple,x,!1):p.defaultValue!=null&&bn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Nu)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)kv(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(c=Gi(Fl.current),Gi(Vr.current),Lu(o)){if(p=o.stateNode,c=o.memoizedProps,p[Dr]=o,(x=p.nodeValue!==c)&&(s=Cn,s!==null))switch(s.tag){case 3:Cu(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Cu(p.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Dr]=o,o.stateNode=p}return Jt(o),null;case 13:if(nt(lt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)A0(),aa(),o.flags|=98560,x=!1;else if(x=Lu(o),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Dr]=o}else aa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),x=!1}else fr!==null&&(_p(fr),fr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(lt.current&1)!==0?Dt===0&&(Dt=3):bp())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return da(),up(s,o),s===null&&Rl(o.stateNode.containerInfo),Jt(o),null;case 10:return Of(o.type._context),Jt(o),null;case 17:return mn(o.type)&&Ru(),Jt(o),null;case 19:if(nt(lt),x=o.memoizedState,x===null)return Jt(o),null;if(p=(o.flags&128)!==0,E=x.rendering,E===null)if(p)Wl(x,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=$u(s),E!==null){for(o.flags|=128,Wl(x,!1),p=E.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)x=c,s=p,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,s=E.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ze(lt,lt.current&1|2),o.child}s=s.sibling}x.tail!==null&&Je()>ma&&(o.flags|=128,p=!0,Wl(x,!1),o.lanes=4194304)}else{if(!p)if(s=$u(E),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Wl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!ot)return Jt(o),null}else 2*Je()-x.renderingStartTime>ma&&c!==1073741824&&(o.flags|=128,p=!0,Wl(x,!1),o.lanes=4194304);x.isBackwards?(E.sibling=o.child,o.child=E):(c=x.last,c!==null?c.sibling=E:o.child=E,x.last=E)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Je(),o.sibling=null,c=lt.current,Ze(lt,p?c&1|2:c&1),o):(Jt(o),null);case 22:case 23:return Ep(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Pn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function iI(s,o){switch(Rf(o),o.tag){case 1:return mn(o.type)&&Ru(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return da(),nt(pn),nt(Yt),qf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return $f(o),null;case 13:if(nt(lt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));aa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return nt(lt),null;case 4:return da(),null;case 10:return Of(o.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var Ju=!1,Zt=!1,oI=typeof WeakSet=="function"?WeakSet:Set,he=null;function fa(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){ft(s,o,p)}else c.current=null}function dp(s,o,c){try{c()}catch(p){ft(s,o,p)}}var Sv=!1;function aI(s,o){if(Ef=Ms,s=s0(),mf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var E=0,P=-1,V=-1,K=0,te=0,ne=s,Z=null;t:for(;;){for(var ue;ne!==c||g!==0&&ne.nodeType!==3||(P=E+g),ne!==x||p!==0&&ne.nodeType!==3||(V=E+p),ne.nodeType===3&&(E+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===s)break t;if(Z===c&&++K===g&&(P=E),Z===x&&++te===p&&(V=E),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}c=P===-1||V===-1?null:{start:P,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(bf={focusedElem:s,selectionRange:c},Ms=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,gt=fe.memoizedState,W=o.stateNode,O=W.getSnapshotBeforeUpdate(o.elementType===o.type?pe:pr(o.type,pe),gt);W.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ft(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return fe=Sv,Sv=!1,fe}function ql(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&dp(o,c,x)}g=g.next}while(g!==p)}}function Zu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function hp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Iv(s){var o=s.alternate;o!==null&&(s.alternate=null,Iv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Dr],delete o[Dl],delete o[Af],delete o[$S],delete o[WS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Av(s){return s.tag===5||s.tag===3||s.tag===4}function Cv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Av(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fp(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Nu));else if(p!==4&&(s=s.child,s!==null))for(fp(s,o,c),s=s.sibling;s!==null;)fp(s,o,c),s=s.sibling}function pp(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(pp(s,o,c),s=s.sibling;s!==null;)pp(s,o,c),s=s.sibling}var $t=null,mr=!1;function qs(s,o,c){for(c=c.child;c!==null;)Nv(s,o,c),c=c.sibling}function Nv(s,o,c){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Mi,c)}catch{}switch(c.tag){case 5:Zt||fa(c,o);case 6:var p=$t,g=mr;$t=null,qs(s,o,c),$t=p,mr=g,$t!==null&&(mr?(s=$t,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):$t.removeChild(c.stateNode));break;case 18:$t!==null&&(mr?(s=$t,c=c.stateNode,s.nodeType===8?If(s.parentNode,c):s.nodeType===1&&If(s,c),ur(s)):If($t,c.stateNode));break;case 4:p=$t,g=mr,$t=c.stateNode.containerInfo,mr=!0,qs(s,o,c),$t=p,mr=g;break;case 0:case 11:case 14:case 15:if(!Zt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var x=g,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&dp(c,o,E),g=g.next}while(g!==p)}qs(s,o,c);break;case 1:if(!Zt&&(fa(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(P){ft(c,o,P)}qs(s,o,c);break;case 21:qs(s,o,c);break;case 22:c.mode&1?(Zt=(p=Zt)||c.memoizedState!==null,qs(s,o,c),Zt=p):qs(s,o,c);break;default:qs(s,o,c)}}function Pv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new oI),o.forEach(function(p){var g=gI.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function gr(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var x=s,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 5:$t=P.stateNode,mr=!1;break e;case 3:$t=P.stateNode.containerInfo,mr=!0;break e;case 4:$t=P.stateNode.containerInfo,mr=!0;break e}P=P.return}if($t===null)throw Error(t(160));Nv(x,E,g),$t=null,mr=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(K){ft(g,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Rv(o,s),o=o.sibling}function Rv(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(gr(o,s),Lr(s),p&4){try{ql(3,s,s.return),Zu(3,s)}catch(pe){ft(s,s.return,pe)}try{ql(5,s,s.return)}catch(pe){ft(s,s.return,pe)}}break;case 1:gr(o,s),Lr(s),p&512&&c!==null&&fa(c,c.return);break;case 5:if(gr(o,s),Lr(s),p&512&&c!==null&&fa(c,c.return),s.flags&32){var g=s.stateNode;try{As(g,"")}catch(pe){ft(s,s.return,pe)}}if(p&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,E=c!==null?c.memoizedProps:x,P=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{P==="input"&&x.type==="radio"&&x.name!=null&&dn(g,x),dl(P,E);var K=dl(P,x);for(E=0;E<V.length;E+=2){var te=V[E],ne=V[E+1];te==="style"?ll(g,ne):te==="dangerouslySetInnerHTML"?ol(g,ne):te==="children"?As(g,ne):H(g,te,ne,K)}switch(P){case"input":Sr(g,x);break;case"textarea":Co(g,x);break;case"select":var Z=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?bn(g,!!x.multiple,ue,!1):Z!==!!x.multiple&&(x.defaultValue!=null?bn(g,!!x.multiple,x.defaultValue,!0):bn(g,!!x.multiple,x.multiple?[]:"",!1))}g[Dl]=x}catch(pe){ft(s,s.return,pe)}}break;case 6:if(gr(o,s),Lr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(pe){ft(s,s.return,pe)}}break;case 3:if(gr(o,s),Lr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ur(o.containerInfo)}catch(pe){ft(s,s.return,pe)}break;case 4:gr(o,s),Lr(s);break;case 13:gr(o,s),Lr(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(yp=Je())),p&4&&Pv(s);break;case 22:if(te=c!==null&&c.memoizedState!==null,s.mode&1?(Zt=(K=Zt)||te,gr(o,s),Zt=K):gr(o,s),Lr(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!te&&(s.mode&1)!==0)for(he=s,te=s.child;te!==null;){for(ne=he=te;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:ql(4,Z,Z.return);break;case 1:fa(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){p=Z,c=Z.return;try{o=p,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){ft(p,c,pe)}}break;case 5:fa(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Vv(ne);continue}}ue!==null?(ue.return=Z,he=ue):Vv(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{g=ne.stateNode,K?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(P=ne.stateNode,V=ne.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=al("display",E))}catch(pe){ft(s,s.return,pe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(pe){ft(s,s.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:gr(o,s),Lr(s),p&4&&Pv(s);break;case 21:break;default:gr(o,s),Lr(s)}}function Lr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Av(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(As(g,""),p.flags&=-33);var x=Cv(s);pp(s,x,g);break;case 3:case 4:var E=p.stateNode.containerInfo,P=Cv(s);fp(s,P,E);break;default:throw Error(t(161))}}catch(V){ft(s,s.return,V)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function lI(s,o,c){he=s,jv(s)}function jv(s,o,c){for(var p=(s.mode&1)!==0;he!==null;){var g=he,x=g.child;if(g.tag===22&&p){var E=g.memoizedState!==null||Ju;if(!E){var P=g.alternate,V=P!==null&&P.memoizedState!==null||Zt;P=Ju;var K=Zt;if(Ju=E,(Zt=V)&&!K)for(he=g;he!==null;)E=he,V=E.child,E.tag===22&&E.memoizedState!==null?Mv(g):V!==null?(V.return=E,he=V):Mv(g);for(;x!==null;)he=x,jv(x),x=x.sibling;he=g,Ju=P,Zt=K}Dv(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,he=x):Dv(s)}}function Dv(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||Zu(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Zt)if(c===null)p.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:pr(o.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&V0(o,x,p);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}V0(o,E,c)}break;case 5:var P=o.stateNode;if(c===null&&o.flags&4){c=P;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&ur(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||o.flags&512&&hp(o)}catch(Z){ft(o,o.return,Z)}}if(o===s){he=null;break}if(c=o.sibling,c!==null){c.return=o.return,he=c;break}he=o.return}}function Vv(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var c=o.sibling;if(c!==null){c.return=o.return,he=c;break}he=o.return}}function Mv(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Zu(4,o)}catch(V){ft(o,c,V)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(V){ft(o,g,V)}}var x=o.return;try{hp(o)}catch(V){ft(o,x,V)}break;case 5:var E=o.return;try{hp(o)}catch(V){ft(o,E,V)}}}catch(V){ft(o,o.return,V)}if(o===s){he=null;break}var P=o.sibling;if(P!==null){P.return=o.return,he=P;break}he=o.return}}var cI=Math.ceil,ed=J.ReactCurrentDispatcher,mp=J.ReactCurrentOwner,Hn=J.ReactCurrentBatchConfig,ze=0,Ot=null,Et=null,Wt=0,Pn=0,pa=Us(0),Dt=0,Hl=null,Yi=0,td=0,gp=0,Kl=null,yn=null,yp=0,ma=1/0,ds=null,nd=!1,vp=null,Hs=null,rd=!1,Ks=null,sd=0,Gl=0,xp=null,id=-1,od=0;function un(){return(ze&6)!==0?Je():id!==-1?id:id=Je()}function Gs(s){return(s.mode&1)===0?1:(ze&2)!==0&&Wt!==0?Wt&-Wt:HS.transition!==null?(od===0&&(od=Oi()),od):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:Tl(s.type)),s)}function yr(s,o,c,p){if(50<Gl)throw Gl=0,xp=null,Error(t(185));Rs(s,c,p),((ze&2)===0||s!==Ot)&&(s===Ot&&((ze&2)===0&&(td|=c),Dt===4&&Qs(s,Wt)),vn(s,p),c===1&&ze===0&&(o.mode&1)===0&&(ma=Je()+500,Du&&zs()))}function vn(s,o){var c=s.callbackNode;Zr(s,o);var p=Li(s,s===Ot?Wt:0);if(p===0)c!==null&&yl(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&yl(c),o===1)s.tag===0?qS(Ov.bind(null,s)):E0(Ov.bind(null,s)),BS(function(){(ze&6)===0&&zs()}),c=null;else{switch(Ds(p)){case 1:c=Vi;break;case 4:c=Cs;break;case 16:c=Fn;break;case 536870912:c=ou;break;default:c=Fn}c=Hv(c,Lv.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Lv(s,o){if(id=-1,od=0,(ze&6)!==0)throw Error(t(327));var c=s.callbackNode;if(ga()&&s.callbackNode!==c)return null;var p=Li(s,s===Ot?Wt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=ad(s,p);else{o=p;var g=ze;ze|=2;var x=Uv();(Ot!==s||Wt!==o)&&(ds=null,ma=Je()+500,Ji(s,o));do try{hI();break}catch(P){Fv(s,P)}while(!0);Lf(),ed.current=x,ze=g,Et!==null?o=0:(Ot=null,Wt=0,o=Dt)}if(o!==0){if(o===2&&(g=Sn(s),g!==0&&(p=g,o=wp(s,g))),o===1)throw c=Hl,Ji(s,0),Qs(s,p),vn(s,Je()),c;if(o===6)Qs(s,p);else{if(g=s.current.alternate,(p&30)===0&&!uI(g)&&(o=ad(s,p),o===2&&(x=Sn(s),x!==0&&(p=x,o=wp(s,x))),o===1))throw c=Hl,Ji(s,0),Qs(s,p),vn(s,Je()),c;switch(s.finishedWork=g,s.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Zi(s,yn,ds);break;case 3:if(Qs(s,p),(p&130023424)===p&&(o=yp+500-Je(),10<o)){if(Li(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){un(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Sf(Zi.bind(null,s,yn,ds),o);break}Zi(s,yn,ds);break;case 4:if(Qs(s,p),(p&4194240)===p)break;for(o=s.eventTimes,g=-1;0<p;){var E=31-an(p);x=1<<E,E=o[E],E>g&&(g=E),p&=~x}if(p=g,p=Je()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*cI(p/1960))-p,10<p){s.timeoutHandle=Sf(Zi.bind(null,s,yn,ds),p);break}Zi(s,yn,ds);break;case 5:Zi(s,yn,ds);break;default:throw Error(t(329))}}}return vn(s,Je()),s.callbackNode===c?Lv.bind(null,s):null}function wp(s,o){var c=Kl;return s.current.memoizedState.isDehydrated&&(Ji(s,o).flags|=256),s=ad(s,o),s!==2&&(o=yn,yn=c,o!==null&&_p(o)),s}function _p(s){yn===null?yn=s:yn.push.apply(yn,s)}function uI(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],x=g.getSnapshot;g=g.value;try{if(!hr(x(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qs(s,o){for(o&=~gp,o&=~td,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-an(o),p=1<<c;s[c]=-1,o&=~p}}function Ov(s){if((ze&6)!==0)throw Error(t(327));ga();var o=Li(s,0);if((o&1)===0)return vn(s,Je()),null;var c=ad(s,o);if(s.tag!==0&&c===2){var p=Sn(s);p!==0&&(o=p,c=wp(s,p))}if(c===1)throw c=Hl,Ji(s,0),Qs(s,o),vn(s,Je()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Zi(s,yn,ds),vn(s,Je()),null}function Tp(s,o){var c=ze;ze|=1;try{return s(o)}finally{ze=c,ze===0&&(ma=Je()+500,Du&&zs())}}function Xi(s){Ks!==null&&Ks.tag===0&&(ze&6)===0&&ga();var o=ze;ze|=1;var c=Hn.transition,p=Fe;try{if(Hn.transition=null,Fe=1,s)return s()}finally{Fe=p,Hn.transition=c,ze=o,(ze&6)===0&&zs()}}function Ep(){Pn=pa.current,nt(pa)}function Ji(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,US(c)),Et!==null)for(c=Et.return;c!==null;){var p=c;switch(Rf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ru();break;case 3:da(),nt(pn),nt(Yt),qf();break;case 5:$f(p);break;case 4:da();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:Of(p.type._context);break;case 22:case 23:Ep()}c=c.return}if(Ot=s,Et=s=Ys(s.current,null),Wt=Pn=o,Dt=0,Hl=null,gp=td=Yi=0,yn=Kl=null,Ki!==null){for(o=0;o<Ki.length;o++)if(c=Ki[o],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,x=c.pending;if(x!==null){var E=x.next;x.next=g,p.next=E}c.pending=p}Ki=null}return s}function Fv(s,o){do{var c=Et;try{if(Lf(),Wu.current=Gu,qu){for(var p=ct.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}qu=!1}if(Qi=0,Lt=jt=ct=null,Ul=!1,Bl=0,mp.current=null,c===null||c.return===null){Dt=1,Hl=o,Et=null;break}e:{var x=s,E=c.return,P=c,V=o;if(o=Wt,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,te=P,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=uv(E);if(ue!==null){ue.flags&=-257,dv(ue,E,P,x,o),ue.mode&1&&cv(x,K,o),o=ue,V=K;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(V),o.updateQueue=pe}else fe.add(V);break e}else{if((o&1)===0){cv(x,K,o),bp();break e}V=Error(t(426))}}else if(ot&&P.mode&1){var gt=uv(E);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),dv(gt,E,P,x,o),Vf(ha(V,P));break e}}x=V=ha(V,P),Dt!==4&&(Dt=2),Kl===null?Kl=[x]:Kl.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var W=av(x,V,o);D0(x,W);break e;case 1:P=V;var O=x.type,q=x.stateNode;if((x.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Hs===null||!Hs.has(q)))){x.flags|=65536,o&=-o,x.lanes|=o;var ie=lv(x,P,o);D0(x,ie);break e}}x=x.return}while(x!==null)}zv(c)}catch(me){o=me,Et===c&&c!==null&&(Et=c=c.return);continue}break}while(!0)}function Uv(){var s=ed.current;return ed.current=Gu,s===null?Gu:s}function bp(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ot===null||(Yi&268435455)===0&&(td&268435455)===0||Qs(Ot,Wt)}function ad(s,o){var c=ze;ze|=2;var p=Uv();(Ot!==s||Wt!==o)&&(ds=null,Ji(s,o));do try{dI();break}catch(g){Fv(s,g)}while(!0);if(Lf(),ze=c,ed.current=p,Et!==null)throw Error(t(261));return Ot=null,Wt=0,Dt}function dI(){for(;Et!==null;)Bv(Et)}function hI(){for(;Et!==null&&!su();)Bv(Et)}function Bv(s){var o=qv(s.alternate,s,Pn);s.memoizedProps=s.pendingProps,o===null?zv(s):Et=o,mp.current=null}function zv(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=sI(c,o,Pn),c!==null){Et=c;return}}else{if(c=iI(c,o),c!==null){c.flags&=32767,Et=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,Et=null;return}}if(o=o.sibling,o!==null){Et=o;return}Et=o=s}while(o!==null);Dt===0&&(Dt=5)}function Zi(s,o,c){var p=Fe,g=Hn.transition;try{Hn.transition=null,Fe=1,fI(s,o,c,p)}finally{Hn.transition=g,Fe=p}return null}function fI(s,o,c,p){do ga();while(Ks!==null);if((ze&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Ye(s,x),s===Ot&&(Et=Ot=null,Wt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||rd||(rd=!0,Hv(Fn,function(){return ga(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Hn.transition,Hn.transition=null;var E=Fe;Fe=1;var P=ze;ze|=4,mp.current=null,aI(s,c),Rv(c,s),jS(bf),Ms=!!Ef,bf=Ef=null,s.current=c,lI(c),af(),ze=P,Fe=E,Hn.transition=x}else s.current=c;if(rd&&(rd=!1,Ks=s,sd=g),x=s.pendingLanes,x===0&&(Hs=null),au(c.stateNode),vn(s,Je()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(nd)throw nd=!1,s=vp,vp=null,s;return(sd&1)!==0&&s.tag!==0&&ga(),x=s.pendingLanes,(x&1)!==0?s===xp?Gl++:(Gl=0,xp=s):Gl=0,zs(),null}function ga(){if(Ks!==null){var s=Ds(sd),o=Hn.transition,c=Fe;try{if(Hn.transition=null,Fe=16>s?16:s,Ks===null)var p=!1;else{if(s=Ks,Ks=null,sd=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,he=s.current;he!==null;){var x=he,E=x.child;if((he.flags&16)!==0){var P=x.deletions;if(P!==null){for(var V=0;V<P.length;V++){var K=P[V];for(he=K;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:ql(8,te,x)}var ne=te.child;if(ne!==null)ne.return=te,he=ne;else for(;he!==null;){te=he;var Z=te.sibling,ue=te.return;if(Iv(te),te===K){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var fe=x.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var gt=pe.sibling;pe.sibling=null,pe=gt}while(pe!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,he=E;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ql(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,he=W;break e}he=x.return}}var O=s.current;for(he=O;he!==null;){E=he;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,he=q;else e:for(E=O;he!==null;){if(P=he,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Zu(9,P)}}catch(me){ft(P,P.return,me)}if(P===E){he=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,he=ie;break e}he=P.return}}if(ze=g,zs(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Mi,s)}catch{}p=!0}return p}finally{Fe=c,Hn.transition=o}}return!1}function $v(s,o,c){o=ha(c,o),o=av(s,o,1),s=Ws(s,o,1),o=un(),s!==null&&(Rs(s,1,o),vn(s,o))}function ft(s,o,c){if(s.tag===3)$v(s,s,c);else for(;o!==null;){if(o.tag===3){$v(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hs===null||!Hs.has(p))){s=ha(c,s),s=lv(o,s,1),o=Ws(o,s,1),s=un(),o!==null&&(Rs(o,1,s),vn(o,s));break}}o=o.return}}function pI(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=un(),s.pingedLanes|=s.suspendedLanes&c,Ot===s&&(Wt&c)===c&&(Dt===4||Dt===3&&(Wt&130023424)===Wt&&500>Je()-yp?Ji(s,0):gp|=c),vn(s,o)}function Wv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var c=un();s=ls(s,o),s!==null&&(Rs(s,o,c),vn(s,c))}function mI(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Wv(s,c)}function gI(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),Wv(s,c)}var qv;qv=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||pn.current)gn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return gn=!1,rI(s,o,c);gn=(s.flags&131072)!==0}else gn=!1,ot&&(o.flags&1048576)!==0&&b0(o,Mu,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Xu(s,o),s=o.pendingProps;var g=sa(o,Yt.current);ua(o,c),g=Gf(null,o,p,s,g,c);var x=Qf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mn(p)?(x=!0,ju(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Bf(o),g.updater=Qu,o.stateNode=g,g._reactInternals=o,tp(o,p,s,c),o=ip(null,o,p,!0,x,c)):(o.tag=0,ot&&x&&Pf(o),cn(null,o,g,c),o=o.child),o;case 16:p=o.elementType;e:{switch(Xu(s,o),s=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=vI(p),s=pr(p,s),g){case 0:o=sp(null,o,p,s,c);break e;case 1:o=yv(null,o,p,s,c);break e;case 11:o=hv(null,o,p,s,c);break e;case 14:o=fv(null,o,p,pr(p.type,s),c);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:pr(p,g),sp(s,o,p,g,c);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:pr(p,g),yv(s,o,p,g,c);case 3:e:{if(vv(o),s===null)throw Error(t(387));p=o.pendingProps,x=o.memoizedState,g=x.element,j0(s,o),zu(o,p,null,c);var E=o.memoizedState;if(p=E.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=ha(Error(t(423)),o),o=xv(s,o,p,c,g);break e}else if(p!==g){g=ha(Error(t(424)),o),o=xv(s,o,p,c,g);break e}else for(Nn=Fs(o.stateNode.containerInfo.firstChild),Cn=o,ot=!0,fr=null,c=P0(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(aa(),p===g){o=us(s,o,c);break e}cn(s,o,p,c)}o=o.child}return o;case 5:return M0(o),s===null&&Df(o),p=o.type,g=o.pendingProps,x=s!==null?s.memoizedProps:null,E=g.children,kf(p,g)?E=null:x!==null&&kf(p,x)&&(o.flags|=32),gv(s,o),cn(s,o,E,c),o.child;case 6:return s===null&&Df(o),null;case 13:return wv(s,o,c);case 4:return zf(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=la(o,null,p,c):cn(s,o,p,c),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:pr(p,g),hv(s,o,p,g,c);case 7:return cn(s,o,o.pendingProps,c),o.child;case 8:return cn(s,o,o.pendingProps.children,c),o.child;case 12:return cn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,x=o.memoizedProps,E=g.value,Ze(Fu,p._currentValue),p._currentValue=E,x!==null)if(hr(x.value,E)){if(x.children===g.children&&!pn.current){o=us(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var P=x.dependencies;if(P!==null){E=x.child;for(var V=P.firstContext;V!==null;){if(V.context===p){if(x.tag===1){V=cs(-1,c&-c),V.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?V.next=V:(V.next=te.next,te.next=V),K.pending=V}}x.lanes|=c,V=x.alternate,V!==null&&(V.lanes|=c),Ff(x.return,c,o),P.lanes|=c;break}V=V.next}}else if(x.tag===10)E=x.type===o.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(t(341));E.lanes|=c,P=E.alternate,P!==null&&(P.lanes|=c),Ff(E,c,o),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===o){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}cn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,ua(o,c),g=Wn(g),p=p(g),o.flags|=1,cn(s,o,p,c),o.child;case 14:return p=o.type,g=pr(p,o.pendingProps),g=pr(p.type,g),fv(s,o,p,g,c);case 15:return pv(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:pr(p,g),Xu(s,o),o.tag=1,mn(p)?(s=!0,ju(o)):s=!1,ua(o,c),iv(o,p,g),tp(o,p,g,c),ip(null,o,p,!0,s,c);case 19:return Tv(s,o,c);case 22:return mv(s,o,c)}throw Error(t(156,o.tag))};function Hv(s,o){return Lo(s,o)}function yI(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(s,o,c,p){return new yI(s,o,c,p)}function kp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vI(s){if(typeof s=="function")return kp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===At)return 14}return 2}function Ys(s,o){var c=s.alternate;return c===null?(c=Kn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function ld(s,o,c,p,g,x){var E=2;if(p=s,typeof s=="function")kp(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case D:return eo(c.children,g,x,o);case A:E=8,g|=8;break;case N:return s=Kn(12,c,o,g|2),s.elementType=N,s.lanes=x,s;case j:return s=Kn(13,c,o,g),s.elementType=j,s.lanes=x,s;case Xe:return s=Kn(19,c,o,g),s.elementType=Xe,s.lanes=x,s;case ke:return cd(c,g,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:E=10;break e;case F:E=9;break e;case z:E=11;break e;case At:E=14;break e;case Ct:E=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Kn(E,c,o,g),o.elementType=s,o.type=p,o.lanes=x,o}function eo(s,o,c,p){return s=Kn(7,s,p,o),s.lanes=c,s}function cd(s,o,c,p){return s=Kn(22,s,p,o),s.elementType=ke,s.lanes=c,s.stateNode={isHidden:!1},s}function Sp(s,o,c){return s=Kn(6,s,null,o),s.lanes=c,s}function Ip(s,o,c){return o=Kn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function xI(s,o,c,p,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ap(s,o,c,p,g,x,E,P,V){return s=new xI(s,o,c,P,V),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Kn(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(x),s}function wI(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function Kv(s){if(!s)return Bs;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(mn(c))return _0(s,c,o)}return o}function Gv(s,o,c,p,g,x,E,P,V){return s=Ap(c,p,!0,s,g,x,E,P,V),s.context=Kv(null),c=s.current,p=un(),g=Gs(c),x=cs(p,g),x.callback=o??null,Ws(c,x,g),s.current.lanes=g,Rs(s,g,p),vn(s,p),s}function ud(s,o,c,p){var g=o.current,x=un(),E=Gs(g);return c=Kv(c),o.context===null?o.context=c:o.pendingContext=c,o=cs(x,E),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=Ws(g,o,E),s!==null&&(yr(s,g,E,x),Bu(s,g,E)),E}function dd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Qv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Cp(s,o){Qv(s,o),(s=s.alternate)&&Qv(s,o)}function _I(){return null}var Yv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Np(s){this._internalRoot=s}hd.prototype.render=Np.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));ud(s,o,null,null)},hd.prototype.unmount=Np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Xi(function(){ud(null,s,null,null)}),o[ss]=null}};function hd(s){this._internalRoot=s}hd.prototype.unstable_scheduleHydration=function(s){if(s){var o=hu();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Nr.length&&o!==0&&o<Nr[c].priority;c++);Nr.splice(c,0,s),c===0&&mu(s)}};function Pp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function TI(s,o,c,p,g){if(g){if(typeof p=="function"){var x=p;p=function(){var K=dd(E);x.call(K)}}var E=Gv(o,p,s,0,null,!1,!1,"",Xv);return s._reactRootContainer=E,s[ss]=E.current,Rl(s.nodeType===8?s.parentNode:s),Xi(),E}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var P=p;p=function(){var K=dd(V);P.call(K)}}var V=Ap(s,0,!1,null,null,!1,!1,"",Xv);return s._reactRootContainer=V,s[ss]=V.current,Rl(s.nodeType===8?s.parentNode:s),Xi(function(){ud(o,V,c,p)}),V}function pd(s,o,c,p,g){var x=c._reactRootContainer;if(x){var E=x;if(typeof g=="function"){var P=g;g=function(){var V=dd(E);P.call(V)}}ud(o,E,s,g)}else E=TI(c,o,s,g,p);return dd(E)}uu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ns(o.pendingLanes);c!==0&&(js(o,c|1),vn(o,Je()),(ze&6)===0&&(ma=Je()+500,zs()))}break;case 13:Xi(function(){var p=ls(s,1);if(p!==null){var g=un();yr(p,s,1,g)}}),Cp(s,1)}},Uo=function(s){if(s.tag===13){var o=ls(s,134217728);if(o!==null){var c=un();yr(o,s,134217728,c)}Cp(s,134217728)}},du=function(s){if(s.tag===13){var o=Gs(s),c=ls(s,o);if(c!==null){var p=un();yr(c,s,o,p)}Cp(s,o)}},hu=function(){return Fe},fu=function(s,o){var c=Fe;try{return Fe=s,o()}finally{Fe=c}},Po=function(s,o,c){switch(o){case"input":if(Sr(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var g=Pu(p);if(!g)throw Error(t(90));nr(p),Sr(p,g)}}}break;case"textarea":Co(s,c);break;case"select":o=c.value,o!=null&&bn(s,!!c.multiple,o,!1)}},Pi=Tp,fl=Xi;var EI={usingClientEntryPoint:!1,Events:[Vl,na,Pu,Ar,hl,Tp]},Ql={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bI={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=gl(s),s===null?null:s.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||_I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Mi=md.inject(bI),kn=md}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EI,xn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(o))throw Error(t(200));return wI(s,o,null,c)},xn.createRoot=function(s,o){if(!Pp(s))throw Error(t(299));var c=!1,p="",g=Yv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Ap(s,1,!1,null,null,c,!1,p,g),s[ss]=o.current,Rl(s.nodeType===8?s.parentNode:s),new Np(o)},xn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=gl(o),s=s===null?null:s.stateNode,s},xn.flushSync=function(s){return Xi(s)},xn.hydrate=function(s,o,c){if(!fd(o))throw Error(t(200));return pd(null,s,o,!0,c)},xn.hydrateRoot=function(s,o,c){if(!Pp(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,x="",E=Yv;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=Gv(o,null,s,1,c??null,g,!1,x,E),s[ss]=o.current,Rl(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new hd(o)},xn.render=function(s,o,c){if(!fd(o))throw Error(t(200));return pd(null,s,o,!1,c)},xn.unmountComponentAtNode=function(s){if(!fd(s))throw Error(t(40));return s._reactRootContainer?(Xi(function(){pd(null,null,s,!1,function(){s._reactRootContainer=null,s[ss]=null})}),!0):!1},xn.unstable_batchedUpdates=Tp,xn.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!fd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return pd(s,o,c,!1,p)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var cx;function A_(){if(cx)return Dp.exports;cx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dp.exports=FI(),Dp.exports}var ux;function UI(){if(ux)return gd;ux=1;var n=A_();return gd.createRoot=n.createRoot,gd.hydrateRoot=n.hydrateRoot,gd}var BI=UI();A_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wc.apply(this,arguments)}var ii;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ii||(ii={}));const dx="popstate";function zI(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return fm("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$d(i)}return WI(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function C_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $I(){return Math.random().toString(36).substr(2,8)}function hx(n,e){return{usr:n.state,key:n.key,idx:e}}function fm(n,e,t,r){return t===void 0&&(t=null),wc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ha(e):e,{state:t,key:e&&e.key||r||$I()})}function $d(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function WI(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=ii.Pop,f=null,m=y();m==null&&(m=0,l.replaceState(wc({},l.state,{idx:m}),""));function y(){return(l.state||{idx:null}).idx}function w(){u=ii.Pop;let I=y(),L=I==null?null:I-m;m=I,f&&f({action:u,location:k.location,delta:L})}function T(I,L){u=ii.Push;let U=fm(k.location,I,L);m=y()+1;let H=hx(U,m),J=k.createHref(U);try{l.pushState(H,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(J)}a&&f&&f({action:u,location:k.location,delta:1})}function b(I,L){u=ii.Replace;let U=fm(k.location,I,L);m=y();let H=hx(U,m),J=k.createHref(U);l.replaceState(H,"",J),a&&f&&f({action:u,location:k.location,delta:0})}function C(I){let L=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof I=="string"?I:$d(I);return U=U.replace(/ $/,"%20"),It(L,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,L)}let k={get action(){return u},get location(){return n(i,l)},listen(I){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(dx,w),f=I,()=>{i.removeEventListener(dx,w),f=null}},createHref(I){return e(i,I)},createURL:C,encodeLocation(I){let L=C(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:b,go(I){return l.go(I)}};return k}var fx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(fx||(fx={}));function qI(n,e,t){return t===void 0&&(t="/"),HI(n,e,t)}function HI(n,e,t,r){let i=typeof e=="string"?Ha(e):e,a=og(i.pathname||"/",t);if(a==null)return null;let l=N_(n);KI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=iA(a);u=nA(l[f],m)}return u}function N_(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(It(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=li([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(It(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),N_(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:eA(m,a.index),routesMeta:y})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of P_(a.path))i(a,l,f)}),e}function P_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=P_(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function KI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const GI=/^:[\w-]+$/,QI=3,YI=2,XI=1,JI=10,ZI=-2,px=n=>n==="*";function eA(n,e){let t=n.split("/"),r=t.length;return t.some(px)&&(r+=ZI),e&&(r+=YI),t.filter(i=>!px(i)).reduce((i,a)=>i+(GI.test(a)?QI:a===""?XI:JI),r)}function tA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function nA(n,e,t){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=rA({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),T=f.route;if(!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:li([a,w.pathname]),pathnameBase:cA(li([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=li([a,w.pathnameBase]))}return l}function rA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sA(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,y,w)=>{let{paramName:T,isOptional:b}=y;if(T==="*"){let k=u[w]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const C=u[w];return b&&!C?m[T]=void 0:m[T]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function sA(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),C_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function og(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function oA(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ha(n):n;return{pathname:t?t.startsWith("/")?t:aA(t,e):e,search:uA(r),hash:dA(i)}}function aA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Lp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function R_(n,e){let t=lA(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function j_(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ha(n):(i=wc({},n),It(!i.pathname||!i.pathname.includes("?"),Lp("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Lp("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Lp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),w-=1;i.pathname=T.join("/")}u=w>=0?e[w]:"/"}let f=oA(i,u),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const li=n=>n.join("/").replace(/\/\/+/g,"/"),cA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const D_=["post","put","patch","delete"];new Set(D_);const fA=["get",...D_];new Set(fA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_c.apply(this,arguments)}const ag=R.createContext(null),pA=R.createContext(null),wo=R.createContext(null),kh=R.createContext(null),_o=R.createContext({outlet:null,matches:[],isDataRoute:!1}),V_=R.createContext(null);function mA(n,e){let{relative:t}=e===void 0?{}:e;Lc()||It(!1);let{basename:r,navigator:i}=R.useContext(wo),{hash:a,pathname:l,search:u}=O_(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:li([r,l])),i.createHref({pathname:f,search:u,hash:a})}function Lc(){return R.useContext(kh)!=null}function Oc(){return Lc()||It(!1),R.useContext(kh).location}function M_(n){R.useContext(wo).static||R.useLayoutEffect(n)}function L_(){let{isDataRoute:n}=R.useContext(_o);return n?AA():gA()}function gA(){Lc()||It(!1);let n=R.useContext(ag),{basename:e,future:t,navigator:r}=R.useContext(wo),{matches:i}=R.useContext(_o),{pathname:a}=Oc(),l=JSON.stringify(R_(i,t.v7_relativeSplatPath)),u=R.useRef(!1);return M_(()=>{u.current=!0}),R.useCallback(function(m,y){if(y===void 0&&(y={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let w=j_(m,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:li([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,l,a,n])}function O_(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=R.useContext(wo),{matches:i}=R.useContext(_o),{pathname:a}=Oc(),l=JSON.stringify(R_(i,r.v7_relativeSplatPath));return R.useMemo(()=>j_(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function yA(n,e){return vA(n,e)}function vA(n,e,t,r){Lc()||It(!1);let{navigator:i,static:a}=R.useContext(wo),{matches:l}=R.useContext(_o),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let y=Oc(),w;if(e){var T;let L=typeof e=="string"?Ha(e):e;m==="/"||(T=L.pathname)!=null&&T.startsWith(m)||It(!1),w=L}else w=y;let b=w.pathname||"/",C=b;if(m!=="/"){let L=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=qI(n,{pathname:C}),I=EA(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:li([m,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:li([m,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,r);return e&&I?R.createElement(kh.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:ii.Pop}},I):I}function xA(){let n=IA(),e=hA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,null)}const wA=R.createElement(xA,null);class _A extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(_o.Provider,{value:this.props.routeContext},R.createElement(V_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TA(n){let{routeContext:e,match:t,children:r}=n,i=R.useContext(ag);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(_o.Provider,{value:e},r)}function EA(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let y=l.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);y>=0||It(!1),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:T,errors:b}=t,C=w.route.loader&&T[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,w,T)=>{let b,C=!1,k=null,I=null;t&&(b=u&&w.route.id?u[w.route.id]:void 0,k=w.route.errorElement||wA,f&&(m<0&&T===0?(CA("route-fallback"),C=!0,I=null):m===T&&(C=!0,I=w.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,T+1)),U=()=>{let H;return b?H=k:C?H=I:w.route.Component?H=R.createElement(w.route.Component,null):w.route.element?H=w.route.element:H=y,R.createElement(TA,{match:w,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:H})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?R.createElement(_A,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):U()},null)}var F_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(F_||{}),U_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(U_||{});function bA(n){let e=R.useContext(ag);return e||It(!1),e}function kA(n){let e=R.useContext(pA);return e||It(!1),e}function SA(n){let e=R.useContext(_o);return e||It(!1),e}function B_(n){let e=SA(),t=e.matches[e.matches.length-1];return t.route.id||It(!1),t.route.id}function IA(){var n;let e=R.useContext(V_),t=kA(),r=B_();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function AA(){let{router:n}=bA(F_.UseNavigateStable),e=B_(U_.UseNavigateStable),t=R.useRef(!1);return M_(()=>{t.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,_c({fromRouteId:e},a)))},[n,e])}const mx={};function CA(n,e,t){mx[n]||(mx[n]=!0)}function NA(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Zs(n){It(!1)}function PA(n){let{basename:e="/",children:t=null,location:r,navigationType:i=ii.Pop,navigator:a,static:l=!1,future:u}=n;Lc()&&It(!1);let f=e.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:f,navigator:a,static:l,future:_c({v7_relativeSplatPath:!1},u)}),[f,u,a,l]);typeof r=="string"&&(r=Ha(r));let{pathname:y="/",search:w="",hash:T="",state:b=null,key:C="default"}=r,k=R.useMemo(()=>{let I=og(y,f);return I==null?null:{location:{pathname:I,search:w,hash:T,state:b,key:C},navigationType:i}},[f,y,w,T,b,C,i]);return k==null?null:R.createElement(wo.Provider,{value:m},R.createElement(kh.Provider,{children:t,value:k}))}function RA(n){let{children:e,location:t}=n;return yA(pm(e),t)}new Promise(()=>{});function pm(n,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){t.push.apply(t,pm(r.props.children,a));return}r.type!==Zs&&It(!1),!r.props.index||!r.props.children||It(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=pm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mm.apply(this,arguments)}function jA(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function DA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VA(n,e){return n.button===0&&(!e||e==="_self")&&!DA(n)}const MA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LA="6";try{window.__reactRouterVersion=LA}catch{}const OA="startTransition",gx=MI[OA];function FA(n){let{basename:e,children:t,future:r,window:i}=n,a=R.useRef();a.current==null&&(a.current=zI({window:i,v5Compat:!0}));let l=a.current,[u,f]=R.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},y=R.useCallback(w=>{m&&gx?gx(()=>f(w)):f(w)},[f,m]);return R.useLayoutEffect(()=>l.listen(y),[l,y]),R.useEffect(()=>NA(r),[r]),R.createElement(PA,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const UA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=R.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:f,to:m,preventScrollReset:y,viewTransition:w}=e,T=jA(e,MA),{basename:b}=R.useContext(wo),C,k=!1;if(typeof m=="string"&&BA.test(m)&&(C=m,UA))try{let H=new URL(window.location.href),J=m.startsWith("//")?new URL(H.protocol+m):new URL(m),ee=og(J.pathname,b);J.origin===H.origin&&ee!=null?m=ee+J.search+J.hash:k=!0}catch{}let I=mA(m,{relative:i}),L=zA(m,{replace:l,state:u,target:f,preventScrollReset:y,relative:i,viewTransition:w});function U(H){r&&r(H),H.defaultPrevented||L(H)}return R.createElement("a",mm({},T,{href:C||I,onClick:k||a?r:U,ref:t,target:f}))});var yx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(yx||(yx={}));var vx;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(vx||(vx={}));function zA(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,f=L_(),m=Oc(),y=O_(n,{relative:l});return R.useCallback(w=>{if(VA(w,t)){w.preventDefault();let T=r!==void 0?r:$d(m)===$d(y);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,y,r,i,t,n,a,l,u])}const $A=()=>{};var xx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},WA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,m=f?n[i+2]:0,y=a>>2,w=(a&3)<<4|u>>4;let T=(u&15)<<2|m>>6,b=m&63;f||(b=64,l||(T=64)),r.push(t[y],t[w],t[T],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const m=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||m==null||w==null)throw new qA;const T=a<<2|u>>4;if(r.push(T),m!==64){const b=u<<4&240|m>>2;if(r.push(b),w!==64){const C=m<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HA=function(n){const e=z_(n);return $_.encodeByteArray(e,!0)},Wd=function(n){return HA(n).replace(/\./g,"")},W_=function(n){try{return $_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>KA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof xx>"u")return;const n=xx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&W_(n[1]);return e&&JSON.parse(e)},Sh=()=>{try{return $A()||GA()||QA()||YA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},q_=n=>{var e,t;return(t=(e=Sh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},XA=n=>{const e=q_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},H_=()=>{var n;return(n=Sh())==null?void 0:n.config},K_=n=>{var e;return(e=Sh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wd(JSON.stringify(t)),Wd(JSON.stringify(l)),""].join(".")}const cc={};function eC(){const n={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?n.emulator.push(e):n.prod.push(e);return n}function tC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wx=!1;function Q_(n,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||cc[n]===e||cc[n]||wx)return;cc[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=eC().prod.length>0;function l(){const T=document.getElementById(r);T&&T.remove()}function u(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{wx=!0,l()},T}function y(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=tC(r),b=t("text"),C=document.getElementById(b)||document.createElement("span"),k=t("learnmore"),I=document.getElementById(k)||document.createElement("a"),L=t("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;u(H),y(I,k);const J=m();f(U,L),H.append(U,C,I,J),document.body.appendChild(H)}a?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function rC(){var e;const n=(e=Sh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function sC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y_(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aC(){return!rC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X_(){try{return typeof indexedDB=="object"}catch{return!1}}function J_(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}function lC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cC,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?uC(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new br(i,u,r)}}function uC(n,e){return n.replace(dC,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dC=/\{\$([^}]+)}/g;function hC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(_x(a)&&_x(l)){if(!fi(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function _x(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fC(n,e){const t=new pC(n,e);return t.subscribe.bind(t)}class pC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mC(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Op),i.error===void 0&&(i.error=Op),i.complete===void 0&&(i.complete=Op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1e3,yC=2,vC=4*60*60*1e3,xC=.5;function Tx(n,e=gC,t=yC){const r=e*Math.pow(t,n),i=Math.round(xC*r*(Math.random()-.5)*2);return Math.min(vC,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n){return n&&n._delegate?n._delegate:n}class _r{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new JA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TC(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_C(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _C(n){return n===no?void 0:n}function TC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const bC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},kC=Ve.INFO,SC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},IC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=SC[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=kC,this._logHandler=IC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const AC=(n,e)=>e.some(t=>n instanceof t);let Ex,bx;function CC(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NC(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,gm=new WeakMap,eT=new WeakMap,Fp=new WeakMap,lg=new WeakMap;function PC(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ci(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Z_.set(t,n)}).catch(()=>{}),lg.set(e,n),e}function RC(n){if(gm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});gm.set(n,e)}let ym={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jC(n){ym=n(ym)}function DC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Up(this),e,...t);return eT.set(r,e.sort?e.sort():[e]),ci(r)}:NC().includes(n)?function(...e){return n.apply(Up(this),e),ci(Z_.get(this))}:function(...e){return ci(n.apply(Up(this),e))}}function VC(n){return typeof n=="function"?DC(n):(n instanceof IDBTransaction&&RC(n),AC(n,CC())?new Proxy(n,ym):n)}function ci(n){if(n instanceof IDBRequest)return PC(n);if(Fp.has(n))return Fp.get(n);const e=VC(n);return e!==n&&(Fp.set(n,e),lg.set(e,n)),e}const Up=n=>lg.get(n);function tT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=ci(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ci(l.result),f.oldVersion,f.newVersion,ci(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const MC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],Bp=new Map;function kx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=LC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MC.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),i&&f.done]))[0]};return Bp.set(e,a),a}jC(n=>({...n,get:(e,t,r)=>kx(e,t)||n.get(e,t,r),has:(e,t)=>!!kx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",Sx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Ih("@firebase/app"),UC="@firebase/app-compat",BC="@firebase/analytics-compat",zC="@firebase/analytics",$C="@firebase/app-check-compat",WC="@firebase/app-check",qC="@firebase/auth",HC="@firebase/auth-compat",KC="@firebase/database",GC="@firebase/data-connect",QC="@firebase/database-compat",YC="@firebase/functions",XC="@firebase/functions-compat",JC="@firebase/installations",ZC="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",rN="@firebase/performance-compat",sN="@firebase/remote-config",iN="@firebase/remote-config-compat",oN="@firebase/storage",aN="@firebase/storage-compat",lN="@firebase/firestore",cN="@firebase/ai",uN="@firebase/firestore-compat",dN="firebase",hN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",fN={[vm]:"fire-core",[UC]:"fire-core-compat",[zC]:"fire-analytics",[BC]:"fire-analytics-compat",[WC]:"fire-app-check",[$C]:"fire-app-check-compat",[qC]:"fire-auth",[HC]:"fire-auth-compat",[KC]:"fire-rtdb",[GC]:"fire-data-connect",[QC]:"fire-rtdb-compat",[YC]:"fire-fn",[XC]:"fire-fn-compat",[JC]:"fire-iid",[ZC]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[rN]:"fire-perf-compat",[sN]:"fire-rc",[iN]:"fire-rc-compat",[oN]:"fire-gcs",[aN]:"fire-gcs-compat",[lN]:"fire-fst",[uN]:"fire-fst-compat",[cN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,pN=new Map,wm=new Map;function Ix(n,e){try{n.container.addComponent(e)}catch(t){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qr(n){const e=n.name;if(wm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,n);for(const t of qd.values())Ix(t,n);for(const t of pN.values())Ix(t,n);return!0}function Eo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new To("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=hN;function nT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:xm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(t||(t=H_()),!t)throw ui.create("no-options");const a=qd.get(i);if(a){if(fi(t,a.options)&&fi(r,a.config))return a;throw ui.create("duplicate-app",{appName:i})}const l=new EC(i);for(const f of wm.values())l.addComponent(f);const u=new gN(t,r,l);return qd.set(i,u),u}function cg(n=xm){const e=qd.get(n);if(!e&&n===xm&&H_())return nT();if(!e)throw ui.create("no-app",{appName:n});return e}function Xn(n,e,t){let r=fN[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(l.join(" "));return}Qr(new _r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebase-heartbeat-database",vN=1,Tc="firebase-heartbeat-store";let zp=null;function rT(){return zp||(zp=tT(yN,vN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ui.create("idb-open",{originalErrorMessage:n.message})})),zp}async function xN(n){try{const t=(await rT()).transaction(Tc),r=await t.objectStore(Tc).get(sT(n));return await t.done,r}catch(e){if(e instanceof br)ws.warn(e.message);else{const t=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(t.message)}}}async function Ax(n,e){try{const r=(await rT()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,sT(n)),await r.done}catch(t){if(t instanceof br)ws.warn(t.message);else{const r=ui.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ws.warn(r.message)}}}function sT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=1024,_N=30;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Cx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_N){const l=kN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cx(),{heartbeatsToSend:r,unsentEntries:i}=EN(this._heartbeatsCache.heartbeats),a=Wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ws.warn(t),""}}}function Cx(){return new Date().toISOString().substring(0,10)}function EN(n,e=wN){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Nx(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Nx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X_()?J_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nx(n){return Wd(JSON.stringify({version:2,heartbeats:n})).length}function kN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){Qr(new _r("platform-logger",e=>new OC(e),"PRIVATE")),Qr(new _r("heartbeat",e=>new TN(e),"PRIVATE")),Xn(vm,Sx,n),Xn(vm,Sx,"esm2020"),Xn("fire-js","")}SN("");function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IN=iT,oT=new To("auth","Firebase",iT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Ih("@firebase/auth");function AN(n,...e){Hd.logLevel<=Ve.WARN&&Hd.warn(`Auth (${Ga}): ${n}`,...e)}function Cd(n,...e){Hd.logLevel<=Ve.ERROR&&Hd.error(`Auth (${Ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw dg(n,...e)}function wr(n,...e){return dg(n,...e)}function ug(n,e,t){const r={...IN(),[e]:t};return new To("auth","Firebase",r).create(e,{appName:n.name})}function ms(n){return ug(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(n,"argument-error"),ug(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return oT.create(n,...e)}function Ee(n,e,...t){if(!n)throw dg(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cd(e),new Error(e)}function _s(n,e){n||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function NN(){return Px()==="http:"||Px()==="https:"}function Px(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NN()||Y_()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=nC()||iC()}get(){return PN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n,e){_s(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VN=new Uc(3e4,6e4);function Ti(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ss(n,e,t,r,i={}){return lT(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Fc({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return sC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(m.credentials="include"),aT.fetch()(await cT(n,n.config.apiHost,t,u),m)})}async function lT(n,e,t){n._canInitEmulator=!1;const r={...jN,...e};try{const i=new LN(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw yd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw yd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw yd(n,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ug(n,y,m);er(n,y)}}catch(i){if(i instanceof br)throw i;er(n,"network-request-failed",{message:String(i)})}}async function Bc(n,e,t,r,i={}){const a=await Ss(n,e,t,r,i);return"mfaPendingCredential"in a&&er(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function cT(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?hg(n.config,i):`${n.config.apiScheme}://${i}`;return DN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function MN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),VN.get())})}}function yd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=wr(n,e,r);return i.customData._tokenResponse=t,i}function Rx(n){return n!==void 0&&n.enterprise!==void 0}class ON{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FN(n,e){return Ss(n,"GET","/v2/recaptchaConfig",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e){return Ss(n,"POST","/v1/accounts:delete",e)}async function Kd(n,e){return Ss(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BN(n,e=!1){const t=wt(n),r=await t.getIdToken(e),i=fg(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:uc($p(i.auth_time)),issuedAtTime:uc($p(i.iat)),expirationTime:uc($p(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $p(n){return Number(n)*1e3}function fg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const i=W_(t);return i?JSON.parse(i):(Cd("Failed to decode base64 JWT payload"),null)}catch(i){return Cd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jx(n){const e=fg(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof br&&zN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(n){var w;const e=n.auth,t=await n.getIdToken(),r=await Ma(n,Kd(e,{idToken:t}));Ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(w=i.providerUserInfo)!=null&&w.length?uT(i.providerUserInfo):[],l=qN(n.providerData,a),u=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),m=u?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Tm(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function WN(n){const e=wt(n);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){const t=await lT(n,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await cT(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(f.credentials="include"),aT.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KN(n,e){return Ss(n,"POST","/v2/accounts:revokeToken",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=jx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await HN(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Ia;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Ma(this,UN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:b,providerData:C,stsTokenManager:k}=t;Ee(w&&k,e,"internal-error");const I=Ia.fromJSON(this.name,k);Ee(typeof w=="string",e,"internal-error"),Js(r,e.name),Js(i,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof b=="boolean",e,"internal-error"),Js(a,e.name),Js(l,e.name),Js(u,e.name),Js(f,e.name),Js(m,e.name),Js(y,e.name);const L=new xr({uid:w,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:I,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(L.providerData=C.map(U=>({...U}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ia;i.updateFromServerResponse(t);const a=new xr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ee(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?uT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ia;u.updateFromIdToken(r);const f=new xr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Tm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map;function ps(n){_s(n instanceof Function,"Expected a class definition");let e=Dx.get(n);return e?(_s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Dx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dT.type="NONE";const Vx=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n,e,t){return`firebase:${n}:${e}:${t}`}class Aa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kd(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Aa(ps(Vx),e,r);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||ps(Vx);const l=Nd(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const y=await m._get(l);if(y){let w;if(typeof y=="string"){const T=await Kd(e,{idToken:y}).catch(()=>{});if(!T)break;w=await xr._fromGetAccountInfoResponse(e,T,y)}else w=xr._fromJSON(e,y);m!==a&&(u=w),a=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Aa(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Aa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(vT(e))return"Webos";if(fT(e))return"Safari";if((e.includes("chrome/")||pT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hT(n=on()){return/firefox\//i.test(n)}function fT(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pT(n=on()){return/crios\//i.test(n)}function mT(n=on()){return/iemobile/i.test(n)}function gT(n=on()){return/android/i.test(n)}function yT(n=on()){return/blackberry/i.test(n)}function vT(n=on()){return/webos/i.test(n)}function pg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GN(n=on()){var e;return pg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function QN(){return oC()&&document.documentMode===10}function xT(n=on()){return pg(n)||gT(n)||vT(n)||yT(n)||/windows phone/i.test(n)||mT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e=[]){let t;switch(n){case"Browser":t=Mx(on());break;case"Worker":t=`${Mx(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(n,e={}){return Ss(n,"GET","/v2/passwordPolicy",Ti(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class ZN{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??JN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lx(this),this.idTokenSubscription=new Lx(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kd(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ms(this));const t=e?wt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),t=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await KN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&AN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ei(n){return wt(n)}class Lx{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(n){Ah=n}function _T(n){return Ah.loadJS(n)}function n2(){return Ah.recaptchaEnterpriseScript}function r2(){return Ah.gapiScript}function s2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class i2{constructor(){this.enterprise=new o2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class o2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const a2="recaptcha-enterprise",TT="NO_RECAPTCHA";class l2{constructor(e){this.type=a2,this.auth=Ei(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{FN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new ON(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(f=>{u(f)})})}function i(a,l,u){const f=window.grecaptcha;Rx(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(TT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i2().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&Rx(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=n2();f.length!==0&&(f+=u),_T(f).then(()=>{i(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function Ox(n,e,t,r=!1,i=!1){const a=new l2(n);let l;if(i)l=TT;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Em(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ox(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ox(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n,e){const t=Eo(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(fi(a,e??{}))return i;er(i,"already-initialized")}return t.initialize({options:e})}function u2(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ps);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d2(n,e,t){const r=Ei(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=ET(e),{host:l,port:u}=h2(e),f=u===null?"":`:${u}`,m={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(fi(m,r.config.emulator)&&fi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ka(l)?(G_(`${a}//${l}${f}`),Q_("Auth",!0)):f2()}function ET(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function h2(n){const e=ET(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Fx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Fx(l)}}}function Fx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function f2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function p2(n,e){return Ss(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,e){return Bc(n,"POST","/v1/accounts:signInWithPassword",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(n,e){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,e))}async function y2(n,e){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends mg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ec(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,t,"signInWithPassword",m2);case"emailLink":return g2(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,r,"signUpPassword",p2);case"emailLink":return y2(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n,e){return Bc(n,"POST","/v1/accounts:signInWithIdp",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class po extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const l=new po(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ca(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ca(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ca(e,t)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w2(n){const e=ec(tc(n)).link,t=e?ec(tc(e)).deep_link_id:null,r=ec(tc(n)).deep_link_id;return(r?ec(tc(r)).link:null)||r||t||e||n}class gg{constructor(e){const t=ec(tc(e)),r=t.apiKey??null,i=t.oobCode??null,a=x2(t.mode??null);Ee(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=w2(e);try{return new gg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,t){return Ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=gg.parseLink(t);return Ee(r,"argument-error"),Ec._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends zc{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return po._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hs.credential(t,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends zc{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends zc{constructor(){super("twitter.com")}static credential(e,t){return po._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ri.credential(t,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,e){return Bc(n,"POST","/v1/accounts:signUp",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await xr._fromIdTokenResponse(e,r,i),l=Ux(r);return new mo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Ux(r);return new mo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Ux(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends br{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Qd(e,t,r,i)}}function bT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(n,a,e,r):a})}async function T2(n,e,t=!1){const r=await Ma(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return mo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(n,e,t=!1){const{auth:r}=n;if(jn(r.app))return Promise.reject(ms(r));const i="reauthenticate";try{const a=await Ma(n,bT(r,i,e,n),t);Ee(a.idToken,r,"internal-error");const l=fg(a.idToken);Ee(l,r,"internal-error");const{sub:u}=l;return Ee(n.uid===u,r,"user-mismatch"),mo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(n,e,t=!1){if(jn(n.app))return Promise.reject(ms(n));const r="signIn",i=await bT(n,r,e),a=await mo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function b2(n,e){return kT(Ei(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(n){const e=Ei(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k2(n,e,t){if(jn(n.app))return Promise.reject(ms(n));const r=Ei(n),l=await Em(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&ST(n),f}),u=await mo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function S2(n,e,t){return jn(n.app)?Promise.reject(ms(n)):b2(wt(n),Qa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e){return Ss(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ma(r,I2(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function C2(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function N2(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function P2(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function R2(n){return wt(n).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=1e3,D2=10;class AT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);QN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const V2=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CT.type="SESSION";const NT=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(t.origin,a)),f=await M2(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const m=vg("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function O2(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function F2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function B2(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebaseLocalStorageDb",z2=1,Xd="firebaseLocalStorage",jT="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nh(n,e){return n.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function $2(){const n=indexedDB.deleteDatabase(RT);return new $c(n).toPromise()}function bm(){const n=indexedDB.open(RT,z2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xd,{keyPath:jT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await $2(),e(await bm()))})})}async function Bx(n,e,t){const r=Nh(n,!0).put({[jT]:e,value:t});return new $c(r).toPromise()}async function W2(n,e){const t=Nh(n,!1).get(e),r=await new $c(t).toPromise();return r===void 0?null:r.value}function zx(n,e){const t=Nh(n,!0).delete(e);return new $c(t).toPromise()}const q2=800,H2=3;class DT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>H2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(B2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await F2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await Bx(e,Yd,"1"),await zx(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>W2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Nh(i,!1).getAll();return new $c(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DT.type="LOCAL";const K2=DT;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n,e){return e?ps(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function G2(n){return kT(n.auth,new xg(n),n.bypassAuthState)}function Q2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),E2(t,new xg(n),n.bypassAuthState)}async function Y2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),T2(t,new xg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return Y2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:er(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Uc(2e3,1e4);async function J2(n,e,t){if(jn(n.app))return Promise.reject(wr(n,"operation-not-supported-in-this-environment"));const r=Ei(n);CN(n,e,yg);const i=VT(r,t);return new io(r,"signInViaPopup",e,i).executeNotNull()}class io extends MT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X2.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="pendingRedirect",Pd=new Map;class eP extends MT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await tP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tP(n,e){const t=sP(e),r=rP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function nP(n,e){Pd.set(n._key(),e)}function rP(n){return ps(n._redirectPersistence)}function sP(n){return Nd(Z2,n.config.apiKey,n.name)}async function iP(n,e,t=!1){if(jn(n.app))return Promise.reject(ms(n));const r=Ei(n),i=VT(r,e),l=await new eP(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=10*60*1e3;class aP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!LT(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oP&&this.cachedEventUids.clear(),this.cachedEventUids.has($x(e))}saveEventToCache(e){this.cachedEventUids.add($x(e)),this.lastProcessedEventTime=Date.now()}}function $x(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(n,e={}){return Ss(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dP=/^https?/;async function hP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cP(n);for(const t of e)try{if(fP(t))return}catch{}er(n,"unauthorized-domain")}function fP(n){const e=_m(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!dP.test(t))return!1;if(uP.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Uc(3e4,6e4);function Wx(){const n=Br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mP(n){return new Promise((e,t)=>{var i,a,l;function r(){Wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wx(),t(wr(n,"network-request-failed"))},timeout:pP.get()})}if((a=(i=Br().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=Br().gapi)!=null&&l.load)r();else{const u=s2("iframefcb");return Br()[u]=()=>{gapi.load?r():t(wr(n,"network-request-failed"))},_T(`${r2()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function gP(n){return Rd=Rd||mP(n),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Uc(5e3,15e3),vP="__/auth/iframe",xP="emulator/auth/iframe",wP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hg(e,xP):`https://${n.config.authDomain}/${vP}`,r={apiKey:e.apiKey,appName:n.name,v:Ga},i=_P.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Fc(r).slice(1)}`}async function EP(n){const e=await gP(n),t=Br().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:TP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wP,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=wr(n,"network-request-failed"),u=Br().setTimeout(()=>{a(l)},yP.get());function f(){Br().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kP=500,SP=600,IP="_blank",AP="http://localhost";class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CP(n,e,t,r=kP,i=SP){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...bP,width:r.toString(),height:i.toString(),top:a,left:l},m=on().toLowerCase();t&&(u=pT(m)?IP:t),hT(m)&&(e=e||AP,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[b,C])=>`${T}${b}=${C},`,"");if(GN(m)&&u!=="_self")return NP(e||"",u),new qx(null);const w=window.open(e||"",u,y);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new qx(w)}function NP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="__/auth/handler",RP="emulator/auth/handler",jP=encodeURIComponent("fac");async function Hx(n,e,t,r,i,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ga,eventId:i};if(e instanceof yg){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",hC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))l[y]=w}if(e instanceof zc){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const f=await n._getAppCheckToken(),m=f?`#${jP}=${encodeURIComponent(f)}`:"";return`${DP(n)}?${Fc(u).slice(1)}${m}`}function DP({config:n}){return n.emulator?hg(n,RP):`https://${n.authDomain}/${PP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class VP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=iP,this._overrideRedirectResult=nP}async _openPopup(e,t,r,i){var l;_s((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await Hx(e,t,r,_m(),i);return CP(e,a,vg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Hx(e,t,r,_m(),i);return O2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(_s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await EP(e),r=new aP(e);return t.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wp,{type:Wp},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[Wp];a!==void 0&&t(!!a),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xT()||fT()||pg()}}const MP=VP;var Kx="@firebase/auth",Gx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FP(n){Qr(new _r("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(n)},m=new e2(r,i,a,f);return u2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new _r("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return(r=>new LP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(Kx,Gx,OP(n)),Xn(Kx,Gx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=5*60,BP=K_("authIdTokenMaxAge")||UP;let Qx=null;const zP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>BP)return;const i=t==null?void 0:t.token;Qx!==i&&(Qx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $P(n=cg()){const e=Eo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=c2(n,{popupRedirectResolver:MP,persistence:[K2,V2,NT]}),r=K_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=zP(a.toString());N2(t,l,()=>l(t.currentUser)),C2(t,u=>l(u))}}const i=q_("auth");return i&&d2(t,`http://${i}`),t}function WP(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}t2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=wr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",WP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FP("Browser");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,OT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function N(){}N.prototype=A.prototype,D.D=A.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(M,F,z){for(var j=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)j[Xe-2]=arguments[Xe];return A.prototype[F].apply(M,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,N){N||(N=0);var M=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)M[F]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(F=0;16>F;++F)M[F]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=D.g[0],N=D.g[1],F=D.g[2];var z=D.g[3],j=A+(z^N&(F^z))+M[0]+3614090360&4294967295;A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[1]+3905402710&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[2]+606105819&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[3]+3250441966&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(z^N&(F^z))+M[4]+4118548399&4294967295,A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[5]+1200080426&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[6]+2821735955&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[7]+4249261313&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(z^N&(F^z))+M[8]+1770035416&4294967295,A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[9]+2336552879&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[10]+4294925233&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[11]+2304563134&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(z^N&(F^z))+M[12]+1804603682&4294967295,A=N+(j<<7&4294967295|j>>>25),j=z+(F^A&(N^F))+M[13]+4254626195&4294967295,z=A+(j<<12&4294967295|j>>>20),j=F+(N^z&(A^N))+M[14]+2792965006&4294967295,F=z+(j<<17&4294967295|j>>>15),j=N+(A^F&(z^A))+M[15]+1236535329&4294967295,N=F+(j<<22&4294967295|j>>>10),j=A+(F^z&(N^F))+M[1]+4129170786&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[6]+3225465664&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[11]+643717713&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[0]+3921069994&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(F^z&(N^F))+M[5]+3593408605&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[10]+38016083&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[15]+3634488961&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[4]+3889429448&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(F^z&(N^F))+M[9]+568446438&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[14]+3275163606&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[3]+4107603335&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[8]+1163531501&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(F^z&(N^F))+M[13]+2850285829&4294967295,A=N+(j<<5&4294967295|j>>>27),j=z+(N^F&(A^N))+M[2]+4243563512&4294967295,z=A+(j<<9&4294967295|j>>>23),j=F+(A^N&(z^A))+M[7]+1735328473&4294967295,F=z+(j<<14&4294967295|j>>>18),j=N+(z^A&(F^z))+M[12]+2368359562&4294967295,N=F+(j<<20&4294967295|j>>>12),j=A+(N^F^z)+M[5]+4294588738&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[8]+2272392833&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[11]+1839030562&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[14]+4259657740&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(N^F^z)+M[1]+2763975236&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[4]+1272893353&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[7]+4139469664&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[10]+3200236656&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(N^F^z)+M[13]+681279174&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[0]+3936430074&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[3]+3572445317&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[6]+76029189&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(N^F^z)+M[9]+3654602809&4294967295,A=N+(j<<4&4294967295|j>>>28),j=z+(A^N^F)+M[12]+3873151461&4294967295,z=A+(j<<11&4294967295|j>>>21),j=F+(z^A^N)+M[15]+530742520&4294967295,F=z+(j<<16&4294967295|j>>>16),j=N+(F^z^A)+M[2]+3299628645&4294967295,N=F+(j<<23&4294967295|j>>>9),j=A+(F^(N|~z))+M[0]+4096336452&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[7]+1126891415&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[14]+2878612391&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[5]+4237533241&4294967295,N=F+(j<<21&4294967295|j>>>11),j=A+(F^(N|~z))+M[12]+1700485571&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[3]+2399980690&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[10]+4293915773&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[1]+2240044497&4294967295,N=F+(j<<21&4294967295|j>>>11),j=A+(F^(N|~z))+M[8]+1873313359&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[15]+4264355552&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[6]+2734768916&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[13]+1309151649&4294967295,N=F+(j<<21&4294967295|j>>>11),j=A+(F^(N|~z))+M[4]+4149444226&4294967295,A=N+(j<<6&4294967295|j>>>26),j=z+(N^(A|~F))+M[11]+3174756917&4294967295,z=A+(j<<10&4294967295|j>>>22),j=F+(A^(z|~N))+M[2]+718787259&4294967295,F=z+(j<<15&4294967295|j>>>17),j=N+(z^(F|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var N=A-this.blockSize,M=this.B,F=this.h,z=0;z<A;){if(F==0)for(;z<=N;)i(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<A;)if(M[F++]=D.charCodeAt(z++),F==this.blockSize){i(this,M),F=0;break}}else for(;z<A;)if(M[F++]=D[z++],F==this.blockSize){i(this,M),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var N=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=N&255,N/=256;for(this.u(D),D=Array(16),A=N=0;4>A;++A)for(var M=0;32>M;M+=8)D[N++]=this.g[A]>>>M&255;return D};function a(D,A){var N=u;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=A(D)}function l(D,A){this.h=A;for(var N=[],M=!0,F=D.length-1;0<=F;F--){var z=D[F]|0;M&&z==A||(N[F]=z,M=!1)}this.g=N}var u={};function f(D){return-128<=D&&128>D?a(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return I(m(-D));for(var A=[],N=1,M=0;D>=N;M++)A[M]=D/N|0,N*=4294967296;return new l(A,0)}function y(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return I(y(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(A,8)),M=w,F=0;F<D.length;F+=8){var z=Math.min(8,D.length-F),j=parseInt(D.substring(F,F+z),A);8>z?(z=m(Math.pow(A,z)),M=M.j(z).add(m(j))):(M=M.j(N),M=M.add(m(j)))}return M}var w=f(0),T=f(1),b=f(16777216);n=l.prototype,n.m=function(){if(k(this))return-I(this).m();for(var D=0,A=1,N=0;N<this.g.length;N++){var M=this.i(N);D+=(0<=M?M:4294967296+M)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(k(this))return"-"+I(this).toString(D);for(var A=m(Math.pow(D,6)),N=this,M="";;){var F=J(N,A).g;N=L(N,F.j(A));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=F,C(N))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=L(this,D),k(D)?-1:C(D)?0:1};function I(D){for(var A=D.g.length,N=[],M=0;M<A;M++)N[M]=~D.g[M];return new l(N,~D.h).add(T)}n.abs=function(){return k(this)?I(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0,F=0;F<=A;F++){var z=M+(this.i(F)&65535)+(D.i(F)&65535),j=(z>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);M=j>>>16,z&=65535,j&=65535,N[F]=j<<16|z}return new l(N,N[N.length-1]&-2147483648?-1:0)};function L(D,A){return D.add(I(A))}n.j=function(D){if(C(this)||C(D))return w;if(k(this))return k(D)?I(this).j(I(D)):I(I(this).j(D));if(k(D))return I(this.j(I(D)));if(0>this.l(b)&&0>D.l(b))return m(this.m()*D.m());for(var A=this.g.length+D.g.length,N=[],M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<D.g.length;F++){var z=this.i(M)>>>16,j=this.i(M)&65535,Xe=D.i(F)>>>16,At=D.i(F)&65535;N[2*M+2*F]+=j*At,U(N,2*M+2*F),N[2*M+2*F+1]+=z*At,U(N,2*M+2*F+1),N[2*M+2*F+1]+=j*Xe,U(N,2*M+2*F+1),N[2*M+2*F+2]+=z*Xe,U(N,2*M+2*F+2)}for(M=0;M<A;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=A;M<2*A;M++)N[M]=0;return new l(N,0)};function U(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function H(D,A){this.g=D,this.h=A}function J(D,A){if(C(A))throw Error("division by zero");if(C(D))return new H(w,w);if(k(D))return A=J(I(D),A),new H(I(A.g),I(A.h));if(k(A))return A=J(D,I(A)),new H(I(A.g),A.h);if(30<D.g.length){if(k(D)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var N=T,M=A;0>=M.l(D);)N=ee(N),M=ee(M);var F=ae(N,1),z=ae(M,1);for(M=ae(M,2),N=ae(N,2);!C(M);){var j=z.add(M);0>=j.l(D)&&(F=F.add(N),z=j),M=ae(M,1),N=ae(N,1)}return A=L(D,F.j(A)),new H(F,A)}for(F=w;0<=D.l(A);){for(N=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=m(N),j=z.j(A);k(j)||0<j.l(D);)N-=M,z=m(N),j=z.j(A);C(z)&&(z=T),F=F.add(z),D=L(D,j)}return new H(F,D)}n.A=function(D){return J(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)&D.i(M);return new l(N,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)|D.i(M);return new l(N,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)^D.i(M);return new l(N,this.h^D.h)};function ee(D){for(var A=D.g.length+1,N=[],M=0;M<A;M++)N[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(N,D.h)}function ae(D,A){var N=A>>5;A%=32;for(var M=D.g.length-N,F=[],z=0;z<M;z++)F[z]=0<A?D.i(z+N)>>>A|D.i(z+N+1)<<32-A:D.i(z+N);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,di=l}).apply(typeof Yx<"u"?Yx:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,nc,UT,jd,km,BT,zT,$T;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var _=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var $=h[S];if(!($ in _))break e;_=_[$]}h=h[h.length-1],S=_[h],v=v(S),v!=S&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var _=0,S=!1,$={next:function(){if(!S&&_<h.length){var G=_++;return{value:v(G,h[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return a(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function w(h,v,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function T(h,v,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function b(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,$,G){for(var oe=Array(arguments.length-2),He=2;He<arguments.length;He++)oe[He-2]=arguments[He];return v.prototype[$].apply(S,oe)}}function k(h){const v=h.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=h[S];return _}return[]}function I(h,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const $=h.length||0,G=S.length||0;h.length=$+G;for(let oe=0;oe<G;oe++)h[$+oe]=S[oe]}else h.push(S)}}class L{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function J(h){return J[" "](h),h}J[" "]=function(){};var ee=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ae(h,v,_){for(const S in h)v.call(_,h[S],S,h)}function D(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function A(h){const v={};for(const _ in h)v[_]=h[_];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let _,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(_ in S)h[_]=S[_];for(let G=0;G<N.length;G++)_=N[G],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function F(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function z(h){u.setTimeout(()=>{throw h},0)}function j(){var h=ge;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Xe{constructor(){this.h=this.g=null}add(v,_){const S=At.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var At=new L(()=>new Ct,h=>h.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,se=!1,ge=new Xe,le=()=>{const h=u.Promise.resolve(void 0);ke=()=>{h.then(B)}};var B=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(_){z(_)}var v=At;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};u.addEventListener("test",_,v),u.removeEventListener("test",_,v)}catch{}return h}();function Ne(h,v){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ee){e:{try{J(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}C(Ne,ye);var je={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ke(h,v,_,S,$){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=$,this.key=++De,this.da=this.fa=!1}function _t(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function tr(h){this.src=h,this.g={},this.h=0}tr.prototype.add=function(h,v,_,S,$){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var oe=kr(h,v,S,$);return-1<oe?(v=h[oe],_||(v.fa=!1)):(v=new Ke(v,this.src,G,!!S,$),v.fa=_,h.push(v)),v};function nr(h,v){var _=v.type;if(_ in h.g){var S=h.g[_],$=Array.prototype.indexOf.call(S,v,void 0),G;(G=0<=$)&&Array.prototype.splice.call(S,$,1),G&&(_t(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function kr(h,v,_,S){for(var $=0;$<h.length;++$){var G=h[$];if(!G.da&&G.listener==v&&G.capture==!!_&&G.ha==S)return $}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),En={};function dn(h,v,_,S,$){if(Array.isArray(v)){for(var G=0;G<v.length;G++)dn(h,v[G],_,S,$);return null}return _=il(_),h&&h[Oe]?h.K(v,_,m(S)?!!S.capture:!1,$):Sr(h,v,_,!1,S,$)}function Sr(h,v,_,S,$,G){if(!v)throw Error("Invalid event type");var oe=m($)?!!$.capture:!!$,He=Ao(h);if(He||(h[Ge]=He=new tr(h)),_=He.add(v,_,S,oe,G),_.proxy)return _;if(S=Qe(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)Ce||($=oe),$===void 0&&($=!1),h.addEventListener(v.toString(),S,$);else if(h.attachEvent)h.attachEvent(bn(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qe(){function h(_){return v.call(h.src,h.listener,_)}const v=sl;return h}function at(h,v,_,S,$){if(Array.isArray(v))for(var G=0;G<v.length;G++)at(h,v[G],_,S,$);else S=m(S)?!!S.capture:!!S,_=il(_),h&&h[Oe]?(h=h.i,v=String(v).toString(),v in h.g&&(G=h.g[v],_=kr(G,_,S,$),-1<_&&(_t(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ao(h))&&(v=h.g[v.toString()],h=-1,v&&(h=kr(v,_,S,$)),(_=-1<h?v[h]:null)&&ht(_))}function ht(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Oe])nr(v.i,h);else{var _=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(_,S,h.capture):v.detachEvent?v.detachEvent(bn(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Ao(v))?(nr(_,h),_.h==0&&(_.src=null,v[Ge]=null)):_t(h)}}}function bn(h){return h in En?En[h]:En[h]="on"+h}function sl(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var _=h.listener,S=h.ha||h.src;h.fa&&ht(h),h=_.call(S,v)}return h}function Ao(h){return h=h[Ge],h instanceof tr?h:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function il(h){return typeof h=="function"?h:(h[Co]||(h[Co]=function(v){return h.handleEvent(v)}),h[Co])}function Nt(){Y.call(this),this.i=new tr(this),this.M=this,this.F=null}C(Nt,Y),Nt.prototype[Oe]=!0,Nt.prototype.removeEventListener=function(h,v,_,S){at(this,h,v,_,S)};function Pt(h,v){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ye(v,h);else if(v instanceof ye)v.target=v.target||h;else{var $=v;v=new ye(S,h),M(v,$)}if($=!0,_)for(var G=_.length-1;0<=G;G--){var oe=v.g=_[G];$=Xr(oe,S,!0,v)&&$}if(oe=v.g=h,$=Xr(oe,S,!0,v)&&$,$=Xr(oe,S,!1,v)&&$,_)for(G=0;G<_.length;G++)oe=v.g=_[G],$=Xr(oe,S,!1,v)&&$}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],S=0;S<_.length;S++)_t(_[S]);delete h.g[v],h.h--}}this.F=null},Nt.prototype.K=function(h,v,_,S){return this.i.add(String(h),v,!1,_,S)},Nt.prototype.L=function(h,v,_,S){return this.i.add(String(h),v,!0,_,S)};function Xr(h,v,_,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,G=0;G<v.length;++G){var oe=v[G];if(oe&&!oe.da&&oe.capture==_){var He=oe.listener,Rt=oe.ha||oe.src;oe.fa&&nr(h.i,oe),$=He.call(Rt,S)!==!1&&$}}return $&&!S.defaultPrevented}function ol(h,v,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(h,v||0)}function As(h){h.g=ol(()=>{h.g=null,h.i&&(h.i=!1,As(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ai extends Y{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(h){Y.call(this),this.h=h,this.g={}}C(Ci,Y);var al=[];function ll(h){ae(h.g,function(v,_){this.g.hasOwnProperty(_)&&ht(v)},h),h.g={}}Ci.prototype.N=function(){Ci.aa.N.call(this),ll(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=u.JSON.stringify,ul=u.JSON.parse,dl=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Ni(){}Ni.prototype.h=null;function No(h){return h.h||(h.h=h.i())}function Po(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){ye.call(this,"d")}C(Ir,ye);function Ro(){ye.call(this,"c")}C(Ro,ye);var Ar={},hl=null;function Pi(){return hl=hl||new Nt}Ar.La="serverreachability";function fl(h){ye.call(this,Ar.La,h)}C(fl,ye);function Jr(h){const v=Pi();Pt(v,new fl(v))}Ar.STAT_EVENT="statevent";function pl(h,v){ye.call(this,Ar.STAT_EVENT,h),this.stat=v}C(pl,ye);function mt(h){const v=Pi();Pt(v,new pl(v,h))}Ar.Ma="timingevent";function jo(h,v){ye.call(this,Ar.Ma,h),this.size=v}C(jo,ye);function rr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function ji(h,v,_,S,$,G){h.info(function(){if(h.g)if(G)for(var oe="",He=G.split("&"),Rt=0;Rt<He.length;Rt++){var Ue=He[Rt].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var Tt=Mt.split("_");oe=2<=Tt.length&&Tt[1]=="type"?oe+(Mt+"="+Ue+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+v+`
`+_+`
`+oe})}function Do(h,v,_,S,$,G,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+v+`
`+_+`
`+G+" "+oe})}function sr(h,v,_,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+of(h,_)+(S?" "+S:"")})}function ml(h,v){h.info(function(){return"TIMEOUT: "+v})}Ri.prototype.info=function(){};function of(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return cl(_)}catch{return v}}var Vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function Di(){}C(Di,Ni),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},ir=new Di;function or(h,v,_,S){this.j=h,this.i=v,this.l=_,this.R=S||1,this.U=new Ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var gl={},Mo={};function Lo(h,v,_){h.L=1,h.v=js(Sn(v)),h.m=_,h.P=!0,yl(h,null)}function yl(h,v){h.F=Date.now(),Je(h),h.A=Sn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Vs(_.i,"t",S),h.C=0,_=h.j.J,h.h=new ru,h.g=_u(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Ai(T(h.Y,h,h.g),h.O)),v=h.U,_=h.g,S=h.ca;var $="readystatechange";Array.isArray($)||($&&(al[0]=$.toString()),$=al);for(var G=0;G<$.length;G++){var oe=dn(_,$[G],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Jr(),ji(h.i,h.u,h.A,h.l,h.R,h.m)}or.prototype.ca=function(h){h=h.target;const v=this.M;v&&fn(h)==3?v.j():this.Y(h)},or.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=fn(this.g);var v=this.g.Ba();const Bn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||El(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=Bn?Jr(3):Jr(2)),Vi(this);var _=this.g.Z();this.X=_;t:if(su(this)){var S=El(this.g);h="";var $=S.length,G=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),Cs(this);var oe="";break t}this.h.i=new u.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(G&&v==$-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Do(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Rt=this.g;if((He=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(He)){var Ue=He;break t}}Ue=null}if(_=Ue)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vl(this,_);else{this.o=!1,this.s=3,mt(12),Fn(this),Cs(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<oe.length;)if(An=af(this,oe),An==Mo){Tt==4&&(this.s=4,mt(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(An==gl){this.s=4,mt(15),sr(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,An,null),vl(this,An);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,oe,"[Invalid Chunked Response]"),Fn(this),Cs(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),kl(Mt),Mt.M=!0,mt(11))}}else sr(this.i,this.l,oe,null),vl(this,oe);Tt==4&&Fn(this),this.o&&!this.J&&(Tt==4?Go(this.j,this):(this.o=!1,Je(this)))}else $o(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Fn(this),Cs(this)}}}catch{}finally{}};function su(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function af(h,v){var _=h.C,S=v.indexOf(`
`,_);return S==-1?Mo:(_=Number(v.substring(_,S)),isNaN(_)?gl:(S+=1,S+_>v.length?Mo:(v=v.slice(S,S+_),h.C=S+_,v)))}or.prototype.cancel=function(){this.J=!0,Fn(this)};function Je(h){h.S=Date.now()+h.I,iu(h,h.I)}function iu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=rr(T(h.ba,h),v)}function Vi(h){h.B&&(u.clearTimeout(h.B),h.B=null)}or.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ml(this.i,this.A),this.L!=2&&(Jr(),mt(17)),Fn(this),this.s=2,Cs(this)):iu(this,this.S-h)};function Cs(h){h.j.G==0||h.J||Go(h.j,h)}function Fn(h){Vi(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ll(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function vl(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||an(_.h,h))){if(!h.K&&an(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ko(_),dr(_);else break e;Ho(_),mt(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(T(_.Za,_),6e3));if(1>=au(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else rs(_,11)}else if((h.K||_.g==h)&&Ko(_),!U(v))for($=_.Da.g.parse(v),v=0;v<$.length;v++){let Ue=$[v];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Tt=Ue[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Bn=Ue[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(S=1.5*Bn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const An=h.g;if(An){const zi=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var G=S.h;G.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(xl(G,G.h),G.h=null))}if(S.D){const Yo=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(S.ya=Yo,Ye(S.I,S.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var oe=h;if(S.qa=wu(S,S.J?S.ia:null,S.W),oe.K){lu(S.h,oe);var He=oe,Rt=S.L;Rt&&(He.I=Rt),He.B&&(Vi(He),Je(He)),S.g=oe}else Bi(S);0<_.i.length&&Rr(_)}else Ue[0]!="stop"&&Ue[0]!="close"||rs(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?rs(_,7):zt(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}Jr(4)}catch{}}var ou=class{constructor(h,v){this.g=h,this.map=v}};function Mi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function au(h){return h.h?1:h.g?h.g.size:0}function an(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function xl(h,v){h.g?h.g.add(v):h.h=v}function lu(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Mi.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return k(h.i)}function Oo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var v=[],_=h.length,S=0;S<_;S++)v.push(h[S]);return v}v=[],_=0;for(S in h)v[_++]=h[S];return v}function Fo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const S in h)v[_++]=S;return v}}}function Ns(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Fo(h),S=Oo(h),$=S.length,G=0;G<$;G++)v.call(void 0,S[G],_&&_[G],h)}var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),$=null;if(0<=S){var G=h[_].substring(0,S);$=h[_].substring(S+1)}else G=h[_];v(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Zr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Zr){this.h=h.h,Oi(this,h.j),this.o=h.o,this.g=h.g,Ps(this,h.s),this.l=h.l;var v=h.i,_=new Cr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Rs(this,_),this.m=h.m}else h&&(v=String(h).match(Li))?(this.h=!1,Oi(this,v[1]||"",!0),this.o=Fe(v[2]||""),this.g=Fe(v[3]||"",!0),Ps(this,v[4]),this.l=Fe(v[5]||"",!0),Rs(this,v[6]||"",!0),this.m=Fe(v[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}Zr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ds(v,Uo,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ds(v,Uo,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ds(_,_.charAt(0)=="/"?hu:du,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ds(_,wl)),h.join("")};function Sn(h){return new Zr(h)}function Oi(h,v,_){h.j=_?Fe(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ps(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Rs(h,v,_){v instanceof Cr?(h.i=v,Nr(h.i,h.h)):(_||(v=Ds(v,fu)),h.i=new Cr(v,h.h))}function Ye(h,v,_){h.i.set(v,_)}function js(h){return Ye(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fe(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ds(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,uu),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Uo=/[#\/\?@]/g,du=/[#\?:]/g,hu=/[#\?]/g,fu=/[#\?@]/g,wl=/#/g;function Cr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Bt(h){h.g||(h.g=new Map,h.h=0,h.i&&lf(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=Cr.prototype,n.add=function(h,v){Bt(this),this.i=null,h=Un(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function ar(h,v){Bt(h),v=Un(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function lr(h,v){return Bt(h),v=Un(h,v),h.g.has(v)}n.forEach=function(h,v){Bt(this),this.g.forEach(function(_,S){_.forEach(function($){h.call(v,$,S,this)},this)},this)},n.na=function(){Bt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const $=h[S];for(let G=0;G<$.length;G++)_.push(v[S])}return _},n.V=function(h){Bt(this);let v=[];if(typeof h=="string")lr(this,h)&&(v=v.concat(this.g.get(Un(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},n.set=function(h,v){return Bt(this),this.i=null,h=Un(this,h),lr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Vs(h,v,_){ar(h,v),0<_.length&&(h.i=null,h.g.set(Un(h,v),k(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const G=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var $=G;oe[S]!==""&&($+="="+encodeURIComponent(String(oe[S]))),h.push($)}}return this.i=h.join("&")};function Un(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Nr(h,v){v&&!h.j&&(Bt(h),h.i=null,h.g.forEach(function(_,S){var $=S.toLowerCase();S!=$&&(ar(this,S),Vs(this,$,_))},h)),h.j=v}function cf(h,v){const _=new Ri;if(u.Image){const S=new Image;S.onload=b(hn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=b(hn,_,"TestLoadImage: error",!1,v,S),S.onabort=b(hn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=b(hn,_,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function pu(h,v){const _=new Ri,S=new AbortController,$=setTimeout(()=>{S.abort(),hn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(G=>{clearTimeout($),G.ok?hn(_,"TestPingServer: ok",!0,v):hn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),hn(_,"TestPingServer: error",!1,v)})}function hn(h,v,_,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(_)}catch{}}function uf(){this.g=new dl}function mu(h,v,_){const S=_||"";try{Ns(h,function($,G){let oe=$;m($)&&(oe=cl($)),v.push(S+G+"="+encodeURIComponent(oe))})}catch($){throw v.push(S+"type="+encodeURIComponent("_badmap")),$}}function es(h){this.l=h.Ub||null,this.j=h.eb||!1}C(es,Ni),es.prototype.g=function(){return new Fi(this.l,this.j)},es.prototype.i=function(h){return function(){return h}}({});function Fi(h,v){Nt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fi,Nt),n=Fi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ur(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?cr(this):ur(this),this.readyState==3&&gu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,cr(this))},n.Qa=function(h){this.g&&(this.response=h,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ur(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ts(h){let v="";return ae(h,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function Ms(h,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=ts(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Ye(h,v,_))}function it(h){Nt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(it,Nt);var df=/^https?$/i,_l=["POST","PUT"];n=it.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?No(this.o):No(ir),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(G){Ui(this,G);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)_.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),$=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(_l,v,void 0))||S||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of _)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Ui(this,G)}};function Ui(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Bo(h),In(h)}function Bo(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Pt(this,"complete"),Pt(this,"abort"),In(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Tl(this):this.bb())},n.bb=function(){Tl(this)};function Tl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||fn(h)!=4||h.Z()!=2)){if(h.u&&fn(h)==4)ol(h.Ea,0,h);else if(Pt(h,"readystatechange"),fn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=oe===0){var $=String(h.D).match(Li)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),S=!df.test($?$.toLowerCase():"")}_=S}if(_)Pt(h,"complete"),Pt(h,"success");else{h.m=6;try{var G=2<fn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Bo(h)}}finally{In(h)}}}}function In(h,v){if(h.g){zo(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Pt(h,"ready");try{_.onreadystatechange=S}catch{}}}function zo(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ul(v)}};function El(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $o(h){const v={};h=(h.g&&2<=fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(U(h[S]))continue;var _=F(h[S]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=v[$]||[];v[$]=G,G.push(_)}D(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function bl(h){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,h),this.cb=Pr("retryDelaySeedMs",1e4,h),this.Wa=Pr("forwardChannelMaxRetries",2,h),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(h&&h.concurrentRequestLimit),this.Da=new uf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bl.prototype,n.la=8,n.G=1,n.connect=function(h,v,_,S){mt(0),this.W=h,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=wu(this,null,this.W),Rr(this)};function zt(h){if(Wo(h),h.G==3){var v=h.U++,_=Sn(h.I);if(Ye(_,"SID",h.K),Ye(_,"RID",v),Ye(_,"TYPE","terminate"),ns(h,_),v=new or(h,h.j,v),v.L=2,v.v=js(Sn(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&u.Image&&(new Image().src=v.v,_=!0),_||(v.g=_u(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Je(v)}xu(h)}function dr(h){h.g&&(kl(h),h.g.cancel(),h.g=null)}function Wo(h){dr(h),h.u&&(u.clearTimeout(h.u),h.u=null),Ko(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Rr(h){if(!kn(h.h)&&!h.s){h.s=!0;var v=h.Ga;ke||le(),se||(ke(),se=!0),ge.add(v,h),h.B=0}}function hf(h,v){return au(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=rr(T(h.Ga,h,v),vu(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new or(this,this.j,h);let G=this.o;if(this.S&&(G?(G=A(G),M(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Ls(this,$,v),_=Sn(this.I),Ye(_,"RID",h),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),ns(this,_),G&&(this.O?v="headers="+encodeURIComponent(String(ts(G)))+"&"+v:this.m&&Ms(_,this.m,G)),xl(this.h,$),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",v),Ye(_,"SID","null"),$.T=!0,Lo($,_,null)):Lo($,_,v),this.G=2}}else this.G==3&&(h?qo(this,h):this.i.length==0||kn(this.h)||qo(this))};function qo(h,v){var _;v?_=v.l:_=h.U++;const S=Sn(h.I);Ye(S,"SID",h.K),Ye(S,"RID",_),Ye(S,"AID",h.T),ns(h,S),h.m&&h.o&&Ms(S,h.m,h.o),_=new or(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ls(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),xl(h.h,_),Lo(_,S,v)}function ns(h,v){h.H&&ae(h.H,function(_,S){Ye(v,S,_)}),h.l&&Ns({},function(_,S){Ye(v,S,_)})}function Ls(h,v,_){_=Math.min(h.i.length,_);var S=h.l?T(h.l.Na,h.l,h):null;e:{var $=h.i;let G=-1;for(;;){const oe=["count="+_];G==-1?0<_?(G=$[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let He=!0;for(let Rt=0;Rt<_;Rt++){let Ue=$[Rt].g;const Mt=$[Rt].map;if(Ue-=G,0>Ue)G=Math.max(0,$[Rt].g-100),He=!1;else try{mu(Mt,oe,"req"+Ue+"_")}catch{S&&S(Mt)}}if(He){S=oe.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,S}function Bi(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ke||le(),se||(ke(),se=!0),ge.add(v,h),h.v=0}}function Ho(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=rr(T(h.Fa,h),vu(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=rr(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),dr(this),yu(this))};function kl(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function yu(h){h.g=new or(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Sn(h.qa);Ye(v,"RID","rpc"),Ye(v,"SID",h.K),Ye(v,"AID",h.T),Ye(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ye(v,"TO",h.ja),Ye(v,"TYPE","xmlhttp"),ns(h,v),h.m&&h.o&&Ms(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=js(Sn(v)),_.m=null,_.P=!0,yl(_,h)}n.Za=function(){this.C!=null&&(this.C=null,dr(this),Ho(this),mt(19))};function Ko(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Go(h,v){var _=null;if(h.g==v){Ko(h),kl(h),h.g=null;var S=2}else if(an(h.h,v))_=v.D,lu(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;S=Pi(),Pt(S,new jo(S,_)),Rr(h)}else Bi(h);else if($=v.s,$==3||$==0&&0<v.X||!(S==1&&hf(h,v)||S==2&&Ho(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),$){case 1:rs(h,5);break;case 4:rs(h,10);break;case 3:rs(h,6);break;default:rs(h,2)}}}function vu(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function rs(h,v){if(h.j.info("Error code "+v),v==2){var _=T(h.fb,h),S=h.Xa;const $=!S;S=new Zr(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oi(S,"https"),js(S),$?cf(S.toString(),_):pu(S.toString(),_)}else mt(2);h.G=0,h.l&&h.l.sa(v),xu(h),Wo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function xu(h){if(h.G=0,h.ka=[],h.l){const v=cu(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function wu(h,v,_){var S=_ instanceof Zr?Sn(_):new Zr(_);if(S.g!="")v&&(S.g=v+"."+S.g),Ps(S,S.s);else{var $=u.location;S=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var G=new Zr(null);S&&Oi(G,S),v&&(G.g=v),$&&Ps(G,$),_&&(G.l=_),S=G}return _=h.D,v=h.ya,_&&v&&Ye(S,_,v),Ye(S,"VER",h.la),ns(h,S),S}function _u(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new it(new es({eb:_})):new it(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sl(){}n=Sl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qo(){}Qo.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){Nt.call(this),this.g=new bl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!U(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new jr(this)}C(ln,Nt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){zt(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=cl(h),h=_);v.i.push(new ou(v.Ya++,h)),v.G==3&&Rr(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,ln.aa.N.call(this)};function Tu(h){Ir.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Tu,Ir);function Eu(){Ro.call(this),this.status=1}C(Eu,Ro);function jr(h){this.g=h}C(jr,Sl),jr.prototype.ua=function(){Pt(this.g,"a")},jr.prototype.ta=function(h){Pt(this.g,new Tu(h))},jr.prototype.sa=function(h){Pt(this.g,new Eu)},jr.prototype.ra=function(){Pt(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,$T=function(){return new Qo},zT=function(){return Pi()},BT=Ar,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vo.NO_ERROR=0,Vo.TIMEOUT=8,Vo.HTTP_ERROR=6,jd=Vo,nu.COMPLETE="complete",UT=nu,Po.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,nc=Po,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,FT=it}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const Xx="@firebase/firestore",Jx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Ih("@firebase/firestore");function va(){return go.logLevel}function de(n,...e){if(go.logLevel<=Ve.DEBUG){const t=e.map(wg);go.debug(`Firestore (${Ya}): ${n}`,...t)}}function Ts(n,...e){if(go.logLevel<=Ve.ERROR){const t=e.map(wg);go.error(`Firestore (${Ya}): ${n}`,...t)}}function La(n,...e){if(go.logLevel<=Ve.WARN){const t=e.map(wg);go.warn(`Firestore (${Ya}): ${n}`,...t)}}function wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,WT(n,r,t)}function WT(n,e,t){let r=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ts(r),new Error(r)}function qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||WT(e,i,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class HP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KP{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new qT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class GP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new GP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function Sm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return qp(i)===qp(a)?Me(i,a):qp(i)?1:-1}return Me(n.length,e.length)}const JP=55296,ZP=57343;function qp(n){const e=n.charCodeAt(0);return e>=JP&&e<=ZP}function Oa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__name__";class Fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Fr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Me(e.length,t.length)}static compareSegments(e,t){const r=Fr.isNumericId(e),i=Fr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):Sm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}}class et extends Fr{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new et(t)}static emptyPath(){return new et([])}}const eR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Fr{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return eR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ew}static keyField(){return new Kt([ew])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ce(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e,t){if(!t)throw new ce(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tR(n,e,t,r){if(e===!0&&r===!0)throw new ce(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tw(n){if(!ve.isDocumentKey(n))throw new ce(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nw(n){if(ve.isDocumentKey(n))throw new ce(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ph(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function Tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ph(n);throw new ce(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nR(n,e){if(e<=0)throw new ce(Q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,e){const t={typeString:n};return e&&(t.value=e),t}function Wc(n,e){if(!KT(n))throw new ce(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=-62135596800,sw=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sw);return new We(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rw)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wc(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:St("string",We._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new We(0,0))}static max(){return new Ie(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function rR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new pi(i,ve.empty(),e)}function sR(n){return new pi(n.readTime,n.key,bc)}class pi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pi(Ie.min(),ve.empty(),bc)}static max(){return new pi(Ie.max(),ve.empty(),bc)}}function iR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==oR)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(y=>{l[m]=y,++u,u===a&&r(l)},y=>i(y))}})}static doWhile(e,t){return new X((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function lR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ja(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function jh(n){return n==null}function Jd(n){return n===0&&1/n==-1/0}function cR(n){return typeof n=="number"&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="";function uR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iw(e)),e=dR(n.get(t),e);return iw(e)}function dR(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case GT:t+="";break;default:t+=a}}return t}function iw(n){return n+GT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aw(this.data.getIterator())}getIteratorFrom(e){return new aw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class aw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Vt(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YT("Invalid base64 string: "+a):a}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=hR.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gi(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="server_timestamp",JT="__type__",ZT="__previous_value__",eE="__local_write_time__";function Eg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[JT])==null?void 0:r.stringValue)===XT}function Dh(n){const e=n.mapValue.fields[ZT];return Eg(e)?Dh(e):e}function kc(n){const e=mi(n.mapValue.fields[eE].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t,r,i,a,l,u,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const Zd="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||Zd}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__type__",pR="__max__",wd={mapValue:{}},nE="__vector__",eh="value";function yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Eg(n)?4:gR(n)?9007199254740991:mR(n)?10:11:be(28295,{value:n})}function Yr(n,e){if(n===e)return!0;const t=yi(n);if(t!==yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kc(n).isEqual(kc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=mi(i.timestampValue),u=mi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return gi(i.bytesValue).isEqual(gi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return vt(i.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vt(i.integerValue)===vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=vt(i.doubleValue),u=vt(a.doubleValue);return l===u?Jd(l)===Jd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Oa(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(ow(l)!==ow(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Yr(l[f],u[f])))return!1;return!0}(n,e);default:return be(52216,{left:n})}}function Ic(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function Fa(n,e){if(n===e)return 0;const t=yi(n),r=yi(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=vt(a.integerValue||a.doubleValue),f=vt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return lw(n.timestampValue,e.timestampValue);case 4:return lw(kc(n),kc(e));case 5:return Sm(n.stringValue,e.stringValue);case 6:return function(a,l){const u=gi(a),f=gi(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const y=Me(u[m],f[m]);if(y!==0)return y}return Me(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Me(vt(a.latitude),vt(l.latitude));return u!==0?u:Me(vt(a.longitude),vt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var T,b,C,k;const u=a.fields||{},f=l.fields||{},m=(T=u[eh])==null?void 0:T.arrayValue,y=(b=f[eh])==null?void 0:b.arrayValue,w=Me(((C=m==null?void 0:m.values)==null?void 0:C.length)||0,((k=y==null?void 0:y.values)==null?void 0:k.length)||0);return w!==0?w:cw(m,y)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===wd.mapValue&&l===wd.mapValue)return 0;if(a===wd.mapValue)return 1;if(l===wd.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const T=Sm(f[w],y[w]);if(T!==0)return T;const b=Fa(u[f[w]],m[y[w]]);if(b!==0)return b}return Me(f.length,y.length)}(n.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function lw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=mi(n),r=mi(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function cw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Fa(t[i],r[i]);if(a)return a}return Me(t.length,r.length)}function Ua(n){return Im(n)}function Im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Im(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Im(t.fields[l])}`;return i+"}"}(n.mapValue):be(61005,{value:n})}function Dd(n){switch(yi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(n);return e?16+Dd(e):16;case 5:return 2*n.stringValue.length;case 6:return gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Dd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return bi(r.fields,(a,l)=>{i+=a.length+Dd(l)}),i}(n.mapValue);default:throw be(13486,{value:n})}}function uw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Am(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function dw(n){return!!n&&"nullValue"in n}function hw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vd(n){return!!n&&"mapValue"in n}function mR(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[tE])==null?void 0:r.stringValue)===nE}function dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return bi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dc(n.arrayValue.values[t]);return e}return{...n}}function gR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=dc(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Vd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bi(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _n(dc(this.value))}}function rE(n){const e=[];return bi(n.fields,(t,r)=>{const i=new Kt([t]);if(Vd(r)){const a=rE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rn(e,0,Ie.min(),Ie.min(),Ie.min(),_n.empty(),0)}static newFoundDocument(e,t,r,i){return new rn(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new rn(e,2,t,Ie.min(),Ie.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ie.min(),Ie.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.position=e,this.inclusive=t}}function fw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Fa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function pw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function yR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{}class kt extends sE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xR(e,t,r):t==="array-contains"?new TR(e,r):t==="in"?new ER(e,r):t==="not-in"?new bR(e,r):t==="array-contains-any"?new kR(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wR(e,r):new _R(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fa(t,this.value)):t!==null&&yi(this.value)===yi(t)&&this.matchesComparison(Fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends sE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Er(e,t)}matches(e){return iE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(n){return n.op==="and"}function oE(n){return vR(n)&&iE(n)}function vR(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function Cm(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Ua(n.value);if(oE(n))return n.filters.map(e=>Cm(e)).join(",");{const e=n.filters.map(t=>Cm(t)).join(",");return`${n.op}(${e})`}}function aE(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)}(n,e):n instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&aE(l,i.filters[u]),!0):!1}(n,e):void be(19439)}function lE(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ua(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(lE).join(" ,")+"}"}(n):"Filter"}class xR extends kt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class wR extends kt{constructor(e,t){super(e,"in",t),this.keys=cE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _R extends kt{constructor(e,t){super(e,"not-in",t),this.keys=cE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class TR extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&Ic(t.arrayValue,this.value)}}class ER extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}}class bR extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ic(this.value.arrayValue,t)}}class kR extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function mw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new SR(n,e,t,r,i,a,l)}function kg(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ua(r)).join(",")),e.Te=t}return e.Te}function Sg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pw(n.startAt,e.startAt)&&pw(n.endAt,e.endAt)}function Nm(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IR(n,e,t,r,i,a,l,u){return new Za(n,e,t,r,i,a,l,u)}function Ig(n){return new Za(n)}function gw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uE(n){return n.collectionGroup!==null}function hc(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Vt(Kt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ac(a,r))}),t.has(Kt.keyField().canonicalString())||e.Ie.push(new Ac(Kt.keyField(),r))}return e.Ie}function zr(n){const e=Ae(n);return e.Ee||(e.Ee=AR(e,hc(n))),e.Ee}function AR(n,e){if(n.limitType==="F")return mw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ac(i.field,a)});const t=n.endAt?new th(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new th(n.startAt.position,n.startAt.inclusive):null;return mw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pm(n,e){const t=n.filters.concat([e]);return new Za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nh(n,e,t){return new Za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vh(n,e){return Sg(zr(n),zr(e))&&n.limitType===e.limitType}function dE(n){return`${kg(zr(n))}|lt:${n.limitType}`}function xa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lE(i)).join(", ")}]`),jh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ua(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ua(i)).join(",")),`Target(${r})`}(zr(n))}; limitType=${n.limitType})`}function Mh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of hc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const m=fw(l,u,f);return l.inclusive?m<=0:m<0}(r.startAt,hc(r),i)||r.endAt&&!function(l,u,f){const m=fw(l,u,f);return l.inclusive?m>=0:m>0}(r.endAt,hc(r),i))}(n,e)}function CR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hE(n){return(e,t)=>{let r=!1;for(const i of hc(n)){const a=NR(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function NR(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?Fa(f,m):be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new dt(ve.comparator);function Es(){return PR}const fE=new dt(ve.comparator);function rc(...n){let e=fE;for(const t of n)e=e.insert(t.key,t);return e}function pE(n){let e=fE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oo(){return fc()}function mE(){return fc()}function fc(){return new bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const RR=new dt(ve.comparator),jR=new Vt(ve.comparator);function Le(...n){let e=jR;for(const t of n)e=e.add(t);return e}const DR=new Vt(Me);function VR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function gE(n){return{integerValue:""+n}}function MR(n,e){return cR(e)?gE(e):Ag(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function LR(n,e,t){return n instanceof rh?function(i,a){const l={fields:{[JT]:{stringValue:XT},[eE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Eg(a)&&(a=Dh(a)),a&&(l.fields[ZT]=a),{mapValue:l}}(t,e):n instanceof Cc?vE(n,e):n instanceof Nc?xE(n,e):function(i,a){const l=yE(i,a),u=yw(l)+yw(i.Ae);return Am(l)&&Am(i.Ae)?gE(u):Ag(i.serializer,u)}(n,e)}function OR(n,e,t){return n instanceof Cc?vE(n,e):n instanceof Nc?xE(n,e):t}function yE(n,e){return n instanceof sh?function(r){return Am(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class rh extends Lh{}class Cc extends Lh{constructor(e){super(),this.elements=e}}function vE(n,e){const t=wE(e);for(const r of n.elements)t.some(i=>Yr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Nc extends Lh{constructor(e){super(),this.elements=e}}function xE(n,e){let t=wE(e);for(const r of n.elements)t=t.filter(i=>!Yr(i,r));return{arrayValue:{values:t}}}class sh extends Lh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yw(n){return vt(n.integerValue||n.doubleValue)}function wE(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FR(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Cc&&i instanceof Cc||r instanceof Nc&&i instanceof Nc?Oa(r.elements,i.elements,Yr):r instanceof sh&&i instanceof sh?Yr(r.Ae,i.Ae):r instanceof rh&&i instanceof rh}(n.transform,e.transform)}class UR{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oh{}function _E(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cg(n.key,Jn.none()):new qc(n.key,n.data,Jn.none());{const t=n.data,r=_n.empty();let i=new Vt(Kt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ki(n.key,r,new Dn(i.toArray()),Jn.none())}}function BR(n,e,t){n instanceof qc?function(i,a,l){const u=i.value.clone(),f=xw(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(i,a,l){if(!Md(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=xw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(TE(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function pc(n,e,t,r){return n instanceof qc?function(a,l,u,f){if(!Md(a.precondition,l))return u;const m=a.value.clone(),y=ww(a.fieldTransforms,f,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof ki?function(a,l,u,f){if(!Md(a.precondition,l))return u;const m=ww(a.fieldTransforms,f,l),y=l.data;return y.setAll(TE(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,l,u){return Md(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function zR(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=yE(r.transform,i||null);a!=null&&(t===null&&(t=_n.empty()),t.set(r.field,a))}return t||null}function vw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oa(r,i,(a,l)=>FR(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qc extends Oh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends Oh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xw(n,e,t){const r=new Map;qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,OR(l,u,t[i]))}return r}function ww(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,LR(a,l,e))}return r}class Cg extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $R extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&BR(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mE();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const f=_E(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(t,r)=>vw(t,r))&&Oa(this.baseMutations,e.baseMutations,(t,r)=>vw(t,r))}}class Ng{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return RR}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Ng(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function KR(n){switch(n){case Q.OK:return be(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function EE(n){if(n===void 0)return Ts("GRPC error has no .code"),Q.UNKNOWN;switch(n){case bt.OK:return Q.OK;case bt.CANCELLED:return Q.CANCELLED;case bt.UNKNOWN:return Q.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Q.INTERNAL;case bt.UNAVAILABLE:return Q.UNAVAILABLE;case bt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case bt.NOT_FOUND:return Q.NOT_FOUND;case bt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case bt.ABORTED:return Q.ABORTED;case bt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case bt.DATA_LOSS:return Q.DATA_LOSS;default:return be(39323,{code:n})}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new di([4294967295,4294967295],0);function _w(n){const e=GR().encode(n),t=new OT;return t.update(e),new Uint8Array(t.digest())}function Tw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new di([t,r],0),new di([i,a],0)]}class Pg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sc(`Invalid padding: ${t}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=di.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(di.fromNumber(r)));return i.compare(QR)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_w(e),[r,i]=Tw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Pg(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=_w(e),[r,i]=Tw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fh(Ie.min(),i,new dt(Me),Es(),Le())}}class Hc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hc(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class bE{constructor(e,t){this.targetId=e,this.Ce=t}}class kE{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Ew{constructor(){this.ve=0,this.Fe=bw(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be(38017,{changeType:a})}}),new Hc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=bw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=_d(),this.He=_d(),this.Ye=new dt(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Nm(a))if(r===0){const l=new ve(a.path);this.et(t,l,rn.newNoDocument(l,Ie.min()))}else qe(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=gi(r).toUint8Array()}catch(f){if(f instanceof YT)return La("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Pg(l,i,a)}catch(f){return La(f instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Nm(u.target)){const f=new ve(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,rn.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let r=Le();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new Fh(e,t,this.Ye,this.je,r);return this.je=Es(),this.Je=_d(),this.He=_d(),this.Ye=new dt(Me),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ew,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ew),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _d(){return new dt(ve.comparator)}function bw(){return new dt(ve.comparator)}const XR={asc:"ASCENDING",desc:"DESCENDING"},JR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZR={and:"AND",or:"OR"};class ej{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rm(n,e){return n.useProto3Json||jh(e)?e:{value:e}}function ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tj(n,e){return ih(n,e.toTimestamp())}function $r(n){return qe(!!n,49232),Ie.fromTimestamp(function(t){const r=mi(t);return new We(r.seconds,r.nanos)}(n))}function Rg(n,e){return jm(n,e).canonicalString()}function jm(n,e){const t=function(i){return new et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function IE(n){const e=et.fromString(n);return qe(RE(e),10190,{key:e.toString()}),e}function Dm(n,e){return Rg(n.databaseId,e.path)}function Hp(n,e){const t=IE(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(CE(t))}function AE(n,e){return Rg(n.databaseId,e)}function nj(n){const e=IE(n);return e.length===4?et.emptyPath():CE(e)}function Vm(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CE(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kw(n,e,t){return{name:Dm(n,e),fields:t.value.mapValue.fields}}function rj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(m,y){return m.useProto3Json?(qe(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const y=m.code===void 0?Q.UNKNOWN:EE(m.code);return new ce(y,m.message||"")}(l);t=new kE(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hp(n,r.document.name),a=$r(r.document.updateTime),l=r.document.createTime?$r(r.document.createTime):Ie.min(),u=new _n({mapValue:{fields:r.document.fields}}),f=rn.newFoundDocument(i,a,l,u),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Ld(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hp(n,r.document),a=r.readTime?$r(r.readTime):Ie.min(),l=rn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Ld([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hp(n,r.document),a=r.removedTargetIds||[];t=new Ld([],a,i,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new HR(i,a),u=r.targetId;t=new bE(u,l)}}return t}function sj(n,e){let t;if(e instanceof qc)t={update:kw(n,e.key,e.value)};else if(e instanceof Cg)t={delete:Dm(n,e.key)};else if(e instanceof ki)t={update:kw(n,e.key,e.data),updateMask:fj(e.fieldMask)};else{if(!(e instanceof $R))return be(16599,{Vt:e.type});t={verify:Dm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof rh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:tj(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)}(n,e.precondition)),t}function ij(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?$r(i.updateTime):$r(a);return l.isEqual(Ie.min())&&(l=$r(a)),new UR(l,i.transformResults||[])}(t,e))):[]}function oj(n,e){return{documents:[AE(n,e.path)]}}function aj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AE(n,i);const a=function(m){if(m.length!==0)return PE(Er.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(y=>function(T){return{field:wa(T.field),direction:uj(T.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Rm(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:i}}function lj(n){let e=nj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qe(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const T=NE(w);return T instanceof Er&&oE(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(w){return w.map(T=>function(C){return new Ac(_a(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let u=null;t.limit&&(u=function(w){let T;return T=typeof w=="object"?w.value:w,jh(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,b=w.values||[];return new th(b,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,b=w.values||[];return new th(b,T)}(t.endAt)),IR(e,i,l,a,u,"F",f,m)}function cj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_a(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_a(t.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(n):n.fieldFilter!==void 0?function(t){return kt.create(_a(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(r=>NE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(n):be(30097,{filter:n})}function uj(n){return XR[n]}function dj(n){return JR[n]}function hj(n){return ZR[n]}function wa(n){return{fieldPath:n.canonicalString()}}function _a(n){return Kt.fromServerFormat(n.fieldPath)}function PE(n){return n instanceof kt?function(t){if(t.op==="=="){if(hw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(dw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(dw(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:dj(t.op),value:t.value}}}(n):n instanceof Er?function(t){const r=t.getFilters().map(i=>PE(i));return r.length===1?r[0]:{compositeFilter:{op:hj(t.op),filters:r}}}(n):be(54877,{filter:n})}function fj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,r,i,a=Ie.min(),l=Ie.min(),u=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.yt=e}}function mj(n){const e=lj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.Cn=new yj}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(pi.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class yj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(et.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(jE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ba(0)}static cr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LruGarbageCollector",vj=1048576;function Aw([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class xj{constructor(e){this.Ir=e,this.buffer=new Vt(Aw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Aw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Iw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ja(t)?de(Iw,"Ignoring IndexedDB error during garbage collection: ",t):await Xa(t)}await this.Vr(3e5)})}}class _j{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Rh.ce);const r=new xj(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Sw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,l,u,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,u=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),va()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function Tj(n,e){return new _j(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&pc(r.mutation,i,Dn.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const i=oo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=rc();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Es();const l=fc(),u=function(){return fc()}();return t.forEach((f,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof ki)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),pc(y.mutation,m,y.mutation.getFieldMask(),We.now())):l.set(m.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,y)=>l.set(m,y)),t.forEach((m,y)=>u.set(m,new bj(y,l.get(m)??null))),u))}recalculateAndSaveOverlays(e,t){const r=fc();let i=new dt((l,u)=>l-u),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Dn.empty();y=u.applyToLocalView(m,y),r.set(f,y);const w=(i.get(u.batchId)||Le()).add(f);i=i.insert(u.batchId,w)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,y=f.value,w=mE();y.forEach(T=>{if(!a.has(T)){const b=_E(t.get(T),r.get(T));b!==null&&w.set(T,b),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):X.resolve(oo());let u=bc,f=a;return l.next(m=>X.forEach(m,(y,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),a.get(y)?X.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{f=f.insert(y,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Le())).next(y=>({batchId:u,changes:pE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=rc();return this.indexManager.getCollectionParents(e,a).next(u=>X.forEach(u,f=>{const m=function(w,T){return new Za(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(y=>{y.forEach((w,T)=>{l=l.insert(w,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,rn.newInvalidDocument(y)))});let u=rc();return l.forEach((f,m)=>{const y=a.get(f);y!==void 0&&pc(y.mutation,m,Dn.empty(),We.now()),Mh(t,m)&&(u=u.insert(f,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:mj(i.bundledQuery),readTime:$r(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.overlays=new dt(ve.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oo();return X.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=oo(),a=t.length+1,l=new ve(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new dt((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=oo(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=oo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>u.set(m,y)),!(u.size()>=i)););return X.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new qR(t,r));let a=this.qr.get(t);a===void 0&&(a=Le(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ut(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Ut(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ve(new et([])),r=new Ut(t,e),i=new Ut(t,e+1),a=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new et([])),r=new Ut(t,e),i=new Ut(t,e+1);let a=Le();return this.Ur.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ut(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new WR(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Ut(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Tg:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(Me);return t.forEach(i=>{const a=new Ut(i,0),l=new Ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{r=r.add(u.Yr)})}),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Ut(new ve(a),0);let u=new Vt(Me);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(f.Yr)),!0)},l),X.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(t.mutations,i=>{const a=new Ut(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Ut(t,0),i=this.Zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.ri=e,this.docs=function(){return new dt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Es();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rn.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Es();const l=t.path,u=new ve(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||iR(sR(y),r)<=0||(i.has(y.key)||Mh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,i){be(9500)}ii(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Pj(this)}getSize(e){return X.resolve(this.size)}}class Pj extends Ej{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.persistence=e,this.si=new bo(t=>kg(t),Sg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new jg,this.targetCount=0,this.ai=Ba.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ba(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),X.waitFor(a).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new Aj,this.referenceDelegate=e(this),this.Pi=new Rj(this),this.indexManager=new gj,this.remoteDocumentCache=function(i){return new Nj(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new pj(t),this.Ii=new Sj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ij,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Cj(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const i=new jj(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return X.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class jj extends aR{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Ri=new jg,this.Vi=null}static mi(e){return new Dg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,r=>{const i=ve.fromPath(r);return this.gi(e,i).next(a=>{a||t.removeEntry(i,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.pi=new bo(r=>uR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Tj(this,t)}static mi(e,t){return new oh(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return X.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(r++,a.removeEntry(l,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dd(e.data.value)),t}br(e,t,r){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Le(),i=Le();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Vg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return aC()?8:lR(on())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Dj;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(va()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(va()<=Ve.DEBUG&&de("QueryEngine","Query:",xa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(va()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):X.resolve())}ys(e,t){if(gw(t))return X.resolve(null);let r=zr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nh(t,null,"F"),r=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Le(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,u);return this.Cs(t,m,l,f.readTime)?this.ys(e,nh(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,i){return gw(t)||i.isEqual(Ie.min())?X.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,i)?X.resolve(null):(va()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(t)),this.vs(e,l,t,rR(i,bc)).next(u=>u))})}Ds(e,t){let r=new Vt(hE(e));return t.forEach((i,a)=>{Mh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return va()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",xa(t)),this.ps.getDocumentsMatchingQuery(e,t,pi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="LocalStore",Mj=3e8;class Lj{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new dt(Me),this.xs=new bo(a=>kg(a),Sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Oj(n,e,t,r){return new Lj(n,e,t,r)}async function VE(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=Le();for(const m of i){l.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:l,addedBatchIds:u}))})})}function Fj(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,f,m,y){const w=m.batch,T=w.keys();let b=X.resolve();return T.forEach(C=>{b=b.next(()=>y.getEntry(f,C)).next(k=>{const I=m.docVersions.get(C);qe(I!==null,48541),k.version.compareTo(I)<0&&(w.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),y.addEntry(k)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Le();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ME(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Uj(n,e){const t=Ae(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((y,w)=>{const T=i.get(w);if(!T)return;u.push(t.Pi.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,y.addedDocuments,w)));let b=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(Qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),i=i.insert(w,b),function(k,I,L){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Mj?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,b,y)&&u.push(t.Pi.updateTargetData(a,b))});let f=Es(),m=Le();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),u.push(Bj(a,l,e.documentUpdates).next(y=>{f=y.ks,m=y.qs})),!r.isEqual(Ie.min())){const y=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(y)}return X.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ms=i,a))}function Bj(n,e,t){let r=Le(),i=Le();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Es();return t.forEach((u,f)=>{const m=a.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):de(Mg,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)}),{ks:l,qs:i}})}function zj(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $j(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(a=>a?(i=a,X.resolve(i)):t.Pi.allocateTargetId(r).next(l=>(i=new oi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Mm(n,e,t){const r=Ae(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ja(l))throw l;de(Mg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Cw(n,e,t){const r=Ae(n);let i=Ie.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,m,y){const w=Ae(f),T=w.xs.get(y);return T!==void 0?X.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,y)}(r,l,zr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Ie.min(),t?a:Le())).next(u=>(Wj(r,CR(e),u),{documents:u,Qs:a})))}function Wj(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class Nw{constructor(){this.activeTargetIds=VR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qj{constructor(){this.Mo=new Nw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="ConnectivityMonitor";class Rw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Pw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function Lm(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RestConnection",Kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const l=Lm(),u=this.zo(e,t.toUriEncodedString());de(Kp,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:m}=new URL(u),y=Ka(m);return this.Jo(e,u,f,r,y).then(w=>(de(Kp,`Received RPC '${e}' ${l}: `,w),w),w=>{throw La(Kp,`RPC '${e}' ${l} failed with error: `,w,"url: ",u,"request:",r),w})}Ho(e,t,r,i,a,l){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const r=Kj[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class Yj extends Gj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Lm();return new Promise((u,f)=>{const m=new FT;m.setWithCredentials(!0),m.listenOnce(UT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case jd.NO_ERROR:const w=m.getResponseJson();de(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),u(w);break;case jd.TIMEOUT:de(en,`RPC '${e}' ${l} timed out`),f(new ce(Q.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const T=m.getStatus();if(de(en,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const k=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(U)>=0?U:Q.UNKNOWN}(C.status);f(new ce(k,C.message))}else f(new ce(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ce(Q.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{de(en,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(i);de(en,`RPC '${e}' ${l} sending request:`,i),m.send(t,"POST",y,r,15)})}T_(e,t,r){const i=Lm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$T(),u=zT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");de(en,`Creating RPC '${e}' stream ${i}: ${y}`,f);const w=l.createWebChannel(y,f);this.I_(w);let T=!1,b=!1;const C=new Qj({Yo:I=>{b?de(en,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(T||(de(en,`Opening RPC '${e}' stream ${i} transport.`),w.open(),T=!0),de(en,`RPC '${e}' stream ${i} sending:`,I),w.send(I))},Zo:()=>w.close()}),k=(I,L,U)=>{I.listen(L,H=>{try{U(H)}catch(J){setTimeout(()=>{throw J},0)}})};return k(w,nc.EventType.OPEN,()=>{b||(de(en,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),k(w,nc.EventType.CLOSE,()=>{b||(b=!0,de(en,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(w))}),k(w,nc.EventType.ERROR,I=>{b||(b=!0,La(en,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new ce(Q.UNAVAILABLE,"The operation could not be completed")))}),k(w,nc.EventType.MESSAGE,I=>{var L;if(!b){const U=I.data[0];qe(!!U,16349);const H=U,J=(H==null?void 0:H.error)||((L=H[0])==null?void 0:L.error);if(J){de(en,`RPC '${e}' stream ${i} received error:`,J);const ee=J.status;let ae=function(N){const M=bt[N];if(M!==void 0)return EE(M)}(ee),D=J.message;ae===void 0&&(ae=Q.INTERNAL,D="Unknown error status: "+ee+" with message "+J.message),b=!0,C.a_(new ce(ae,D)),w.close()}else de(en,`RPC '${e}' stream ${i} received:`,U),C.u_(U)}}),k(u,BT.STAT_EVENT,I=>{I.stat===km.PROXY?de(en,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===km.NOPROXY&&de(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){return new ej(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="PersistentStream";class OE{constructor(e,t,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Ts(t.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new ce(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(de(jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xj extends OE{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rj(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?$r(l.readTime):Ie.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Vm(this.serializer),t.addTarget=function(a,l){let u;const f=l.target;if(u=Nm(f)?{documents:oj(a,f)}:{query:aj(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=SE(a,l.resumeToken);const m=Rm(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=ih(a,l.snapshotVersion.toTimestamp());const m=Rm(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const r=cj(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Vm(this.serializer),t.removeTarget=e,this.q_(t)}}class Jj extends OE{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ij(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sj(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{}class eD extends Zj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,jm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Q.UNKNOWN,a.toString())})}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,jm(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Q.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class tD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class nD{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{ko(this)&&(de(yo,"Restarting streams for network reachability change."),await async function(f){const m=Ae(f);m.Ea.add(4),await Kc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Bh(m)}(this))})}),this.Ra=new tD(r,i)}}async function Bh(n){if(ko(n))for(const e of n.da)await e(!0)}async function Kc(n){for(const e of n.da)await e(!1)}function FE(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ug(t)?Fg(t):el(t).O_()&&Og(t,e))}function Lg(n,e){const t=Ae(n),r=el(t);t.Ia.delete(e),r.O_()&&UE(t,e),t.Ia.size===0&&(r.O_()?r.L_():ko(t)&&t.Ra.set("Unknown"))}function Og(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).Y_(e)}function UE(n,e){n.Va.Ue(e),el(n).Z_(e)}function Fg(n){n.Va=new YR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Ra.ua()}function Ug(n){return ko(n)&&!el(n).x_()&&n.Ia.size>0}function ko(n){return Ae(n).Ea.size===0}function BE(n){n.Va=void 0}async function rD(n){n.Ra.set("Online")}async function sD(n){n.Ia.forEach((e,t)=>{Og(n,e)})}async function iD(n,e){BE(n),Ug(n)?(n.Ra.ha(e),Fg(n)):n.Ra.set("Unknown")}async function oD(n,e,t){if(n.Ra.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(r){de(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(n,r)}else if(e instanceof Ld?n.Va.Ze(e):e instanceof bE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await ME(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,m)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),UE(a,f);const w=new oi(y.target,f,m,y.sequenceNumber);Og(a,w)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){de(yo,"Failed to raise snapshot:",r),await ah(n,r)}}async function ah(n,e,t){if(!Ja(e))throw e;n.Ea.add(1),await Kc(n),n.Ra.set("Offline"),t||(t=()=>ME(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(yo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Bh(n)})}function zE(n,e){return e().catch(t=>ah(n,t,e))}async function zh(n){const e=Ae(n),t=vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tg;for(;aD(e);)try{const i=await zj(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,lD(e,i)}catch(i){await ah(e,i)}$E(e)&&WE(e)}function aD(n){return ko(n)&&n.Ta.length<10}function lD(n,e){n.Ta.push(e);const t=vi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $E(n){return ko(n)&&!vi(n).x_()&&n.Ta.length>0}function WE(n){vi(n).start()}async function cD(n){vi(n).ra()}async function uD(n){const e=vi(n);for(const t of n.Ta)e.ea(t.mutations)}async function dD(n,e,t){const r=n.Ta.shift(),i=Ng.from(r,e,t);await zE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await zh(n)}async function hD(n,e){e&&vi(n).X_&&await async function(r,i){if(function(l){return KR(l)&&l!==Q.ABORTED}(i.code)){const a=r.Ta.shift();vi(r).B_(),await zE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await zh(r)}}(n,e),$E(n)&&WE(n)}async function Dw(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),de(yo,"RemoteStore received new credentials");const r=ko(t);t.Ea.add(3),await Kc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bh(t)}async function fD(n,e){const t=Ae(n);e?(t.Ea.delete(2),await Bh(t)):e||(t.Ea.add(2),await Kc(t),t.Ra.set("Unknown"))}function el(n){return n.ma||(n.ma=function(t,r,i){const a=Ae(t);return a.sa(),new Xj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:rD.bind(null,n),t_:sD.bind(null,n),r_:iD.bind(null,n),H_:oD.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Ug(n)?Fg(n):n.Ra.set("Unknown")):(await n.ma.stop(),BE(n))})),n.ma}function vi(n){return n.fa||(n.fa=function(t,r,i){const a=Ae(t);return a.sa(),new Jj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:cD.bind(null,n),r_:hD.bind(null,n),ta:uD.bind(null,n),na:dD.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await zh(n)):(await n.fa.stop(),n.Ta.length>0&&(de(yo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Bg(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,e){if(Ts("AsyncQueue",`${e}: ${n}`),Ja(n))return new ce(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(e){return new Na(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=rc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ga=new dt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class za{constructor(e,t,r,i,a,l,u,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new za(e,t,Na.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mD{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ae(t),a=i.queries;i.queries=Mw(),a.forEach((l,u)=>{for(const f of u.Sa)f.onError(r)})})(this,new ce(Q.ABORTED,"Firestore shutting down"))}}function Mw(){return new bo(n=>dE(n),Vh)}async function qE(n,e){const t=Ae(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new pD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=zg(l,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&$g(t)}async function HE(n,e){const t=Ae(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gD(n,e){const t=Ae(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&$g(t)}function yD(n,e,t){const r=Ae(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function $g(n){n.Ca.forEach(e=>{e.next()})}var Om,Lw;(Lw=Om||(Om={})).Ma="default",Lw.Cache="cache";class KE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.key=e}}class QE{constructor(e){this.key=e}}class vD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=hE(e),this.tu=new Na(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Vw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{const T=i.get(y),b=Mh(this.query,w)?w:null,C=!!T&&this.mutatedKeys.has(T.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let I=!1;T&&b?T.data.isEqual(b.data)?C!==k&&(r.track({type:3,doc:b}),I=!0):this.su(T,b)||(r.track({type:2,doc:b}),I=!0,(f&&this.eu(b,f)>0||m&&this.eu(b,m)<0)&&(u=!0)):!T&&b?(r.track({type:0,doc:b}),I=!0):T&&!b&&(r.track({type:1,doc:T}),I=!0,(f||m)&&(u=!0)),I&&(b?(l=l.add(b),a=k?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((y,w)=>function(b,C){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:I})}};return k(b)-k(C)}(y.type,w.type)||this.eu(y.doc,w.doc)),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,m=f!==this.Za;return this.Za=f,l.length!==0||m?{snapshot:new za(this.query,e.tu,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new QE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new GE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wg="SyncEngine";class xD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wD{constructor(e){this.key=e,this.hu=!1}}class _D{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new bo(u=>dE(u),Vh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ve.comparator),this.Au=new Map,this.Ru=new jg,this.Vu={},this.mu=new Map,this.fu=Ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TD(n,e,t=!0){const r=tb(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await YE(r,e,t,!0),i}async function ED(n,e){const t=tb(n);await YE(t,e,!0,!1)}async function YE(n,e,t,r){const i=await $j(n.localStore,zr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await bD(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&FE(n.remoteStore,i),u}async function bD(n,e,t,r,i){n.pu=(w,T,b)=>async function(k,I,L,U){let H=I.view.ru(L);H.Cs&&(H=await Cw(k.localStore,I.query,!1).then(({documents:D})=>I.view.ru(D,H)));const J=U&&U.targetChanges.get(I.targetId),ee=U&&U.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(H,k.isPrimaryClient,J,ee);return Fw(k,I.targetId,ae.au),ae.snapshot}(n,w,T,b);const a=await Cw(n.localStore,e,!0),l=new vD(e,a.Qs),u=l.ru(a.documents),f=Hc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=l.applyChanges(u,n.isPrimaryClient,f);Fw(n,t,m.au);const y=new xD(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function kD(n,e,t){const r=Ae(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(l=>!Vh(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Lg(r.remoteStore,i.targetId),Fm(r,i.targetId)}).catch(Xa)):(Fm(r,i.targetId),await Mm(r.localStore,i.targetId,!0))}async function SD(n,e){const t=Ae(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(t.remoteStore,r.targetId))}async function ID(n,e,t){const r=DD(n);try{const i=await function(l,u){const f=Ae(l),m=We.now(),y=u.reduce((b,C)=>b.add(C.key),Le());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=Es(),k=Le();return f.Ns.getEntries(b,y).next(I=>{C=I,C.forEach((L,U)=>{U.isValidDocument()||(k=k.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,C)).next(I=>{w=I;const L=[];for(const U of u){const H=zR(U,w.get(U.key).overlayedDocument);H!=null&&L.push(new ki(U.key,H,rE(H.value.mapValue),Jn.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,L,u)}).next(I=>{T=I;const L=I.applyToLocalDocumentSet(w,k);return f.documentOverlayCache.saveOverlays(b,I.batchId,L)})}).then(()=>({batchId:T.batchId,changes:pE(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let m=l.Vu[l.currentUser.toKey()];m||(m=new dt(Me)),m=m.insert(u,f),l.Vu[l.currentUser.toKey()]=m}(r,i.batchId,t),await Gc(r,i.changes),await zh(r.remoteStore)}catch(i){const a=zg(i,"Failed to persist write");t.reject(a)}}async function XE(n,e){const t=Ae(n);try{const r=await Uj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?qe(l.hu,14607):i.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))}),await Gc(t,r,e)}catch(r){await Xa(r)}}function Ow(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=Ae(l);f.onlineState=u;let m=!1;f.queries.forEach((y,w)=>{for(const T of w.Sa)T.va(u)&&(m=!0)}),m&&$g(f)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AD(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new dt(ve.comparator);l=l.insert(a,rn.newNoDocument(a,Ie.min()));const u=Le().add(a),f=new Fh(Ie.min(),new Map,new dt(Me),l,u);await XE(r,f),r.du=r.du.remove(a),r.Au.delete(e),qg(r)}else await Mm(r.localStore,e,!1).then(()=>Fm(r,e,t)).catch(Xa)}async function CD(n,e){const t=Ae(n),r=e.batch.batchId;try{const i=await Fj(t.localStore,e);ZE(t,r,null),JE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(t,i)}catch(i){await Xa(i)}}async function ND(n,e,t){const r=Ae(n);try{const i=await function(l,u){const f=Ae(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,u).next(w=>(qe(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);ZE(r,e,t),JE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gc(r,i)}catch(i){await Xa(i)}}function JE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function ZE(n,e,t){const r=Ae(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Fm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||eb(n,r)})}function eb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Lg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),qg(n))}function Fw(n,e,t){for(const r of t)r instanceof GE?(n.Ru.addReference(r.key,e),PD(n,r)):r instanceof QE?(de(Wg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||eb(n,r.key)):be(19791,{wu:r})}function PD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(Wg,"New document in limbo: "+t),n.Eu.add(r),qg(n))}function qg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(et.fromString(e)),r=n.fu.next();n.Au.set(r,new wD(t)),n.du=n.du.insert(t,r),FE(n.remoteStore,new oi(zr(Ig(t.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function Gc(n,e,t){const r=Ae(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,f)=>{l.push(r.pu(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){i.push(m);const w=Vg.As(f.targetId,m);a.push(w)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(f,m){const y=Ae(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(m,T=>X.forEach(T.Es,b=>y.persistence.referenceDelegate.addReference(w,T.targetId,b)).next(()=>X.forEach(T.ds,b=>y.persistence.referenceDelegate.removeReference(w,T.targetId,b)))))}catch(w){if(!Ja(w))throw w;de(Mg,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const b=y.Ms.get(T),C=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(T,k)}}}(r.localStore,a))}async function RD(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){de(Wg,"User change. New user:",e.toKey());const r=await VE(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(f=>{f.reject(new ce(Q.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(t,r.Ls)}}function jD(n,e){const t=Ae(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let i=Le();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function tb(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AD.bind(null,e),e.Pu.H_=gD.bind(null,e.eventManager),e.Pu.yu=yD.bind(null,e.eventManager),e}function DD(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Oj(this.persistence,new Vj,e.initialUser,this.serializer)}Cu(e){return new DE(Dg.mi,this.serializer)}Du(e){return new qj}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class VD extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qe(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wj(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new DE(r=>oh.mi(r,t),this.serializer)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mD}()}createDatastore(e){const t=Uh(e.databaseInfo.databaseId),r=function(a){return new Yj(a)}(e.databaseInfo);return function(a,l,u,f){return new eD(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new nD(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Ow(this.syncEngine,t,0),function(){return Rw.v()?new Rw:new Hj}())}createSyncEngine(e,t){return function(i,a,l,u,f,m,y){const w=new _D(i,a,l,u,f,m);return y&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ae(i);de(yo,"RemoteStore shutting down."),a.Ea.add(5),await Kc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class MD{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{de(xi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(de(xi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=zg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qp(n,e){n.asyncQueue.verifyOperationInProgress(),de(xi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Uw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LD(n);de(xi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Dw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Dw(e.remoteStore,i)),n._onlineComponents=e}async function LD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(xi,"Using user provided OfflineComponentProvider");try{await Qp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;La("Error using user provided cache. Falling back to memory cache: "+t),await Qp(n,new lh)}}else de(xi,"Using default OfflineComponentProvider"),await Qp(n,new VD(void 0));return n._offlineComponents}async function rb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(xi,"Using user provided OnlineComponentProvider"),await Uw(n,n._uninitializedComponentsProvider._online)):(de(xi,"Using default OnlineComponentProvider"),await Uw(n,new Um))),n._onlineComponents}function OD(n){return rb(n).then(e=>e.syncEngine)}async function sb(n){const e=await rb(n),t=e.eventManager;return t.onListen=TD.bind(null,e.syncEngine),t.onUnlisten=kD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ED.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SD.bind(null,e.syncEngine),t}function FD(n,e,t={}){const r=new gs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,m){const y=new nb({next:T=>{y.Nu(),l.enqueueAndForget(()=>HE(a,w));const b=T.docs.has(u);!b&&T.fromCache?m.reject(new ce(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&f&&f.source==="server"?m.reject(new ce(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new KE(Ig(u.path),y,{includeMetadataChanges:!0,qa:!0});return qE(a,w)}(await sb(n),n.asyncQueue,e,t,r)),r.promise}function UD(n,e,t={}){const r=new gs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,m){const y=new nb({next:T=>{y.Nu(),l.enqueueAndForget(()=>HE(a,w)),T.fromCache&&f.source==="server"?m.reject(new ce(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new KE(u,y,{includeMetadataChanges:!0,qa:!0});return qE(a,w)}(await sb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firestore.googleapis.com",zw=!0;class $w{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ob,this.ssl=zw}else this.host=e.host,this.ssl=e.ssl??zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vj)throw new ce(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qP;switch(r.type){case"firstParty":return new QP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Bw.get(t);r&&(de("ComponentProvider","Removing Datastore"),Bw.delete(t),r.terminate())}(this),Promise.resolve()}}function BD(n,e,t,r={}){var m;n=Tr(n,$h);const i=Ka(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(G_(`https://${u}`),Q_("Firestore",!0)),a.host!==ob&&a.host!==u&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!fi(f,l)&&(n._setSettings(f),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=nn.MOCK_USER;else{y=ZA(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ce(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new nn(T)}n._authCredentials=new HP(new qT(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Wc(t,xt._jsonSchema))return new xt(e,r||null,new ve(et.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:St("string",xt._jsonSchemaVersion),referencePath:St("string")};class hi extends Si{constructor(e,t,r){super(e,t,Ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ve(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Yp(n,e,...t){if(n=wt(n),HT("collection","path",e),n instanceof $h){const r=et.fromString(e,...t);return nw(r),new hi(n,null,r)}{if(!(n instanceof xt||n instanceof hi))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return nw(r),new hi(n.firestore,null,r)}}function ai(n,e,...t){if(n=wt(n),arguments.length===1&&(e=_g.newId()),HT("doc","path",e),n instanceof $h){const r=et.fromString(e,...t);return tw(r),new xt(n,null,new ve(r))}{if(!(n instanceof xt||n instanceof hi))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return tw(r),new xt(n.firestore,n instanceof hi?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class qw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LE(this,"async_queue_retry"),this._c=()=>{const r=Gp();r&&de(Ww,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new gs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ja(e))throw e;de(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",Hw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Bg.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&be(47125,{Pc:Hw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class So extends $h{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qw(e),this._firestoreClient=void 0,await e}}}function zD(n,e){const t=typeof n=="object"?n:cg(),r=typeof n=="string"?n:Zd,i=Eo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=XA("firestore");a&&BD(i,...a)}return i}function Hg(n){if(n._terminated)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$D(n),n._firestoreClient}function $D(n){var r,i,a;const e=n._freezeSettings(),t=function(u,f,m,y){return new fR(u,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ib(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new MD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Qt.fromBase64String(e))}catch(t){throw new ce(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:St("string",Yn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(Wc(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:St("string",Wr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wc(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new qr(e.vectorValues);throw new ce(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:St("string",qr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^__.*__$/;class qD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}}class ab{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:n})}}class Gg{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lb(this.Ac)&&WD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Uh(e)}Cc(e,t,r,i=!1){return new Gg({Ac:e,methodName:t,Dc:r,path:Kt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(n){const e=n._freezeSettings(),t=Uh(n._databaseId);return new HD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cb(n,e,t,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Qg("Data must be an object, but it was:",l,r);const u=ub(r,l);let f,m;if(a.merge)f=new Dn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=Bm(e,w,t);if(!l.contains(T))throw new ce(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hb(y,T)||y.push(T)}f=new Dn(y),m=l.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=l.fieldTransforms;return new qD(new _n(u),f,m)}class Hh extends Kg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function KD(n,e,t,r){const i=n.Cc(1,e,t);Qg("Data must be an object, but it was:",i,r);const a=[],l=_n.empty();bi(r,(f,m)=>{const y=Yg(e,f,t);m=wt(m);const w=i.yc(y);if(m instanceof Hh)a.push(y);else{const T=Qc(m,w);T!=null&&(a.push(y),l.set(y,T))}});const u=new Dn(a);return new ab(l,u,i.fieldTransforms)}function GD(n,e,t,r,i,a){const l=n.Cc(1,e,t),u=[Bm(e,r,t)],f=[i];if(a.length%2!=0)throw new ce(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)u.push(Bm(e,a[T])),f.push(a[T+1]);const m=[],y=_n.empty();for(let T=u.length-1;T>=0;--T)if(!hb(m,u[T])){const b=u[T];let C=f[T];C=wt(C);const k=l.yc(b);if(C instanceof Hh)m.push(b);else{const I=Qc(C,k);I!=null&&(m.push(b),y.set(b,I))}}const w=new Dn(m);return new ab(y,w,l.fieldTransforms)}function QD(n,e,t,r=!1){return Qc(t,n.Cc(r?4:3,e))}function Qc(n,e){if(db(n=wt(n)))return Qg("Unsupported field value:",e,n),ub(n,e);if(n instanceof Kg)return function(r,i){if(!lb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=Qc(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=We.fromDate(r);return{timestampValue:ih(i.serializer,a)}}if(r instanceof We){const a=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,a)}}if(r instanceof Wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:SE(i.serializer,r._byteString)};if(r instanceof xt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return function(l,u){return{mapValue:{fields:{[tE]:{stringValue:nE},[eh]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ag(u.serializer,m)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Ph(r)}`)}(n,e)}function ub(n,e){const t={};return QT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(n,(r,i)=>{const a=Qc(i,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function db(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof Wr||n instanceof Yn||n instanceof xt||n instanceof Kg||n instanceof qr)}function Qg(n,e,t){if(!db(t)||!KT(t)){const r=Ph(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Bm(n,e,t){if((e=wt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Yg(n,e);throw ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const YD=new RegExp("[~\\*/\\[\\]]");function Yg(n,e,t){if(e.search(YD)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ch(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ce(Q.INVALID_ARGUMENT,u+n+f)}function hb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XD extends fb{data(){return super.data()}}function Kh(n,e){return typeof e=="string"?Yg(n,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class Jg extends Xg{}function Kw(n,e,...t){let r=[];e instanceof Xg&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof Zg).length,u=a.filter(f=>f instanceof Gh).length;if(l>1||l>0&&u>0)throw new ce(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Gh extends Jg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gh(e,t,r)}_apply(e){const t=this._parse(e);return pb(e._query,t),new Si(e.firestore,e.converter,Pm(e._query,t))}_parse(e){const t=qh(e.firestore);return function(a,l,u,f,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ce(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Yw(w,y);const C=[];for(const k of w)C.push(Qw(f,a,k));T={arrayValue:{values:C}}}else T=Qw(f,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Yw(w,y),T=QD(u,l,w,y==="in"||y==="not-in");return kt.create(m,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ed(n,e,t){const r=e,i=Kh("where",n);return Gh._create(i,r,t)}class Zg extends Xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)pb(l,f),l=Pm(l,f)}(e._query,t),new Si(e.firestore,e.converter,Pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends Jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ey(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new ce(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(a,l)}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Za(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Gw(n,e="asc"){const t=e,r=Kh("orderBy",n);return ey._create(r,t)}class ty extends Jg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ty(e,t,r)}_apply(e){return new Si(e.firestore,e.converter,nh(e._query,this._limit,this._limitType))}}function ZD(n){return nR("limit",n),ty._create("limit",n,"F")}function Qw(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new ce(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(e)&&t.indexOf("/")!==-1)throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(et.fromString(t));if(!ve.isDocumentKey(r))throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uw(n,new ve(r))}if(t instanceof xt)return uw(n,t._key);throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(t)}.`)}function Yw(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class e4{convertValue(e,t="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bi(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[eh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(l=>vt(l.doubleValue));return new qr(t)}convertGeoPoint(e){return new Wr(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const t=mi(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=et.fromString(e);qe(RE(r),9688,{name:e});const i=new Sc(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return i.isEqual(t)||Ts(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends fb{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=co._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:St("string",co._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Od extends co{data(e={}){return super.data(e)}}class Pa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Od(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new Od(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ic(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new Od(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ic(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:t4(u.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){n=Tr(n,xt);const e=Tr(n.firestore,So);return FD(Hg(e),n._key).then(t=>i4(e,n,t))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:St("string",Pa._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class gb extends e4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function Xw(n){n=Tr(n,Si);const e=Tr(n.firestore,So),t=Hg(e),r=new gb(e);return JD(n._query),UD(t,n._query).then(i=>new Pa(e,r,n,i))}function bd(n,e,t){n=Tr(n,xt);const r=Tr(n.firestore,So),i=mb(n.converter,e,t);return Qh(r,[cb(qh(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Jn.none())])}function n4(n,e,t,...r){n=Tr(n,xt);const i=Tr(n.firestore,So),a=qh(i);let l;return l=typeof(e=wt(e))=="string"||e instanceof Wh?GD(a,"updateDoc",n._key,e,t,r):KD(a,"updateDoc",n._key,e),Qh(i,[l.toMutation(n._key,Jn.exists(!0))])}function r4(n){return Qh(Tr(n.firestore,So),[new Cg(n._key,Jn.none())])}function s4(n,e){const t=Tr(n.firestore,So),r=ai(n),i=mb(n.converter,e);return Qh(t,[cb(qh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function Qh(n,e){return function(r,i){const a=new gs;return r.asyncQueue.enqueueAndForget(async()=>ID(await OD(r),i,a)),a.promise}(Hg(n),e)}function i4(n,e,t){const r=t.docs.get(e._key),i=new gb(n);return new co(n,i,e._key,r,new ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ya=i})(Ga),Qr(new _r("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new So(new KP(r.getProvider("auth-internal")),new YP(l,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ce(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(m.options.projectId,y)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Xn(Xx,Jx,e),Xn(Xx,Jx,"esm2020")})();var o4="firebase",a4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(o4,a4,"app");const yb="@firebase/installations",ny="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1e4,xb=`w:${ny}`,wb="FIS_v2",l4="https://firebaseinstallations.googleapis.com/v1",c4=60*60*1e3,u4="installations",d4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new To(u4,d4,h4);function _b(n){return n instanceof br&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb({projectId:n}){return`${l4}/projects/${n}/installations`}function Eb(n){return{token:n.token,requestStatus:2,expiresIn:p4(n.expiresIn),creationTime:Date.now()}}async function bb(n,e){const r=(await e.json()).error;return vo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function f4(n,{refreshToken:e}){const t=kb(n);return t.append("Authorization",m4(e)),t}async function Sb(n){const e=await n();return e.status>=500&&e.status<600?n():e}function p4(n){return Number(n.replace("s","000"))}function m4(n){return`${wb} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Tb(n),i=kb(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={fid:t,authVersion:wb,appId:n.appId,sdkVersion:xb},u={method:"POST",headers:i,body:JSON.stringify(l)},f=await Sb(()=>fetch(r,u));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:Eb(m.authToken)}}else throw await bb("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^[cdef][\w-]{21}$/,zm="";function x4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=w4(n);return v4.test(t)?t:zm}catch{return zm}}function w4(n){return y4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function Cb(n,e){const t=Yh(n);Nb(t,e),_4(t,e)}function Nb(n,e){const t=Ab.get(n);if(t)for(const r of t)r(e)}function _4(n,e){const t=T4();t&&t.postMessage({key:n,fid:e}),E4()}let ao=null;function T4(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=n=>{Nb(n.data.key,n.data.fid)}),ao}function E4(){Ab.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-installations-database",k4=1,xo="firebase-installations-store";let Xp=null;function ry(){return Xp||(Xp=tT(b4,k4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(xo)}}})),Xp}async function dh(n,e){const t=Yh(n),i=(await ry()).transaction(xo,"readwrite"),a=i.objectStore(xo),l=await a.get(t);return await a.put(e,t),await i.done,(!l||l.fid!==e.fid)&&Cb(n,e.fid),e}async function Pb(n){const e=Yh(n),r=(await ry()).transaction(xo,"readwrite");await r.objectStore(xo).delete(e),await r.done}async function Xh(n,e){const t=Yh(n),i=(await ry()).transaction(xo,"readwrite"),a=i.objectStore(xo),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&Cb(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sy(n){let e;const t=await Xh(n.appConfig,r=>{const i=S4(r),a=I4(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===zm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function S4(n){const e=n||{fid:x4(),registrationStatus:0};return Rb(e)}function I4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=A4(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:C4(n)}:{installationEntry:e}}async function A4(n,e){try{const t=await g4(n,e);return dh(n.appConfig,t)}catch(t){throw _b(t)&&t.customData.serverCode===409?await Pb(n.appConfig):await dh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function C4(n){let e=await Jw(n.appConfig);for(;e.registrationStatus===1;)await Ib(100),e=await Jw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await sy(n);return r||t}return e}function Jw(n){return Xh(n,e=>{if(!e)throw vo.create("installation-not-found");return Rb(e)})}function Rb(n){return N4(n)?{fid:n.fid,registrationStatus:0}:n}function N4(n){return n.registrationStatus===1&&n.registrationTime+vb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4({appConfig:n,heartbeatServiceProvider:e},t){const r=R4(n,t),i=f4(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={installation:{sdkVersion:xb,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},f=await Sb(()=>fetch(r,u));if(f.ok){const m=await f.json();return Eb(m)}else throw await bb("Generate Auth Token",f)}function R4(n,{fid:e}){return`${Tb(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(n,e=!1){let t;const r=await Xh(n.appConfig,a=>{if(!jb(a))throw vo.create("not-registered");const l=a.authToken;if(!e&&V4(l))return a;if(l.requestStatus===1)return t=j4(n,e),a;{if(!navigator.onLine)throw vo.create("app-offline");const u=L4(a);return t=D4(n,u),u}});return t?await t:r.authToken}async function j4(n,e){let t=await Zw(n.appConfig);for(;t.authToken.requestStatus===1;)await Ib(100),t=await Zw(n.appConfig);const r=t.authToken;return r.requestStatus===0?iy(n,e):r}function Zw(n){return Xh(n,e=>{if(!jb(e))throw vo.create("not-registered");const t=e.authToken;return O4(t)?{...e,authToken:{requestStatus:0}}:e})}async function D4(n,e){try{const t=await P4(n,e),r={...e,authToken:t};return await dh(n.appConfig,r),t}catch(t){if(_b(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Pb(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await dh(n.appConfig,r)}throw t}}function jb(n){return n!==void 0&&n.registrationStatus===2}function V4(n){return n.requestStatus===2&&!M4(n)}function M4(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+c4}function L4(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function O4(n){return n.requestStatus===1&&n.requestTime+vb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n){const e=n,{installationEntry:t,registrationPromise:r}=await sy(e);return r?r.catch(console.error):iy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n,e=!1){const t=n;return await B4(t),(await iy(t,e)).token}async function B4(n){const{registrationPromise:e}=await sy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){if(!n||!n.options)throw Jp("App Configuration");if(!n.name)throw Jp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Jp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Jp(n){return vo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="installations",$4="installations-internal",W4=n=>{const e=n.getProvider("app").getImmediate(),t=z4(e),r=Eo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},q4=n=>{const e=n.getProvider("app").getImmediate(),t=Eo(e,Db).getImmediate();return{getId:()=>F4(t),getToken:i=>U4(t,i)}};function H4(){Qr(new _r(Db,W4,"PUBLIC")),Qr(new _r($4,q4,"PRIVATE"))}H4();Xn(yb,ny);Xn(yb,ny,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="analytics",K4="firebase_id",G4="origin",Q4=60*1e3,Y4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new To("analytics","Analytics",X4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n){if(!n.startsWith(oy)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return Tn.warn(e.message),""}return n}function Vb(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Z4(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function e5(n,e){const t=Z4("firebase-js-sdk-policy",{createScriptURL:J4}),r=document.createElement("script"),i=`${oy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function t5(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function n5(n,e,t,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await Vb(t)).find(m=>m.measurementId===i);f&&await e[f.appId]}}catch(u){Tn.error(u)}n("config",i,a)}async function r5(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await Vb(t);for(const f of l){const m=u.find(w=>w.measurementId===f),y=m&&e[m.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Tn.error(a)}}function s5(n,e,t,r){async function i(a,...l){try{if(a==="event"){const[u,f]=l;await r5(n,e,t,u,f)}else if(a==="config"){const[u,f]=l;await n5(n,e,t,r,u,f)}else if(a==="consent"){const[u,f]=l;n("consent",u,f)}else if(a==="get"){const[u,f,m]=l;n("get",u,f,m)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){Tn.error(u)}}return i}function i5(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=s5(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function o5(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(oy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=30,l5=1e3;class c5{constructor(e={},t=l5){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Mb=new c5;function u5(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function d5(n){var l;const{appId:e,apiKey:t}=n,r={method:"GET",headers:u5(t)},i=Y4.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let u="";try{const f=await a.json();(l=f.error)!=null&&l.message&&(u=f.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function h5(n,e=Mb,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Vn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Vn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new m5;return setTimeout(async()=>{u.abort()},Q4),Lb({appId:r,apiKey:i,measurementId:a},l,u,e)}async function Lb(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Mb){var u;const{appId:a,measurementId:l}=n;try{await f5(r,e)}catch(f){if(l)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:a,measurementId:l};throw f}try{const f=await d5(n);return i.deleteThrottleMetadata(a),f}catch(f){const m=f;if(!p5(m)){if(i.deleteThrottleMetadata(a),l)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:a,measurementId:l};throw f}const y=Number((u=m==null?void 0:m.customData)==null?void 0:u.httpStatus)===503?Tx(t,i.intervalMillis,a5):Tx(t,i.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(a,w),Tn.debug(`Calling attemptFetch again in ${y} millis`),Lb(n,w,r,i)}}function f5(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function p5(n){if(!(n instanceof br)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class m5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function g5(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,l={...r,send_to:a};n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(){if(X_())try{await J_()}catch(n){return Tn.warn(Vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Tn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v5(n,e,t,r,i,a,l){const u=h5(n);u.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Tn.error(T)),e.push(u);const f=y5().then(T=>{if(T)return r.getId()}),[m,y]=await Promise.all([u,f]);o5(a)||e5(a,m.measurementId),i("js",new Date);const w=(l==null?void 0:l.config)??{};return w[G4]="firebase",w.update=!0,y!=null&&(w[K4]=y),i("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.app=e}_delete(){return delete mc[this.app.options.appId],Promise.resolve()}}let mc={},e1=[];const t1={};let Zp="dataLayer",w5="gtag",n1,Ob,r1=!1;function _5(){const n=[];if(Y_()&&n.push("This is a browser extension environment."),lC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(t.message)}}function T5(n,e,t){_5();const r=n.options.appId;if(!r)throw Vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(mc[r]!=null)throw Vn.create("already-exists",{id:r});if(!r1){t5(Zp);const{wrappedGtag:a,gtagCore:l}=i5(mc,e1,t1,Zp,w5);Ob=a,n1=l,r1=!0}return mc[r]=v5(n,e1,t1,e,n1,Zp,t),new x5(n)}function E5(n=cg()){n=wt(n);const e=Eo(n,hh);return e.isInitialized()?e.getImmediate():b5(n)}function b5(n,e={}){const t=Eo(n,hh);if(t.isInitialized()){const i=t.getImmediate();if(fi(e,t.getOptions()))return i;throw Vn.create("already-initialized")}return t.initialize({options:e})}function k5(n,e,t,r){n=wt(n),g5(Ob,mc[n.app.options.appId],e,t,r).catch(i=>Tn.error(i))}const s1="@firebase/analytics",i1="0.10.18";function S5(){Qr(new _r(hh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return T5(r,i,t)},"PUBLIC")),Qr(new _r("analytics-internal",n,"PRIVATE")),Xn(s1,i1),Xn(s1,i1,"esm2020");function n(e){try{const t=e.getProvider(hh).getImmediate();return{logEvent:(r,i,a)=>k5(t,r,i,a)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}S5();const I5={apiKey:"AIzaSyCgnswzwmQotd6h0Bm4hRqWBX4bLtBzEyY",authDomain:"fitvision-318e5.firebaseapp.com",projectId:"fitvision-318e5",storageBucket:"fitvision-318e5.firebasestorage.app",messagingSenderId:"209082967266",appId:"1:209082967266:web:f5f4902a3dc06121b2eabb",measurementId:"G-2XS2B9LMJH"},ay=nT(I5),Xl=$P(ay),Ur=zD(ay);E5(ay);const Fb=R.createContext(void 0),Is=()=>{const n=R.useContext(Fb);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},A5=({children:n})=>{const[e,t]=R.useState(null),[r,i]=R.useState(null),[a,l]=R.useState(!0);R.useEffect(()=>{const I=setTimeout(()=>{a&&(console.warn("Auth initialization timeout - proceeding without auth"),l(!1))},1e4);return()=>clearTimeout(I)},[a]);const u=async()=>{const I=new hs;try{const L=await J2(Xl,I);await w(L.user)}catch(L){throw console.error("Error signing in with Google:",L),L}},f=async(I,L)=>{try{const U=await S2(Xl,I,L);await T(U.user.uid)}catch(U){throw console.error("Error signing in with email:",U),U}},m=async(I,L,U)=>{try{const H=await k2(Xl,I,L);await A2(H.user,{displayName:U}),await w(H.user)}catch(H){throw console.error("Error signing up with email:",H),H}},y=async()=>{try{await R2(Xl),i(null)}catch(I){throw console.error("Error signing out:",I),I}},w=async I=>{const L=ai(Ur,"users",I.uid),U=await uh(L),H=new Date;if(U.exists()){const J=U.data(),ee={...J,lastLoginAt:H,displayName:I.displayName||J.displayName,photoURL:I.photoURL||J.photoURL};await bd(L,ee,{merge:!0}),i(ee)}else{const J={uid:I.uid,email:I.email||"",displayName:I.displayName||"User",photoURL:I.photoURL||void 0,createdAt:H,lastLoginAt:H,preferences:{units:"metric",notifications:!0,theme:"light"},stats:{totalWorkouts:0,totalReps:0,totalCalories:0,totalMinutes:0,currentStreak:0,bestStreak:0}};await bd(L,J),i(J)}},T=async I=>{const L=ai(Ur,"users",I);await bd(L,{lastLoginAt:new Date},{merge:!0})},b=async I=>{if(!e||!r)return;const L=ai(Ur,"users",e.uid),U={...r,...I};await bd(L,U,{merge:!0}),i(U)},C=async I=>{const L=ai(Ur,"users",I.uid),U=await uh(L);U.exists()&&i(U.data())};R.useEffect(()=>{let I;return(async()=>{try{I=P2(Xl,async U=>{if(t(U),U)try{await C(U)}catch(H){console.error("Error loading user profile:",H)}else i(null);l(!1)})}catch(U){console.error("Error initializing auth:",U),l(!1)}})(),()=>{I&&I()}},[]);const k={user:e,userProfile:r,loading:a,signInWithGoogle:u,signInWithEmail:f,signUpWithEmail:m,logout:y,updateUserProfile:b};return d.jsx(Fb.Provider,{value:k,children:!a&&n})},Ub=R.createContext(void 0),C5=({children:n})=>{const[e,t]=R.useState("light"),[r,i]=R.useState(!1);R.useEffect(()=>{const f=localStorage.getItem("theme")||"light";t(f),a(f)},[]),R.useEffect(()=>{if(e==="auto"){const f=window.matchMedia("(prefers-color-scheme: dark)"),m=()=>a("auto");return f.addEventListener("change",m),()=>f.removeEventListener("change",m)}},[e]);const a=f=>{const m=document.documentElement;let y=!1;f==="dark"?y=!0:f==="auto"&&(y=window.matchMedia("(prefers-color-scheme: dark)").matches),y?m.classList.add("dark"):m.classList.remove("dark"),i(y)},l=f=>{t(f),localStorage.setItem("theme",f),a(f)},u=()=>{l(e==="light"?"dark":e==="dark"||r?"light":"dark")};return d.jsx(Ub.Provider,{value:{theme:e,isDark:r,setTheme:l,toggleTheme:u},children:n})},Bb=()=>{const n=R.useContext(Ub);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(n,e)=>{const t=R.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:f,...m},y)=>R.createElement("svg",{ref:y,...N5,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${P5(n)}`,u].join(" "),...m},[...e.map(([w,T])=>R.createElement(w,T)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Te("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=Te("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Te("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=Te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Te("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hy=R.createContext({});function fy(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const Jh=R.createContext(null),py=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Z5 extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eV({children:n,isPresent:e}){const t=R.useId(),r=R.useRef(null),i=R.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=R.useContext(py);return R.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:m}=i.current;if(e||!r.current||!l||!u)return;r.current.dataset.motionPopId=t;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),d.jsx(Z5,{isPresent:e,childRef:r,sizeRef:i,children:R.cloneElement(n,{ref:r})})}const tV=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const u=fy(nV),f=R.useId(),m=R.useCallback(w=>{u.set(w,!0);for(const T of u.values())if(!T)return;r&&r()},[u,r]),y=R.useMemo(()=>({id:f,initial:e,isPresent:t,custom:i,onExitComplete:m,register:w=>(u.set(w,!1),()=>u.delete(w))}),a?[Math.random(),m]:[t,m]);return R.useMemo(()=>{u.forEach((w,T)=>u.set(T,!1))},[t]),R.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),l==="popLayout"&&(n=d.jsx(eV,{isPresent:t,children:n})),d.jsx(Jh.Provider,{value:y,children:n})};function nV(){return new Map}function Kb(n=!0){const e=R.useContext(Jh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{n&&i(a)},[n]);const l=R.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const kd=n=>n.key||"";function c1(n){const e=[];return R.Children.forEach(n,t=>{R.isValidElement(t)&&e.push(t)}),e}const my=typeof window<"u",Gb=my?R.useLayoutEffect:R.useEffect,Xc=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1})=>{const[u,f]=Kb(l),m=R.useMemo(()=>c1(n),[n]),y=l&&!u?[]:m.map(kd),w=R.useRef(!0),T=R.useRef(m),b=fy(()=>new Map),[C,k]=R.useState(m),[I,L]=R.useState(m);Gb(()=>{w.current=!1,T.current=m;for(let J=0;J<I.length;J++){const ee=kd(I[J]);y.includes(ee)?b.delete(ee):b.get(ee)!==!0&&b.set(ee,!1)}},[I,y.length,y.join("-")]);const U=[];if(m!==C){let J=[...m];for(let ee=0;ee<I.length;ee++){const ae=I[ee],D=kd(ae);y.includes(D)||(J.splice(ee,0,ae),U.push(ae))}a==="wait"&&U.length&&(J=U),L(c1(J)),k(m);return}const{forceRender:H}=R.useContext(hy);return d.jsx(d.Fragment,{children:I.map(J=>{const ee=kd(J),ae=l&&!u?!1:m===I||y.includes(ee),D=()=>{if(b.has(ee))b.set(ee,!0);else return;let A=!0;b.forEach(N=>{N||(A=!1)}),A&&(H==null||H(),L(T.current),l&&(f==null||f()),r&&r())};return d.jsx(tV,{isPresent:ae,initial:!w.current||t?void 0:!1,custom:ae?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:ae?void 0:D,children:J},ee)})})},Mn=n=>n;let Qb=Mn;function gy(n){let e;return()=>(e===void 0&&(e=n()),e)}const $a=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},vs=n=>n*1e3,xs=n=>n/1e3,rV={useManualTiming:!1};function sV(n){let e=new Set,t=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){a.has(m)&&(f.schedule(m),n()),m(l)}const f={schedule:(m,y=!1,w=!1)=>{const b=w&&r?e:t;return y&&a.add(m),b.has(m)||b.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(l=m,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,f.process(m))}};return f}const Sd=["read","resolveKeyframes","update","preRender","render","postRender"],iV=40;function Yb(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Sd.reduce((L,U)=>(L[U]=sV(a),L),{}),{read:u,resolveKeyframes:f,update:m,preRender:y,render:w,postRender:T}=l,b=()=>{const L=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,iV),1),i.timestamp=L,i.isProcessing=!0,u.process(i),f.process(i),m.process(i),y.process(i),w.process(i),T.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(b))},C=()=>{t=!0,r=!0,i.isProcessing||n(b)};return{schedule:Sd.reduce((L,U)=>{const H=l[U];return L[U]=(J,ee=!1,ae=!1)=>(t||C(),H.schedule(J,ee,ae)),L},{}),cancel:L=>{for(let U=0;U<Sd.length;U++)l[Sd[U]].cancel(L)},state:i,steps:l}}const{schedule:st,cancel:wi,state:qt,steps:em}=Yb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),Xb=R.createContext({strict:!1}),u1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const n in u1)Wa[n]={isEnabled:e=>u1[n].some(t=>!!e[t])};function oV(n){for(const e in n)Wa[e]={...Wa[e],...n[e]}}const aV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||aV.has(n)}let Jb=n=>!gh(n);function lV(n){n&&(Jb=e=>e.startsWith("on")?!gh(e):n(e))}try{lV(require("@emotion/is-prop-valid").default)}catch{}function cV(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Jb(i)||t===!0&&gh(i)||!e&&!gh(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function uV(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Zh=R.createContext({});function Rc(n){return typeof n=="string"||Array.isArray(n)}function ef(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vy=["initial",...yy];function tf(n){return ef(n.animate)||vy.some(e=>Rc(n[e]))}function Zb(n){return!!(tf(n)||n.variants)}function dV(n,e){if(tf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Rc(t)?t:void 0,animate:Rc(r)?r:void 0}}return n.inherit!==!1?e:{}}function hV(n){const{initial:e,animate:t}=dV(n,R.useContext(Zh));return R.useMemo(()=>({initial:e,animate:t}),[d1(e),d1(t)])}function d1(n){return Array.isArray(n)?n.join(" "):n}const fV=Symbol.for("motionComponentSymbol");function Ta(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pV(n,e,t){return R.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ta(t)&&(t.current=r))},[e])}const xy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mV="framerAppearId",ek="data-"+xy(mV),{schedule:wy}=Yb(queueMicrotask,!1),tk=R.createContext({});function gV(n,e,t,r,i){var a,l;const{visualElement:u}=R.useContext(Zh),f=R.useContext(Xb),m=R.useContext(Jh),y=R.useContext(py).reducedMotion,w=R.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:u,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const T=w.current,b=R.useContext(tk);T&&!T.projection&&i&&(T.type==="html"||T.type==="svg")&&yV(w.current,t,i,b);const C=R.useRef(!1);R.useInsertionEffect(()=>{T&&C.current&&T.update(t,m)});const k=t[ek],I=R.useRef(!!k&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,k))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,k)));return Gb(()=>{T&&(C.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),wy.render(T.render),I.current&&T.animationState&&T.animationState.animateChanges())}),R.useEffect(()=>{T&&(!I.current&&T.animationState&&T.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,k)}),I.current=!1))}),T}function yV(n,e,t,r){const{layoutId:i,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:nk(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||u&&Ta(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function nk(n){if(n)return n.options.allowProjection!==!1?n.projection:nk(n.parent)}function vV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var a,l;n&&oV(n);function u(m,y){let w;const T={...R.useContext(py),...m,layoutId:xV(m)},{isStatic:b}=T,C=hV(m),k=r(m,b);if(!b&&my){wV();const I=_V(T);w=I.MeasureLayout,C.visualElement=gV(i,k,T,e,I.ProjectionNode)}return d.jsxs(Zh.Provider,{value:C,children:[w&&C.visualElement?d.jsx(w,{visualElement:C.visualElement,...T}):null,t(i,m,pV(k,C.visualElement,y),k,b,C.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const f=R.forwardRef(u);return f[fV]=i,f}function xV({layoutId:n}){const e=R.useContext(hy).id;return e&&n!==void 0?e+"-"+n:n}function wV(n,e){R.useContext(Xb).strict}function _V(n){const{drag:e,layout:t}=Wa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const TV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _y(n){return typeof n!="string"||n.includes("-")?!1:!!(TV.indexOf(n)>-1||/[A-Z]/u.test(n))}function h1(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Ty(n,e,t,r){if(typeof e=="function"){const[i,a]=h1(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=h1(r);e=e(t!==void 0?t:n.custom,i,a)}return e}const $m=n=>Array.isArray(n),EV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),bV=n=>$m(n)?n[n.length-1]||0:n,sn=n=>!!(n&&n.getVelocity);function Ud(n){const e=sn(n)?n.get():n;return EV(e)?e.toValue():e}function kV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,a){const l={latestValues:SV(r,i,a,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const rk=n=>(e,t)=>{const r=R.useContext(Zh),i=R.useContext(Jh),a=()=>kV(n,e,r,i);return t?a():fy(a)};function SV(n,e,t,r){const i={},a=r(n,{});for(const T in a)i[T]=Ud(a[T]);let{initial:l,animate:u}=n;const f=tf(n),m=Zb(n);e&&m&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let y=t?t.initial===!1:!1;y=y||l===!1;const w=y?u:l;if(w&&typeof w!="boolean"&&!ef(w)){const T=Array.isArray(w)?w:[w];for(let b=0;b<T.length;b++){const C=Ty(n,T[b]);if(C){const{transitionEnd:k,transition:I,...L}=C;for(const U in L){let H=L[U];if(Array.isArray(H)){const J=y?H.length-1:0;H=H[J]}H!==null&&(i[U]=H)}for(const U in k)i[U]=k[U]}}}return i}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(tl),sk=n=>e=>typeof e=="string"&&e.startsWith(n),ik=sk("--"),IV=sk("var(--"),Ey=n=>IV(n)?AV.test(n.split("/*")[0].trim()):!1,AV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ok=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ks=(n,e,t)=>t>e?e:t<n?n:t,nl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},jc={...nl,transform:n=>ks(0,1,n)},Id={...nl,default:1},Jc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ei=Jc("deg"),Kr=Jc("%"),_e=Jc("px"),CV=Jc("vh"),NV=Jc("vw"),f1={...Kr,parse:n=>Kr.parse(n)/100,transform:n=>Kr.transform(n*100)},PV={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},RV={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:ei,skewX:ei,skewY:ei,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:jc,originX:f1,originY:f1,originZ:_e},p1={...nl,transform:Math.round},by={...PV,...RV,zIndex:p1,size:_e,fillOpacity:jc,strokeOpacity:jc,numOctaves:p1},jV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DV=tl.length;function VV(n,e,t){let r="",i=!0;for(let a=0;a<DV;a++){const l=tl[a],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const m=ok(u,by[l]);if(!f){i=!1;const y=jV[l]||l;r+=`${y}(${m}) `}t&&(e[l]=m)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function ky(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let l=!1,u=!1;for(const f in e){const m=e[f];if(Io.has(f)){l=!0;continue}else if(ik(f)){i[f]=m;continue}else{const y=ok(m,by[f]);f.startsWith("origin")?(u=!0,a[f]=y):r[f]=y}}if(e.transform||(l||t?r.transform=VV(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${m} ${y}`}}const MV={offset:"stroke-dashoffset",array:"stroke-dasharray"},LV={offset:"strokeDashoffset",array:"strokeDasharray"};function OV(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?MV:LV;n[a.offset]=_e.transform(-r);const l=_e.transform(e),u=_e.transform(t);n[a.array]=`${l} ${u}`}function m1(n,e,t){return typeof n=="string"?n:_e.transform(e+t*n)}function FV(n,e,t){const r=m1(e,n.x,n.width),i=m1(t,n.y,n.height);return`${r} ${i}`}function Sy(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...m},y,w){if(ky(n,m,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:b,dimensions:C}=n;T.transform&&(C&&(b.transform=T.transform),delete T.transform),C&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=FV(C,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),l!==void 0&&OV(T,l,u,f,!1)}const Iy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ak=()=>({...Iy(),attrs:{}}),Ay=n=>typeof n=="string"&&n.toLowerCase()==="svg";function lk(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const ck=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uk(n,e,t,r){lk(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(ck.has(i)?i:xy(i),e.attrs[i])}const yh={};function UV(n){Object.assign(yh,n)}function dk(n,{layout:e,layoutId:t}){return Io.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!yh[n]||n==="opacity")}function Cy(n,e,t){var r;const{style:i}=n,a={};for(const l in i)(sn(i[l])||e.style&&sn(e.style[l])||dk(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function hk(n,e,t){const r=Cy(n,e,t);for(const i in n)if(sn(n[i])||sn(e[i])){const a=tl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function BV(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const g1=["x","y","width","height","cx","cy","r"],zV={useVisualState:rk({scrapeMotionValuesFromProps:hk,createRenderState:ak,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let a=!!n.drag;if(!a){for(const u in i)if(Io.has(u)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let u=0;u<g1.length;u++){const f=g1[u];n[f]!==e[f]&&(l=!0)}l&&st.read(()=>{BV(t,r),st.render(()=>{Sy(r,i,Ay(t.tagName),n.transformTemplate),uk(t,r)})})}})},$V={useVisualState:rk({scrapeMotionValuesFromProps:Cy,createRenderState:Iy})};function fk(n,e,t){for(const r in e)!sn(e[r])&&!dk(r,t)&&(n[r]=e[r])}function WV({transformTemplate:n},e){return R.useMemo(()=>{const t=Iy();return ky(t,e,n),Object.assign({},t.vars,t.style)},[e])}function qV(n,e){const t=n.style||{},r={};return fk(r,t,n),Object.assign(r,WV(n,e)),r}function HV(n,e){const t={},r=qV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function KV(n,e,t,r){const i=R.useMemo(()=>{const a=ak();return Sy(a,e,Ay(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};fk(a,n.style,n),i.style={...a,...i.style}}return i}function GV(n=!1){return(t,r,i,{latestValues:a},l)=>{const f=(_y(t)?KV:HV)(r,a,l,t),m=cV(r,typeof t=="string",n),y=t!==R.Fragment?{...m,...f,ref:i}:{},{children:w}=r,T=R.useMemo(()=>sn(w)?w.get():w,[w]);return R.createElement(t,{...y,children:T})}}function QV(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={..._y(r)?zV:$V,preloadedFeatures:n,useRender:GV(i),createVisualElement:e,Component:r};return vV(l)}}function pk(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function nf(n,e,t){const r=n.getProps();return Ty(r,e,t!==void 0?t:r.custom,n)}const YV=gy(()=>window.ScrollTimeline!==void 0);class XV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(YV()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JV extends XV{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ny(n,e){return n?n[e]||n.default||n:void 0}const Wm=2e4;function mk(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Wm;)e+=t,r=n.next(e);return e>=Wm?1/0:e}function Py(n){return typeof n=="function"}function y1(n,e){n.timeline=e,n.onfinish=null}const Ry=n=>Array.isArray(n)&&typeof n[0]=="number",ZV={linearEasing:void 0};function eM(n,e){const t=gy(n);return()=>{var r;return(r=ZV[e])!==null&&r!==void 0?r:t()}}const vh=eM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gk=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=n($a(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function yk(n){return!!(typeof n=="function"&&vh()||!n||typeof n=="string"&&(n in qm||vh())||Ry(n)||Array.isArray(n)&&n.every(yk))}const oc=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,qm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function vk(n,e){if(n)return typeof n=="function"&&vh()?gk(n,e):Ry(n)?oc(n):Array.isArray(n)?n.map(t=>vk(t,e)||qm.easeOut):qm[n]}const vr={x:!1,y:!1};function xk(){return vr.x||vr.y}function tM(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function wk(n,e){const t=tM(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function v1(n){return e=>{e.pointerType==="touch"||xk()||n(e)}}function nM(n,e,t={}){const[r,i,a]=wk(n,t),l=v1(u=>{const{target:f}=u,m=e(u);if(typeof m!="function"||!f)return;const y=v1(w=>{m(w),f.removeEventListener("pointerleave",y)});f.addEventListener("pointerleave",y,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),a}const _k=(n,e)=>e?n===e?!0:_k(n,e.parentElement):!1,jy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,rM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sM(n){return rM.has(n.tagName)||n.tabIndex!==-1}const ac=new WeakSet;function x1(n){return e=>{e.key==="Enter"&&n(e)}}function tm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iM=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=x1(()=>{if(ac.has(t))return;tm(t,"down");const i=x1(()=>{tm(t,"up")}),a=()=>tm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function w1(n){return jy(n)&&!xk()}function oM(n,e,t={}){const[r,i,a]=wk(n,t),l=u=>{const f=u.currentTarget;if(!w1(u)||ac.has(f))return;ac.add(f);const m=e(u),y=(b,C)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!w1(b)||!ac.has(f))&&(ac.delete(f),typeof m=="function"&&m(b,{success:C}))},w=b=>{y(b,t.useGlobalTarget||_k(f,b.target))},T=b=>{y(b,!1)};window.addEventListener("pointerup",w,i),window.addEventListener("pointercancel",T,i)};return r.forEach(u=>{!sM(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",m=>iM(m,i),i)}),a}function aM(n){return n==="x"||n==="y"?vr[n]?null:(vr[n]=!0,()=>{vr[n]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}const Tk=new Set(["width","height","top","left","right","bottom",...tl]);let Bd;function lM(){Bd=void 0}const Gr={now:()=>(Bd===void 0&&Gr.set(qt.isProcessing||rV.useManualTiming?qt.timestamp:performance.now()),Bd),set:n=>{Bd=n,queueMicrotask(lM)}};function Dy(n,e){n.indexOf(e)===-1&&n.push(e)}function Vy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class My{constructor(){this.subscriptions=[]}add(e){return Dy(this.subscriptions,e),()=>Vy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ek(n,e){return e?n*(1e3/e):0}const _1=30,cM=n=>!isNaN(parseFloat(n));class uM{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Gr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Gr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new My);const r=this.events[e].add(t);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,_1);return Ek(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dc(n,e){return new uM(n,e)}function dM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Dc(t))}function hM(n,e){const t=nf(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const l in a){const u=bV(a[l]);dM(n,l,u)}}function fM(n){return!!(sn(n)&&n.add)}function Hm(n,e){const t=n.getValue("willChange");if(fM(t))return t.add(e)}function bk(n){return n.props[ek]}const kk=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,pM=1e-7,mM=12;function gM(n,e,t,r,i){let a,l,u=0;do l=e+(t-e)/2,a=kk(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>pM&&++u<mM);return l}function Zc(n,e,t,r){if(n===e&&t===r)return Mn;const i=a=>gM(a,0,1,n,t);return a=>a===0||a===1?a:kk(i(a),e,r)}const Sk=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Ik=n=>e=>1-n(1-e),Ak=Zc(.33,1.53,.69,.99),Ly=Ik(Ak),Ck=Sk(Ly),Nk=n=>(n*=2)<1?.5*Ly(n):.5*(2-Math.pow(2,-10*(n-1))),Oy=n=>1-Math.sin(Math.acos(n)),Pk=Ik(Oy),Rk=Sk(Oy),jk=n=>/^0[^.\s]+$/u.test(n);function yM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||jk(n):!0}const gc=n=>Math.round(n*1e5)/1e5,Fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vM(n){return n==null}const xM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uy=(n,e)=>t=>!!(typeof t=="string"&&xM.test(t)&&t.startsWith(n)||e&&!vM(t)&&Object.prototype.hasOwnProperty.call(t,e)),Dk=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,l,u]=r.match(Fy);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},wM=n=>ks(0,255,n),nm={...nl,transform:n=>Math.round(wM(n))},lo={test:Uy("rgb","red"),parse:Dk("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+nm.transform(n)+", "+nm.transform(e)+", "+nm.transform(t)+", "+gc(jc.transform(r))+")"};function _M(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Km={test:Uy("#"),parse:_M,transform:lo.transform},Ea={test:Uy("hsl","hue"),parse:Dk("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Kr.transform(gc(e))+", "+Kr.transform(gc(t))+", "+gc(jc.transform(r))+")"},tn={test:n=>lo.test(n)||Km.test(n)||Ea.test(n),parse:n=>lo.test(n)?lo.parse(n):Ea.test(n)?Ea.parse(n):Km.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?lo.transform(n):Ea.transform(n)},TM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Fy))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(TM))===null||t===void 0?void 0:t.length)||0)>0}const Vk="number",Mk="color",bM="var",kM="var(",T1="${}",SM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(SM,f=>(tn.test(f)?(r.color.push(a),i.push(Mk),t.push(tn.parse(f))):f.startsWith(kM)?(r.var.push(a),i.push(bM),t.push(f)):(r.number.push(a),i.push(Vk),t.push(parseFloat(f))),++a,T1)).split(T1);return{values:t,split:u,indexes:r,types:i}}function Lk(n){return Vc(n).values}function Ok(n){const{split:e,types:t}=Vc(n),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const u=t[l];u===Vk?a+=gc(i[l]):u===Mk?a+=tn.transform(i[l]):a+=i[l]}return a}}const IM=n=>typeof n=="number"?0:n;function AM(n){const e=Lk(n);return Ok(n)(e.map(IM))}const _i={test:EM,parse:Lk,createTransformer:Ok,getAnimatableNone:AM},CM=new Set(["brightness","contrast","saturate","opacity"]);function NM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Fy)||[];if(!r)return n;const i=t.replace(r,"");let a=CM.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const PM=/\b([a-z-]*)\(.*?\)/gu,Gm={..._i,getAnimatableNone:n=>{const e=n.match(PM);return e?e.map(NM).join(" "):n}},RM={...by,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Gm,WebkitFilter:Gm},By=n=>RM[n];function Fk(n,e){let t=By(n);return t!==Gm&&(t=_i),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const jM=new Set(["auto","none","0"]);function DM(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!jM.has(a)&&Vc(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=Fk(t,i)}const E1=n=>n===nl||n===_e,b1=(n,e)=>parseFloat(n.split(", ")[e]),k1=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return b1(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?b1(a[1],n):0}},VM=new Set(["x","y","z"]),MM=tl.filter(n=>!VM.has(n));function LM(n){const e=[];return MM.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const qa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:k1(4,13),y:k1(5,14)};qa.translateX=qa.x;qa.translateY=qa.y;const fo=new Set;let Qm=!1,Ym=!1;function Uk(){if(Ym){const n=Array.from(fo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=LM(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,l])=>{var u;(u=r.getValue(a))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ym=!1,Qm=!1,fo.forEach(n=>n.complete()),fo.clear()}function Bk(){fo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ym=!0)})}function OM(){Bk(),Uk()}class zy{constructor(e,t,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fo.add(this),Qm||(Qm=!0,st.read(Bk),st.resolveKeyframes(Uk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zk=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UM(n){const e=FM.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function $k(n,e,t=1){const[r,i]=UM(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return zk(l)?parseFloat(l):l}return Ey(i)?$k(i,e,t+1):i}const Wk=n=>e=>e.test(n),BM={test:n=>n==="auto",parse:n=>n},qk=[nl,_e,Kr,ei,NV,CV,BM],S1=n=>qk.find(Wk(n));class Hk extends zy{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Ey(m))){const y=$k(m,t.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Tk.has(r)||e.length!==2)return;const[i,a]=e,l=S1(i),u=S1(a);if(l!==u)if(E1(l)&&E1(u))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)yM(e[i])&&r.push(i);r.length&&DM(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=qa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const I1=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(_i.test(n)||n==="0")&&!n.startsWith("url("));function zM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function $M(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=I1(i,e),u=I1(a,e);return!l||!u?!1:zM(n)||(t==="spring"||Py(t))&&r}const WM=n=>n!==null;function rf(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(WM),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const qM=40;class Kk{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&OM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:u,onUpdate:f,isGenerator:m}=this.options;if(!m&&!$M(e,r,i,a))if(l)this.options.duration=0;else{f&&f(rf(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(n,e,t)=>n+(e-n)*t;function rm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function HM({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;i=rm(f,u,n+1/3),a=rm(f,u,n),l=rm(f,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function xh(n,e){return t=>t>0?e:n}const sm=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},KM=[Km,lo,Ea],GM=n=>KM.find(e=>e.test(n));function A1(n){const e=GM(n);if(!e)return!1;let t=e.parse(n);return e===Ea&&(t=HM(t)),t}const C1=(n,e)=>{const t=A1(n),r=A1(e);if(!t||!r)return xh(n,e);const i={...t};return a=>(i.red=sm(t.red,r.red,a),i.green=sm(t.green,r.green,a),i.blue=sm(t.blue,r.blue,a),i.alpha=ut(t.alpha,r.alpha,a),lo.transform(i))},QM=(n,e)=>t=>e(n(t)),eu=(...n)=>n.reduce(QM),Xm=new Set(["none","hidden"]);function YM(n,e){return Xm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function XM(n,e){return t=>ut(n,e,t)}function $y(n){return typeof n=="number"?XM:typeof n=="string"?Ey(n)?xh:tn.test(n)?C1:e6:Array.isArray(n)?Gk:typeof n=="object"?tn.test(n)?C1:JM:xh}function Gk(n,e){const t=[...n],r=t.length,i=n.map((a,l)=>$y(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}}function JM(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=$y(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function ZM(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][i[l]],f=(t=n.values[u])!==null&&t!==void 0?t:0;r[a]=f,i[l]++}return r}const e6=(n,e)=>{const t=_i.createTransformer(e),r=Vc(n),i=Vc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xm.has(n)&&!i.values.length||Xm.has(e)&&!r.values.length?YM(n,e):eu(Gk(ZM(r,i),i.values),t):xh(n,e)};function Qk(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):$y(n)(n,e)}const t6=5;function Yk(n,e,t){const r=Math.max(e-t6,0);return Ek(t-n(r),e-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},N1=.001;function n6({duration:n=pt.duration,bounce:e=pt.bounce,velocity:t=pt.velocity,mass:r=pt.mass}){let i,a,l=1-e;l=ks(pt.minDamping,pt.maxDamping,l),n=ks(pt.minDuration,pt.maxDuration,xs(n)),l<1?(i=m=>{const y=m*l,w=y*n,T=y-t,b=Jm(m,l),C=Math.exp(-w);return N1-T/b*C},a=m=>{const w=m*l*n,T=w*t+t,b=Math.pow(l,2)*Math.pow(m,2)*n,C=Math.exp(-w),k=Jm(Math.pow(m,2),l);return(-i(m)+N1>0?-1:1)*((T-b)*C)/k}):(i=m=>{const y=Math.exp(-m*n),w=(m-t)*n+1;return-.001+y*w},a=m=>{const y=Math.exp(-m*n),w=(t-m)*(n*n);return y*w});const u=5/n,f=s6(i,a,u);if(n=vs(n),isNaN(f))return{stiffness:pt.stiffness,damping:pt.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:n}}}const r6=12;function s6(n,e,t){let r=t;for(let i=1;i<r6;i++)r=r-n(r)/e(r);return r}function Jm(n,e){return n*Math.sqrt(1-e*e)}const i6=["duration","bounce"],o6=["stiffness","damping","mass"];function P1(n,e){return e.some(t=>n[t]!==void 0)}function a6(n){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...n};if(!P1(n,o6)&&P1(n,i6))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*ks(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:pt.mass,stiffness:i,damping:a}}else{const t=n6(n);e={...e,...t,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function Xk(n=pt.visualDuration,e=pt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:m,mass:y,duration:w,velocity:T,isResolvedFromDuration:b}=a6({...t,velocity:-xs(t.velocity||0)}),C=T||0,k=m/(2*Math.sqrt(f*y)),I=l-a,L=xs(Math.sqrt(f/y)),U=Math.abs(I)<5;r||(r=U?pt.restSpeed.granular:pt.restSpeed.default),i||(i=U?pt.restDelta.granular:pt.restDelta.default);let H;if(k<1){const ee=Jm(L,k);H=ae=>{const D=Math.exp(-k*L*ae);return l-D*((C+k*L*I)/ee*Math.sin(ee*ae)+I*Math.cos(ee*ae))}}else if(k===1)H=ee=>l-Math.exp(-L*ee)*(I+(C+L*I)*ee);else{const ee=L*Math.sqrt(k*k-1);H=ae=>{const D=Math.exp(-k*L*ae),A=Math.min(ee*ae,300);return l-D*((C+k*L*I)*Math.sinh(A)+ee*I*Math.cosh(A))/ee}}const J={calculatedDuration:b&&w||null,next:ee=>{const ae=H(ee);if(b)u.done=ee>=w;else{let D=0;k<1&&(D=ee===0?vs(C):Yk(H,ee,ae));const A=Math.abs(D)<=r,N=Math.abs(l-ae)<=i;u.done=A&&N}return u.value=u.done?l:ae,u},toString:()=>{const ee=Math.min(mk(J),Wm),ae=gk(D=>J.next(ee*D).value,ee,30);return ee+"ms "+ae}};return J}function R1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:m=.5,restSpeed:y}){const w=n[0],T={done:!1,value:w},b=A=>u!==void 0&&A<u||f!==void 0&&A>f,C=A=>u===void 0?f:f===void 0||Math.abs(u-A)<Math.abs(f-A)?u:f;let k=t*e;const I=w+k,L=l===void 0?I:l(I);L!==I&&(k=L-w);const U=A=>-k*Math.exp(-A/r),H=A=>L+U(A),J=A=>{const N=U(A),M=H(A);T.done=Math.abs(N)<=m,T.value=T.done?L:M};let ee,ae;const D=A=>{b(T.value)&&(ee=A,ae=Xk({keyframes:[T.value,C(T.value)],velocity:Yk(H,A,T.value),damping:i,stiffness:a,restDelta:m,restSpeed:y}))};return D(0),{calculatedDuration:null,next:A=>{let N=!1;return!ae&&ee===void 0&&(N=!0,J(A),D(A)),ee!==void 0&&A>=ee?ae.next(A-ee):(!N&&J(A),T)}}}const l6=Zc(.42,0,1,1),c6=Zc(0,0,.58,1),Jk=Zc(.42,0,.58,1),u6=n=>Array.isArray(n)&&typeof n[0]!="number",d6={linear:Mn,easeIn:l6,easeInOut:Jk,easeOut:c6,circIn:Oy,circInOut:Rk,circOut:Pk,backIn:Ly,backInOut:Ck,backOut:Ak,anticipate:Nk},j1=n=>{if(Ry(n)){Qb(n.length===4);const[e,t,r,i]=n;return Zc(e,t,r,i)}else if(typeof n=="string")return d6[n];return n};function h6(n,e,t){const r=[],i=t||Qk,a=n.length-1;for(let l=0;l<a;l++){let u=i(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||Mn:e;u=eu(f,u)}r.push(u)}return r}function f6(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(Qb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=h6(e,r,i),f=u.length,m=y=>{if(l&&y<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(y<n[w+1]);w++);const T=$a(n[w],n[w+1],y);return u[w](T)};return t?y=>m(ks(n[0],n[a-1],y)):m}function p6(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=$a(0,e,r);n.push(ut(t,1,i))}}function m6(n){const e=[0];return p6(e,n.length-1),e}function g6(n,e){return n.map(t=>t*e)}function y6(n,e){return n.map(()=>e||Jk).splice(0,n.length-1)}function wh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=u6(r)?r.map(j1):j1(r),a={done:!1,value:e[0]},l=g6(t&&t.length===e.length?t:m6(e),n),u=f6(l,e,{ease:Array.isArray(i)?i:y6(e,i)});return{calculatedDuration:n,next:f=>(a.value=u(f),a.done=f>=n,a)}}const v6=n=>{const e=({timestamp:t})=>n(t);return{start:()=>st.update(e,!0),stop:()=>wi(e),now:()=>qt.isProcessing?qt.timestamp:Gr.now()}},x6={decay:R1,inertia:R1,tween:wh,keyframes:wh,spring:Xk},w6=n=>n/100;class Wy extends Kk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||zy,u=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new l(a,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,u=Py(t)?t:x6[t]||wh;let f,m;u!==wh&&typeof e[0]!="number"&&(f=eu(w6,Qk(e[0],e[1])),e=[0,100]);const y=u({...this.options,keyframes:e});a==="mirror"&&(m=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),y.calculatedDuration===null&&(y.calculatedDuration=mk(y));const{calculatedDuration:w}=y,T=w+i,b=T*(r+1)-i;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:T,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:m,totalDuration:y,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:b,repeatType:C,repeatDelay:k,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-T*(this.speed>=0?1:-1),U=this.speed>=0?L<0:L>y;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let H=this.currentTime,J=a;if(b){const A=Math.min(this.currentTime,y)/w;let N=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(C==="reverse"?(M=1-M,k&&(M-=k/w)):C==="mirror"&&(J=l)),H=ks(0,1,M)*w}const ee=U?{done:!1,value:f[0]}:J.next(H);u&&(ee.value=u(ee.value));let{done:ae}=ee;!U&&m!==null&&(ae=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return D&&i!==void 0&&(ee.value=rf(f,this.options,i)),I&&I(ee.value),D&&this.finish(),ee}get duration(){const{resolved:e}=this;return e?xs(e.calculatedDuration):0}get time(){return xs(this.currentTime)}set time(e){e=vs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=v6,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _6=new Set(["opacity","clipPath","filter","transform"]);function T6(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const y=vk(u,i);return Array.isArray(y)&&(m.easing=y),n.animate(m,{delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const E6=gy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_h=10,b6=2e4;function k6(n){return Py(n.type)||n.type==="spring"||!yk(n.ease)}function S6(n,e){const t=new Wy({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let a=0;for(;!r.done&&a<b6;)r=t.sample(a),i.push(r.value),a+=_h;return{times:void 0,keyframes:i,duration:a-_h,ease:"linear"}}const Zk={anticipate:Nk,backInOut:Ck,circInOut:Rk};function I6(n){return n in Zk}class D1 extends Kk{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new Hk(a,(l,u)=>this.onKeyframesResolved(l,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:a,type:l,motionValue:u,name:f,startTime:m}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof a=="string"&&vh()&&I6(a)&&(a=Zk[a]),k6(this.options)){const{onComplete:w,onUpdate:T,motionValue:b,element:C,...k}=this.options,I=S6(e,k);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,a=I.ease,l="keyframes"}const y=T6(u.owner.current,f,e,{...this.options,duration:r,times:i,ease:a});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(y1(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:w}=this.options;u.set(rf(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return xs(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return xs(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=vs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Mn;const{animation:r}=t;y1(r,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:a,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:w,element:T,...b}=this.options,C=new Wy({...b,keyframes:r,duration:i,type:a,ease:l,times:u,isGenerator:!0}),k=vs(this.time);m.setWithVelocity(C.sample(k-_h).value,C.sample(k).value,_h)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:a,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return E6()&&r&&_6.has(r)&&!f&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}}const A6={type:"spring",stiffness:500,damping:25,restSpeed:10},C6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),N6={type:"keyframes",duration:.8},P6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R6=(n,{keyframes:e})=>e.length>2?N6:Io.has(n)?n.startsWith("scale")?C6(e[1]):A6:P6;function j6({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const qy=(n,e,t,r={},i,a)=>l=>{const u=Ny(r,n)||{},f=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-vs(f);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:T=>{e.set(T),u.onUpdate&&u.onUpdate(T)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:i};j6(u)||(y={...y,...R6(n,y)}),y.duration&&(y.duration=vs(y.duration)),y.repeatDelay&&(y.repeatDelay=vs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const T=rf(y.keyframes,u);if(T!==void 0)return st.update(()=>{y.onUpdate(T),y.onComplete()}),new JV([])}return!a&&D1.supports(y)?new D1(y):new Wy(y)};function D6({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function eS(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(l=r);const m=[],y=i&&n.animationState&&n.animationState.getState()[i];for(const w in f){const T=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),b=f[w];if(b===void 0||y&&D6(y,w))continue;const C={delay:t,...Ny(l||{},w)};let k=!1;if(window.MotionHandoffAnimation){const L=bk(n);if(L){const U=window.MotionHandoffAnimation(L,w,st);U!==null&&(C.startTime=U,k=!0)}}Hm(n,w),T.start(qy(w,T,b,n.shouldReduceMotion&&Tk.has(w)?{type:!1}:C,n,k));const I=T.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{st.update(()=>{u&&hM(n,u)})}),m}function Zm(n,e,t={}){var r;const i=nf(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const l=i?()=>Promise.all(eS(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:T}=a;return V6(n,e,y+m,w,T,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,y]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>y())}else return Promise.all([l(),u(t.delay)])}function V6(n,e,t=0,r=0,i=1,a){const l=[],u=(n.variantChildren.size-1)*r,f=i===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(M6).forEach((m,y)=>{m.notify("AnimationStart",e),l.push(Zm(m,e,{...a,delay:t+f(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function M6(n,e){return n.sortNodePosition(e)}function L6(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Zm(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=Zm(n,e,t);else{const i=typeof e=="function"?nf(n,e,t.custom):e;r=Promise.all(eS(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const O6=vy.length;function tS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?tS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<O6;t++){const r=vy[t],i=n.props[r];(Rc(i)||i===!1)&&(e[r]=i)}return e}const F6=[...yy].reverse(),U6=yy.length;function B6(n){return e=>Promise.all(e.map(({animation:t,options:r})=>L6(n,t,r)))}function z6(n){let e=B6(n),t=V1(),r=!0;const i=f=>(m,y)=>{var w;const T=nf(n,y,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:b,transitionEnd:C,...k}=T;m={...m,...k,...C}}return m};function a(f){e=f(n)}function l(f){const{props:m}=n,y=tS(n.parent)||{},w=[],T=new Set;let b={},C=1/0;for(let I=0;I<U6;I++){const L=F6[I],U=t[L],H=m[L]!==void 0?m[L]:y[L],J=Rc(H),ee=L===f?U.isActive:null;ee===!1&&(C=I);let ae=H===y[L]&&H!==m[L]&&J;if(ae&&r&&n.manuallyAnimateOnMount&&(ae=!1),U.protectedKeys={...b},!U.isActive&&ee===null||!H&&!U.prevProp||ef(H)||typeof H=="boolean")continue;const D=$6(U.prevProp,H);let A=D||L===f&&U.isActive&&!ae&&J||I>C&&J,N=!1;const M=Array.isArray(H)?H:[H];let F=M.reduce(i(L),{});ee===!1&&(F={});const{prevResolvedValues:z={}}=U,j={...z,...F},Xe=ke=>{A=!0,T.has(ke)&&(N=!0,T.delete(ke)),U.needsAnimating[ke]=!0;const se=n.getValue(ke);se&&(se.liveStyle=!1)};for(const ke in j){const se=F[ke],ge=z[ke];if(b.hasOwnProperty(ke))continue;let le=!1;$m(se)&&$m(ge)?le=!pk(se,ge):le=se!==ge,le?se!=null?Xe(ke):T.add(ke):se!==void 0&&T.has(ke)?Xe(ke):U.protectedKeys[ke]=!0}U.prevProp=H,U.prevResolvedValues=F,U.isActive&&(b={...b,...F}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(ae&&D)||N)&&w.push(...M.map(ke=>({animation:ke,options:{type:L}})))}if(T.size){const I={};T.forEach(L=>{const U=n.getBaseTarget(L),H=n.getValue(L);H&&(H.liveStyle=!0),I[L]=U??null}),w.push({animation:I})}let k=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(w):Promise.resolve()}function u(f,m){var y;if(t[f].isActive===m)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(T=>{var b;return(b=T.animationState)===null||b===void 0?void 0:b.setActive(f,m)}),t[f].isActive=m;const w=l(f);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=V1(),r=!0}}}function $6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!pk(e,n):!1}function to(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:to(!0),whileInView:to(),whileHover:to(),whileTap:to(),whileDrag:to(),whileFocus:to(),exit:to()}}class Ii{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W6 extends Ii{constructor(e){super(e),e.animationState||(e.animationState=z6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let q6=0;class H6 extends Ii{constructor(){super(...arguments),this.id=q6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const K6={animation:{Feature:W6},exit:{Feature:H6}};function Mc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function tu(n){return{point:{x:n.pageX,y:n.pageY}}}const G6=n=>e=>jy(e)&&n(e,tu(e));function yc(n,e,t,r){return Mc(n,e,G6(t),r)}const M1=(n,e)=>Math.abs(n-e);function Q6(n,e){const t=M1(n.x,e.x),r=M1(n.y,e.y);return Math.sqrt(t**2+r**2)}class nS{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=om(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,b=Q6(w.offset,{x:0,y:0})>=3;if(!T&&!b)return;const{point:C}=w,{timestamp:k}=qt;this.history.push({...C,timestamp:k});const{onStart:I,onMove:L}=this.handlers;T||(I&&I(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=im(T,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=om(w.type==="pointercancel"?this.lastMoveEventInfo:im(T,this.transformPagePoint),this.history);this.startEvent&&b&&b(w,I),C&&C(w,I)},!jy(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=tu(e),u=im(l,this.transformPagePoint),{point:f}=u,{timestamp:m}=qt;this.history=[{...f,timestamp:m}];const{onSessionStart:y}=t;y&&y(e,om(u,this.history)),this.removeListeners=eu(yc(this.contextWindow,"pointermove",this.handlePointerMove),yc(this.contextWindow,"pointerup",this.handlePointerUp),yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function im(n,e){return e?{point:e(n.point)}:n}function L1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function om({point:n},e){return{point:n,delta:L1(n,rS(e)),offset:L1(n,Y6(e)),velocity:X6(e,.1)}}function Y6(n){return n[0]}function rS(n){return n[n.length-1]}function X6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=rS(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>vs(e)));)t--;if(!r)return{x:0,y:0};const a=xs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const sS=1e-4,J6=1-sS,Z6=1+sS,iS=.01,e3=0-iS,t3=0+iS;function Ln(n){return n.max-n.min}function n3(n,e,t){return Math.abs(n-e)<=t}function O1(n,e,t,r=.5){n.origin=r,n.originPoint=ut(e.min,e.max,n.origin),n.scale=Ln(t)/Ln(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=J6&&n.scale<=Z6||isNaN(n.scale))&&(n.scale=1),(n.translate>=e3&&n.translate<=t3||isNaN(n.translate))&&(n.translate=0)}function vc(n,e,t,r){O1(n.x,e.x,t.x,r?r.originX:void 0),O1(n.y,e.y,t.y,r?r.originY:void 0)}function F1(n,e,t){n.min=t.min+e.min,n.max=n.min+Ln(e)}function r3(n,e,t){F1(n.x,e.x,t.x),F1(n.y,e.y,t.y)}function U1(n,e,t){n.min=e.min-t.min,n.max=n.min+Ln(e)}function xc(n,e,t){U1(n.x,e.x,t.x),U1(n.y,e.y,t.y)}function s3(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ut(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ut(t,n,r.max):Math.min(n,t)),n}function B1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function i3(n,{top:e,left:t,bottom:r,right:i}){return{x:B1(n.x,t,i),y:B1(n.y,e,r)}}function z1(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function o3(n,e){return{x:z1(n.x,e.x),y:z1(n.y,e.y)}}function a3(n,e){let t=.5;const r=Ln(n),i=Ln(e);return i>r?t=$a(e.min,e.max-r,n.min):r>i&&(t=$a(n.min,n.max-i,e.min)),ks(0,1,t)}function l3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const eg=.35;function c3(n=eg){return n===!1?n=0:n===!0&&(n=eg),{x:$1(n,"left","right"),y:$1(n,"top","bottom")}}function $1(n,e,t){return{min:W1(n,e),max:W1(n,t)}}function W1(n,e){return typeof n=="number"?n:n[e]||0}const q1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ba=()=>({x:q1(),y:q1()}),H1=()=>({min:0,max:0}),yt=()=>({x:H1(),y:H1()});function Qn(n){return[n("x"),n("y")]}function oS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function u3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function d3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function am(n){return n===void 0||n===1}function tg({scale:n,scaleX:e,scaleY:t}){return!am(n)||!am(e)||!am(t)}function ro(n){return tg(n)||aS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function aS(n){return K1(n.x)||K1(n.y)}function K1(n){return n&&n!=="0%"}function Th(n,e,t){const r=n-t,i=e*r;return t+i}function G1(n,e,t,r,i){return i!==void 0&&(n=Th(n,i,r)),Th(n,t,r)+e}function ng(n,e=0,t=1,r,i){n.min=G1(n.min,e,t,r,i),n.max=G1(n.max,e,t,r,i)}function lS(n,{x:e,y:t}){ng(n.x,e.translate,e.scale,e.originPoint),ng(n.y,t.translate,t.scale,t.originPoint)}const Q1=.999999999999,Y1=1.0000000000001;function h3(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=t[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,lS(n,l)),r&&ro(a.latestValues)&&Sa(n,a.latestValues))}e.x<Y1&&e.x>Q1&&(e.x=1),e.y<Y1&&e.y>Q1&&(e.y=1)}function ka(n,e){n.min=n.min+e,n.max=n.max+e}function X1(n,e,t,r,i=.5){const a=ut(n.min,n.max,i);ng(n,e,t,a,r)}function Sa(n,e){X1(n.x,e.x,e.scaleX,e.scale,e.originX),X1(n.y,e.y,e.scaleY,e.scale,e.originY)}function cS(n,e){return oS(d3(n.getBoundingClientRect(),e))}function f3(n,e,t){const r=cS(n,t),{scroll:i}=e;return i&&(ka(r.x,i.offset.x),ka(r.y,i.offset.y)),r}const uS=({current:n})=>n?n.ownerDocument.defaultView:null,p3=new WeakMap;class m3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tu(y).point)},a=(y,w)=>{const{drag:T,dragPropagation:b,onDragStart:C}=this.getProps();if(T&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aM(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(I=>{let L=this.getAxisMotionValue(I).get()||0;if(Kr.test(L)){const{projection:U}=this.visualElement;if(U&&U.layout){const H=U.layout.layoutBox[I];H&&(L=Ln(H)*(parseFloat(L)/100))}}this.originPoint[I]=L}),C&&st.postRender(()=>C(y,w)),Hm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(y,w)=>{const{dragPropagation:T,dragDirectionLock:b,onDirectionLock:C,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:I}=w;if(b&&this.currentDirection===null){this.currentDirection=g3(I),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",w.point,I),this.updateAxis("y",w.point,I),this.visualElement.render(),k&&k(y,w)},u=(y,w)=>this.stop(y,w),f=()=>Qn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nS(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:uS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ad(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=s3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Ta(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=i3(i.layoutBox,t):this.constraints=!1,this.elastic=c3(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=l3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ta(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=f3(r,i.root,this.visualElement.getTransformPagePoint());let l=o3(i.layout.layoutBox,a);if(t){const u=t(u3(l));this.hasMutatedConstraints=!!u,u&&(l=oS(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Qn(y=>{if(!Ad(y,t,this.currentDirection))return;let w=f&&f[y]||{};l&&(w={min:0,max:0});const T=i?200:1e6,b=i?40:1e7,C={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Hm(this.visualElement,e),r.start(qy(e,r,0,t,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qn(t=>{const{drag:r}=this.getProps();if(!Ad(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];a.set(e[t]-ut(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ta(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();i[l]=a3({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(l=>{if(!Ad(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];u.set(ut(f,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;p3.set(this.visualElement,this);const e=this.visualElement.current,t=yc(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ta(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),st.read(r);const l=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Qn(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=f[y].translate,w.set(w.get()+f[y].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=eg,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Ad(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function g3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class y3 extends Ii{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new m3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const J1=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class v3 extends Ii{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new nS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:J1(e),onStart:J1(t),onMove:r,onEnd:(a,l)=>{delete this.session,i&&st.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Jl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_e.test(n))n=parseFloat(n);else return n;const t=Z1(n,e.target.x),r=Z1(n,e.target.y);return`${t}% ${r}%`}},x3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=_i.parse(n);if(i.length>5)return r;const a=_i.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=f;const m=ut(u,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};class w3 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;UV(_3),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dS(n){const[e,t]=Kb(),r=R.useContext(hy);return d.jsx(w3,{...n,layoutGroup:r,switchLayoutGroup:R.useContext(tk),isPresent:e,safeToRemove:t})}const _3={borderRadius:{...Jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jl,borderTopRightRadius:Jl,borderBottomLeftRadius:Jl,borderBottomRightRadius:Jl,boxShadow:x3};function T3(n,e,t){const r=sn(n)?n:Dc(n);return r.start(qy("",r,e,t)),r.animation}function E3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const b3=(n,e)=>n.depth-e.depth;class k3{constructor(){this.children=[],this.isDirty=!1}add(e){Dy(this.children,e),this.isDirty=!0}remove(e){Vy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b3),this.isDirty=!1,this.children.forEach(e)}}function S3(n,e){const t=Gr.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(wi(r),n(a-e))};return st.read(r,!0),()=>wi(r)}const hS=["TopLeft","TopRight","BottomLeft","BottomRight"],I3=hS.length,e_=n=>typeof n=="string"?parseFloat(n):n,t_=n=>typeof n=="number"||_e.test(n);function A3(n,e,t,r,i,a){i?(n.opacity=ut(0,t.opacity!==void 0?t.opacity:1,C3(r)),n.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,N3(r))):a&&(n.opacity=ut(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<I3;l++){const u=`border${hS[l]}Radius`;let f=n_(e,u),m=n_(t,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||t_(f)===t_(m)?(n[u]=Math.max(ut(e_(f),e_(m),r),0),(Kr.test(m)||Kr.test(f))&&(n[u]+="%")):n[u]=m}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,r))}function n_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const C3=fS(0,.5,Pk),N3=fS(.5,.95,Mn);function fS(n,e,t){return r=>r<n?0:r>e?1:t($a(n,e,r))}function r_(n,e){n.min=e.min,n.max=e.max}function Gn(n,e){r_(n.x,e.x),r_(n.y,e.y)}function s_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function i_(n,e,t,r,i){return n-=e,n=Th(n,1/t,r),i!==void 0&&(n=Th(n,1/i,r)),n}function P3(n,e=0,t=1,r=.5,i,a=n,l=n){if(Kr.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ut(a.min,a.max,r);n===a&&(u-=e),n.min=i_(n.min,e,t,u,i),n.max=i_(n.max,e,t,u,i)}function o_(n,e,[t,r,i],a,l){P3(n,e[t],e[r],e[i],e.scale,a,l)}const R3=["x","scaleX","originX"],j3=["y","scaleY","originY"];function a_(n,e,t,r){o_(n.x,e,R3,t?t.x:void 0,r?r.x:void 0),o_(n.y,e,j3,t?t.y:void 0,r?r.y:void 0)}function l_(n){return n.translate===0&&n.scale===1}function pS(n){return l_(n.x)&&l_(n.y)}function c_(n,e){return n.min===e.min&&n.max===e.max}function D3(n,e){return c_(n.x,e.x)&&c_(n.y,e.y)}function u_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function mS(n,e){return u_(n.x,e.x)&&u_(n.y,e.y)}function d_(n){return Ln(n.x)/Ln(n.y)}function h_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class V3{constructor(){this.members=[]}add(e){Dy(this.members,e),e.scheduleRender()}remove(e){if(Vy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M3(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:w,rotateY:T,skewX:b,skewY:C}=t;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),b&&(r+=`skewX(${b}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const so={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lc=typeof window<"u"&&window.MotionDebug!==void 0,lm=["","X","Y","Z"],L3={visibility:"hidden"},f_=1e3;let O3=0;function cm(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function gS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=bk(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&gS(r)}function yS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=O3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lc&&(so.totalNodes=so.resolvedTargetDeltas=so.recalculatedProjection=0),this.nodes.forEach(B3),this.nodes.forEach(H3),this.nodes.forEach(K3),this.nodes.forEach(z3),lc&&window.MotionDebug.record(so)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new k3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new My),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E3(l),this.instance=l;const{layoutId:f,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=S3(T,250),zd.hasAnimatedSinceResize&&(zd.hasAnimatedSinceResize=!1,this.nodes.forEach(m_))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||J3,{onLayoutAnimationStart:I,onLayoutAnimationComplete:L}=y.getProps(),U=!this.targetLayout||!mS(this.targetLayout,C)||b,H=!T&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||H||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,H);const J={...Ny(k,"layout"),onPlay:I,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else T||m_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p_);return}this.isUpdating||this.nodes.forEach(W3),this.isUpdating=!1,this.nodes.forEach(q3),this.nodes.forEach(F3),this.nodes.forEach(U3),this.clearAllSnapshots();const u=Gr.now();qt.delta=ks(0,1e3/60,u-qt.timestamp),qt.timestamp=u,qt.isProcessing=!0,em.update.process(qt),em.preRender.process(qt),em.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($3),this.sharedNodes.forEach(Q3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!pS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;l&&(u||ro(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),Z3(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return yt();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(eL))){const{scroll:y}=this.root;y&&(ka(f.x,y.offset.x),ka(f.y,y.offset.y))}return f}removeElementScroll(l){var u;const f=yt();if(Gn(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:w,options:T}=y;y!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Gn(f,l),ka(f.x,w.offset.x),ka(f.y,w.offset.y))}return f}applyTransform(l,u=!1){const f=yt();Gn(f,l);for(let m=0;m<this.path.length;m++){const y=this.path[m];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Sa(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ro(y.latestValues)&&Sa(f,y.latestValues)}return ro(this.latestValues)&&Sa(f,this.latestValues),f}removeTransform(l){const u=yt();Gn(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!ro(m.latestValues))continue;tg(m.latestValues)&&m.updateSnapshot();const y=yt(),w=m.measurePageBox();Gn(y,w),a_(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return ro(this.latestValues)&&a_(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),xc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),lS(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),xc(this.relativeTargetOrigin,this.target,b.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lc&&so.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tg(this.parent.latestValues)||aS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;Gn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;h3(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=yt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s_(this.prevProjectionDelta.x,this.projectionDelta.x),s_(this.prevProjectionDelta.y,this.projectionDelta.y)),vc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!h_(this.projectionDelta.x,this.prevProjectionDelta.x)||!h_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),lc&&so.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ba(),this.projectionDelta=ba(),this.projectionDeltaWithTransform=ba()}setAnimationOrigin(l,u=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},w=ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const T=yt(),b=f?f.source:void 0,C=this.layout?this.layout.source:void 0,k=b!==C,I=this.getStack(),L=!I||I.members.length<=1,U=!!(k&&!L&&this.options.crossfade===!0&&!this.path.some(X3));this.animationProgress=0;let H;this.mixTargetDelta=J=>{const ee=J/1e3;g_(w.x,l.x,ee),g_(w.y,l.y,ee),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y3(this.relativeTarget,this.relativeTargetOrigin,T,ee),H&&D3(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=yt()),Gn(H,this.relativeTarget)),k&&(this.animationValues=y,A3(y,m,this.latestValues,ee,U,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{zd.hasAnimatedSinceResize=!0,this.currentAnimation=T3(0,f_,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:y}=l;if(!(!u||!f||!m)){if(this!==l&&this.layout&&m&&vS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||yt();const w=Ln(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+w;const T=Ln(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+T}Gn(u,f),Sa(u,y),vc(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new V3),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&cm("z",l,m,this.animationValues);for(let y=0;y<lm.length;y++)cm(`rotate${lm[y]}`,l,m,this.animationValues),cm(`skew${lm[y]}`,l,m,this.animationValues);l.render();for(const y in m)l.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return L3;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ud(l==null?void 0:l.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Ud(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(k.transform=y?y({},""):"none",this.hasProjected=!1),k}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=M3(this.projectionDeltaWithTransform,this.treeScale,T),y&&(m.transform=y(T,m.transform));const{x:b,y:C}=this.projectionDelta;m.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(u=T.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const k in yh){if(T[k]===void 0)continue;const{correct:I,applyTo:L}=yh[k],U=m.transform==="none"?T[k]:I(T[k],w);if(L){const H=L.length;for(let J=0;J<H;J++)m[L[J]]=U}else m[k]=U}return this.options.layoutId&&(m.pointerEvents=w===this?Ud(l==null?void 0:l.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(p_),this.root.sharedNodes.clear()}}}function F3(n){n.updateLayout()}function U3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Qn(w=>{const T=l?t.measuredBox[w]:t.layoutBox[w],b=Ln(T);T.min=r[w].min,T.max=T.min+b}):vS(a,t.layoutBox,r)&&Qn(w=>{const T=l?t.measuredBox[w]:t.layoutBox[w],b=Ln(r[w]);T.max=T.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+b)});const u=ba();vc(u,r,t.layoutBox);const f=ba();l?vc(f,n.applyTransform(i,!0),t.measuredBox):vc(f,r,t.layoutBox);const m=!pS(u);let y=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:b}=w;if(T&&b){const C=yt();xc(C,t.layoutBox,T.layoutBox);const k=yt();xc(k,r,b.layoutBox),mS(C,k)||(y=!0),w.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=C,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function B3(n){lc&&so.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function z3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $3(n){n.clearSnapshot()}function p_(n){n.clearMeasurements()}function W3(n){n.isLayoutDirty=!1}function q3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function m_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function H3(n){n.resolveTargetDelta()}function K3(n){n.calcProjection()}function G3(n){n.resetSkewAndRotation()}function Q3(n){n.removeLeadSnapshot()}function g_(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function y_(n,e,t,r){n.min=ut(e.min,t.min,r),n.max=ut(e.max,t.max,r)}function Y3(n,e,t,r){y_(n.x,e.x,t.x,r),y_(n.y,e.y,t.y,r)}function X3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const J3={duration:.45,ease:[.4,0,.1,1]},v_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),x_=v_("applewebkit/")&&!v_("chrome/")?Math.round:Mn;function w_(n){n.min=x_(n.min),n.max=x_(n.max)}function Z3(n){w_(n.x),w_(n.y)}function vS(n,e,t){return n==="position"||n==="preserve-aspect"&&!n3(d_(e),d_(t),.2)}function eL(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const tL=yS({attachResizeListener:(n,e)=>Mc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),um={current:void 0},xS=yS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!um.current){const n=new tL({});n.mount(window),n.setOptions({layoutScroll:!0}),um.current=n}return um.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nL={pan:{Feature:v3},drag:{Feature:y3,ProjectionNode:xS,MeasureLayout:dS}};function __(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&st.postRender(()=>a(e,tu(e)))}class rL extends Ii{mount(){const{current:e}=this.node;e&&(this.unmount=nM(e,t=>(__(this.node,t,"Start"),r=>__(this.node,r,"End"))))}unmount(){}}class sL extends Ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T_(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&st.postRender(()=>a(e,tu(e)))}class iL extends Ii{mount(){const{current:e}=this.node;e&&(this.unmount=oM(e,t=>(T_(this.node,t,"Start"),(r,{success:i})=>T_(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rg=new WeakMap,dm=new WeakMap,oL=n=>{const e=rg.get(n.target);e&&e(n)},aL=n=>{n.forEach(oL)};function lL({root:n,...e}){const t=n||document;dm.has(t)||dm.set(t,{});const r=dm.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(aL,{root:n,...e})),r[i]}function cL(n,e,t){const r=lL(e);return rg.set(n,t),r.observe(n),()=>{rg.delete(n),r.unobserve(n)}}const uL={some:0,all:1};class dL extends Ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uL[i]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),T=m?y:w;T&&T(f)};return cL(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(hL(e,t))&&this.startObserver()}unmount(){}}function hL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const fL={inView:{Feature:dL},tap:{Feature:iL},focus:{Feature:sL},hover:{Feature:rL}},pL={layout:{ProjectionNode:xS,MeasureLayout:dS}},sg={current:null},wS={current:!1};function mL(){if(wS.current=!0,!!my)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>sg.current=n.matches;n.addListener(e),e()}else sg.current=!1}const gL=[...qk,tn,_i],yL=n=>gL.find(Wk(n)),E_=new WeakMap;function vL(n,e,t){for(const r in e){const i=e[r],a=t[r];if(sn(i))n.addValue(r,i);else if(sn(a))n.addValue(r,Dc(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Dc(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const b_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xL{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Gr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,st.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:y}=l;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=tf(t),this.isVariantNode=Zb(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in T){const C=T[b];f[b]!==void 0&&sn(C)&&C.set(f[b],!1)}}mount(e){this.current=e,E_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),wS.current||mL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E_.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Io.has(e),i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&st.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wa){const t=Wa[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<b_.length;r++){const i=b_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=vL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Dc(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zk(i)||jk(i))?i=parseFloat(i):!yL(i)&&_i.test(t)&&(i=Fk(e,t)),this.setBaseTarget(e,sn(i)?i.get():i)),sn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Ty(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new My),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _S extends xL{constructor(){super(...arguments),this.KeyframeResolver=Hk}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wL(n){return window.getComputedStyle(n)}class _L extends _S{constructor(){super(...arguments),this.type="html",this.renderInstance=lk}readValueFromInstance(e,t){if(Io.has(t)){const r=By(t);return r&&r.default||0}else{const r=wL(e),i=(ik(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return cS(e,t)}build(e,t,r){ky(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Cy(e,t,r)}}class TL extends _S{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Io.has(t)){const r=By(t);return r&&r.default||0}return t=ck.has(t)?t:xy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return hk(e,t,r)}build(e,t,r){Sy(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){uk(e,t,r,i)}mount(e){this.isSVGTag=Ay(e.tagName),super.mount(e)}}const EL=(n,e)=>_y(n)?new TL(e):new _L(e,{allowProjection:n!==R.Fragment}),bL=QV({...K6,...fL,...nL,...pL},EL),re=uV(bL),TS=({isOpen:n,onClose:e})=>{const[t,r]=R.useState(!1),[i,a]=R.useState(!1),[l,u]=R.useState(!1),[f,m]=R.useState(""),[y,w]=R.useState({email:"",password:"",displayName:"",confirmPassword:""}),{signInWithGoogle:T,signInWithEmail:b,signUpWithEmail:C}=Is(),k=ee=>{w({...y,[ee.target.name]:ee.target.value}),m("")},I=async()=>{u(!0),m("");try{await T(),e()}catch(ee){m(ee.message||"Failed to sign in with Google")}finally{u(!1)}},L=async ee=>{ee.preventDefault(),u(!0),m("");try{if(t){if(y.password!==y.confirmPassword){m("Passwords do not match"),u(!1);return}if(y.password.length<6){m("Password must be at least 6 characters"),u(!1);return}if(!y.displayName.trim()){m("Display name is required"),u(!1);return}await C(y.email,y.password,y.displayName)}else await b(y.email,y.password);e()}catch(ae){m(ae.message||`Failed to ${t?"sign up":"sign in"}`)}finally{u(!1)}},U=()=>{w({email:"",password:"",displayName:"",confirmPassword:""}),m(""),a(!1)},H=()=>{r(!t),U()},J=()=>{U(),e()};return d.jsx(Xc,{children:n&&d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:J,children:d.jsxs(re.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:ee=>ee.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Create Account":"Welcome Back"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t?"Join FitVision to track your AI-powered workouts":"Sign in to continue your fitness journey"})]}),d.jsx("button",{onClick:J,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Yc,{className:"h-6 w-6"})})]}),f&&d.jsxs(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[d.jsx(zb,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-red-700",children:f})]}),d.jsxs("button",{onClick:I,disabled:l,className:"w-full mb-6 py-3 px-4 border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-all duration-200 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Continue with Google"})]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),d.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),d.jsx("input",{type:"text",name:"displayName",value:y.displayName,onChange:k,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your name",required:t})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(B5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"email",name:"email",value:y.email,onChange:k,className:"w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(ph,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:i?"text":"password",name:"password",value:y.password,onChange:k,className:"w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),d.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?d.jsx(L5,{className:"h-4 w-4"}):d.jsx(O5,{className:"h-4 w-4"})})]})]}),t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(ph,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:y.confirmPassword,onChange:k,className:"w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:t})]})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Please wait...":t?"Create Account":"Sign In"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[t?"Already have an account?":"Don't have an account?",d.jsx("button",{onClick:H,className:"ml-1 text-purple-600 hover:text-purple-700 font-medium",children:t?"Sign In":"Sign Up"})]})})]})})})},kL=({isOpen:n,onClose:e})=>{var b,C;const{userProfile:t,updateUserProfile:r}=Is(),{theme:i,setTheme:a}=Bb(),[l,u]=R.useState({autoRest:!0,voiceCoaching:!0,formAlerts:!0,repCounting:!0,workoutReminders:((b=t==null?void 0:t.preferences)==null?void 0:b.notifications)||!0,achievementAlerts:!0,weeklyReports:!0,cameraAccess:!0,microphoneAccess:!1,dataCollection:!0,analyticsSharing:!1,theme:i,units:((C=t==null?void 0:t.preferences)==null?void 0:C.units)||"metric",language:"en",aiDifficulty:"adaptive",poseAccuracy:"high",feedbackFrequency:"normal"});R.useEffect(()=>{n&&u(k=>{var I,L;return{...k,theme:i,units:((I=t==null?void 0:t.preferences)==null?void 0:I.units)||"metric",workoutReminders:((L=t==null?void 0:t.preferences)==null?void 0:L.notifications)||!0}})},[n,t,i]);const f=(k,I)=>{u(L=>({...L,[k]:I})),k==="theme"&&a(I)},m=async()=>{try{await r({preferences:{...t==null?void 0:t.preferences,notifications:l.workoutReminders,theme:l.theme,units:l.units}}),e()}catch(k){console.error("Error saving settings:",k)}},y=()=>{u({autoRest:!0,voiceCoaching:!0,formAlerts:!0,repCounting:!0,workoutReminders:!0,achievementAlerts:!0,weeklyReports:!0,cameraAccess:!0,microphoneAccess:!1,dataCollection:!0,analyticsSharing:!1,theme:"light",units:"metric",language:"en",aiDifficulty:"adaptive",poseAccuracy:"high",feedbackFrequency:"normal"}),a("light")},w=({enabled:k,onChange:I,label:L,description:U})=>d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L}),U&&d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:U})]}),d.jsx("button",{onClick:()=>I(!k),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k?"bg-purple-600":"bg-gray-200"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k?"translate-x-6":"translate-x-1"}`})})]}),T=({value:k,onChange:I,options:L,label:U})=>d.jsxs("div",{className:"py-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:U}),d.jsx("select",{value:k,onChange:H=>I(H.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:L.map(H=>d.jsx("option",{value:H.value,children:H.label},H.value))})]});return d.jsx(Xc,{children:n&&d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs(re.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:k=>k.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:d.jsx(cy,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Settings"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Customize your FitVision experience"})]})]}),d.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-white transition-colors",children:d.jsx(Yc,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(ja,{className:"h-5 w-5 mr-2 text-purple-600"}),"Workout Settings"]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(w,{enabled:l.autoRest,onChange:k=>f("autoRest",k),label:"Auto Rest Timer",description:"Automatically start rest periods between sets"}),d.jsx(w,{enabled:l.voiceCoaching,onChange:k=>f("voiceCoaching",k),label:"Voice Coaching",description:"Audio cues and form corrections during workouts"}),d.jsx(w,{enabled:l.formAlerts,onChange:k=>f("formAlerts",k),label:"Form Alerts",description:"Real-time notifications for form improvements"}),d.jsx(w,{enabled:l.repCounting,onChange:k=>f("repCounting",k),label:"Auto Rep Counting",description:"AI-powered automatic repetition counting"})]}),d.jsx(T,{value:l.aiDifficulty,onChange:k=>f("aiDifficulty",k),label:"AI Difficulty",options:[{value:"easy",label:"Easy - Relaxed form requirements"},{value:"adaptive",label:"Adaptive - Adjusts to your level"},{value:"strict",label:"Strict - Precise form required"}]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(D5,{className:"h-5 w-5 mr-2 text-blue-600"}),"Notifications"]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(w,{enabled:l.workoutReminders,onChange:k=>f("workoutReminders",k),label:"Workout Reminders",description:"Daily reminders to stay active"}),d.jsx(w,{enabled:l.achievementAlerts,onChange:k=>f("achievementAlerts",k),label:"Achievement Alerts",description:"Notifications when you unlock achievements"}),d.jsx(w,{enabled:l.weeklyReports,onChange:k=>f("weeklyReports",k),label:"Weekly Reports",description:"Summary of your weekly progress"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(uy,{className:"h-5 w-5 mr-2 text-green-600"}),"Privacy & Permissions"]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(w,{enabled:l.cameraAccess,onChange:k=>f("cameraAccess",k),label:"Camera Access",description:"Required for AI pose detection"}),d.jsx(w,{enabled:l.microphoneAccess,onChange:k=>f("microphoneAccess",k),label:"Microphone Access",description:"For voice commands and coaching"}),d.jsx(w,{enabled:l.dataCollection,onChange:k=>f("dataCollection",k),label:"Workout Data Collection",description:"Store workout data for progress tracking"}),d.jsx(w,{enabled:l.analyticsSharing,onChange:k=>f("analyticsSharing",k),label:"Anonymous Analytics",description:"Help improve FitVision with usage data"})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(H5,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Display & Language"]}),d.jsx(T,{value:l.theme,onChange:k=>f("theme",k),label:"Theme",options:[{value:"light",label:"☀️ Light Mode"},{value:"dark",label:"🌙 Dark Mode"},{value:"auto",label:"🔄 Auto (System)"}]}),d.jsx(T,{value:l.units,onChange:k=>f("units",k),label:"Units",options:[{value:"metric",label:"Metric (kg, cm, km)"},{value:"imperial",label:"Imperial (lbs, ft, miles)"}]}),d.jsx(T,{value:l.language,onChange:k=>f("language",k),label:"Language",options:[{value:"en",label:"🇺🇸 English"},{value:"es",label:"🇪🇸 Español"},{value:"fr",label:"🇫🇷 Français"},{value:"de",label:"🇩🇪 Deutsch"}]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(qb,{className:"h-5 w-5 mr-2 text-yellow-600"}),"AI Settings"]}),d.jsx(T,{value:l.poseAccuracy,onChange:k=>f("poseAccuracy",k),label:"Pose Detection Accuracy",options:[{value:"low",label:"Low - Faster performance"},{value:"medium",label:"Medium - Balanced"},{value:"high",label:"High - Best accuracy"}]}),d.jsx(T,{value:l.feedbackFrequency,onChange:k=>f("feedbackFrequency",k),label:"Feedback Frequency",options:[{value:"minimal",label:"Minimal - Only major corrections"},{value:"normal",label:"Normal - Balanced feedback"},{value:"detailed",label:"Detailed - Comprehensive guidance"}]})]})]})]})}),d.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[d.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white transition-colors",children:[d.jsx(ly,{className:"h-4 w-4"}),d.jsx("span",{children:"Reset to Defaults"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:m,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all duration-200",children:"Save Changes"})]})]})]})})})},SL=()=>{const[n,e]=R.useState(!1),[t,r]=R.useState(!1),[i,a]=R.useState(!1),[l,u]=R.useState(!1),f=Oc(),{user:m,userProfile:y,logout:w}=Is(),{isDark:T,toggleTheme:b}=Bb(),C=async()=>{try{await w(),u(!1)}catch(I){console.error("Error logging out:",I)}},k=[{name:"Home",href:"/",current:f.pathname==="/"},{name:"Dashboard",href:"/dashboard",current:f.pathname==="/dashboard",protected:!0},{name:"Analytics",href:"/analytics",current:f.pathname==="/analytics",protected:!0},{name:"Workout Library",href:"/workout-library",current:f.pathname==="/workout-library"},{name:"Workout Session",href:"/workout-session",current:f.pathname==="/workout-session",protected:!0}].filter(I=>!I.protected||m);return d.jsxs("nav",{className:"bg-white dark:bg-gray-900 shadow-lg fixed w-full z-50 transition-colors duration-200",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs(Rn,{to:"/",className:"flex-shrink-0 flex items-center",children:[d.jsx("img",{className:"h-8 w-auto",src:"/FitVision/images/logo.png",alt:"FitVision"}),d.jsxs("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white",children:["Fit",d.jsx("span",{className:"text-purple-600",children:"Vision"})]})]})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[k.map(I=>d.jsx(Rn,{to:I.href,className:`${I.current?"text-purple-600 border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white"} px-3 py-2 text-sm font-medium transition-colors duration-200`,children:I.name},I.name)),d.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition-colors duration-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Toggle theme",children:T?d.jsx(l1,{className:"h-5 w-5"}):d.jsx(o1,{className:"h-5 w-5"})}),m?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>u(!l),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[m.photoURL?d.jsx("img",{src:m.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:d.jsx(mh,{className:"h-4 w-4 text-white"})}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(y==null?void 0:y.displayName)||m.displayName||"User"})]}),l&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(y==null?void 0:y.displayName)||m.displayName}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.email})]}),d.jsxs(Rn,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>u(!1),children:[d.jsx(mh,{className:"h-4 w-4 mr-3"}),"Profile"]}),d.jsxs(Rn,{to:"/achievements",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>u(!1),children:[d.jsx(Va,{className:"h-4 w-4 mr-3"}),"Achievements"]}),d.jsxs("button",{onClick:()=>{a(!0),u(!1)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[d.jsx(cy,{className:"h-4 w-4 mr-3"}),"Settings"]}),d.jsxs("button",{onClick:C,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:[d.jsx(U5,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})})]}):d.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-200",children:"Sign In"})]}),d.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[d.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white transition-colors duration-200","aria-label":"Toggle theme",children:T?d.jsx(l1,{className:"h-5 w-5"}):d.jsx(o1,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>e(!n),className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white focus:outline-none",children:n?d.jsx(Yc,{className:"h-6 w-6"}):d.jsx(W5,{className:"h-6 w-6"})})]})]}),n&&d.jsx("div",{className:"md:hidden",children:d.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:k.map(I=>d.jsx(Rn,{to:I.href,className:`${I.current?"text-purple-600 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 hover:text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800"} block px-3 py-2 text-base font-medium rounded-md transition-colors duration-200`,onClick:()=>e(!1),children:I.name},I.name))})})]}),d.jsx(TS,{isOpen:t,onClose:()=>r(!1)}),d.jsx(kL,{isOpen:i,onClose:()=>a(!1)})]})},Zl=({children:n,redirectTo:e="/"})=>{const{user:t,loading:r}=Is(),[i,a]=R.useState(!1);if(r)return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:d.jsxs(re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-200 border-t-purple-600 mx-auto mb-4"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx(Hr,{className:"h-6 w-6 text-purple-600"})})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:"Preparing your workout experience..."})]})});if(!t){const l=[{icon:ys,title:"Track Progress",desc:"Monitor your fitness journey"},{icon:Gt,title:"Set Goals",desc:"Achieve your fitness targets"},{icon:Hb,title:"AI Coaching",desc:"Real-time form corrections"},{icon:uy,title:"Secure Data",desc:"Your privacy protected"}];return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 dark:bg-purple-900 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-70 animate-blob"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-300 dark:bg-blue-900 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-70 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-300 dark:bg-pink-900 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),d.jsx("div",{className:"relative flex items-center justify-center min-h-screen px-4",children:d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[d.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-3xl p-8 md:p-12 shadow-2xl border border-white/20 dark:border-gray-700/50 mb-8",children:[d.jsxs(re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring",stiffness:200},className:"relative mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto shadow-lg",children:d.jsx(ph,{className:"w-10 h-10 text-white"})}),d.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full mx-auto animate-ping opacity-20"})]}),d.jsxs(re.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:["Welcome to ",d.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"FitVision"})]}),d.jsx(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Sign in to unlock your personalized AI-powered fitness journey with real-time coaching and progress tracking"}),d.jsxs(re.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},onClick:()=>a(!0),className:"group relative px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 overflow-hidden",children:[d.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[d.jsx(ph,{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform"}),"Sign In to Continue"]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),d.jsx(re.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:l.map((u,f)=>d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4+f*.1},className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 md:p-6 text-center border border-white/30 dark:border-gray-700/50 hover:bg-white/90 dark:hover:bg-gray-800/90 transition-all duration-200",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(u.icon,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base mb-1",children:u.title}),d.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:u.desc})]},u.title))})]})})]}),d.jsx(TS,{isOpen:i,onClose:()=>a(!1)}),d.jsx("style",{jsx:!0,children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `})]})}return d.jsx(d.Fragment,{children:n})};function IL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const AL=R.forwardRef(IL);function CL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const k_=R.forwardRef(CL);function NL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const hm=R.forwardRef(NL);function PL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const RL=R.forwardRef(PL);function jL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const DL=R.forwardRef(jL);function VL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const ML=R.forwardRef(VL);function LL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const S_=R.forwardRef(LL);function OL({title:n,titleId:e,...t},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?R.createElement("title",{id:e},n):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const FL=R.forwardRef(OL),UL=()=>{const n=[{icon:d.jsx(DL,{className:"h-8 w-8"}),title:"Real-Time Pose Detection",description:"Advanced MediaPipe integration tracks 33+ body keypoints with skeleton overlay visualization for perfect form analysis.",color:"bg-blue-500"},{icon:d.jsx(k_,{className:"h-8 w-8"}),title:"Smart Rep Counter",description:"AI-powered OpenCV algorithms automatically count push-ups, squats, and jumping jacks by tracking body movement patterns.",color:"bg-green-500"},{icon:d.jsx(RL,{className:"h-8 w-8"}),title:"Posture Correction Alerts",description:"Real-time joint angle analysis provides instant feedback to prevent injuries and optimize workout effectiveness.",color:"bg-yellow-500"},{icon:d.jsx(hm,{className:"h-8 w-8"}),title:"AI Analytics Dashboard",description:"Machine learning algorithms analyze your performance trends and provide personalized workout recommendations.",color:"bg-purple-500"}],e=[{name:"Push-ups",reps:"Auto-counted",difficulty:"Beginner"},{name:"Squats",reps:"Auto-counted",difficulty:"Intermediate"},{name:"Jumping Jacks",reps:"Auto-counted",difficulty:"Beginner"},{name:"Planks",reps:"Time-based",difficulty:"Advanced"}],t=[{label:"AI Accuracy",value:"95%",icon:d.jsx(hm,{className:"h-6 w-6"})},{label:"Workouts Tracked",value:"10K+",icon:d.jsx(k_,{className:"h-6 w-6"})},{label:"Users Active",value:"2.5K+",icon:d.jsx(FL,{className:"h-6 w-6"})},{label:"Calories Burned",value:"500K+",icon:d.jsx(ML,{className:"h-6 w-6"})}];return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center py-16",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/FitVision/images/logo.png",alt:"FitVision Logo",className:"h-40 w-auto mx-auto mb-6 drop-shadow-lg"}),d.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"AI POWERED"})]}),d.jsxs("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white sm:text-5xl sm:tracking-tight lg:text-6xl",children:["Fit",d.jsx("span",{className:"text-purple-600",children:"Vision"})]}),d.jsx("p",{className:"mt-5 max-w-2xl mx-auto text-xl text-gray-600 dark:text-gray-300",children:"Your AI-Powered Personal Trainer with Real-Time Pose Detection, Smart Rep Counting & Posture Correction"}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[d.jsxs(Rn,{to:"/workout-session",className:"inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-medium rounded-lg text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg transform hover:scale-105 transition-all duration-200",children:[d.jsx(S_,{className:"h-5 w-5 mr-2"}),"Start AI Workout"]}),d.jsxs(Rn,{to:"/workout-library",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-purple-600 text-lg font-medium rounded-lg text-purple-600 bg-white dark:bg-gray-800 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-gray-700 shadow-lg transform hover:scale-105 transition-all duration-200",children:[d.jsx(AL,{className:"h-5 w-5 mr-2"}),"Browse AI Workouts"]})]})]}),d.jsx("div",{className:"py-12 border-y border-gray-200 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl mb-16",children:d.jsx("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:t.map((r,i)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center text-purple-600 mb-2",children:r.icon}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.value}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.label})]},i))})}),d.jsxs("div",{className:"py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"Advanced AI Features"}),d.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-600 dark:text-gray-300",children:"Powered by MediaPipe, OpenCV, and TensorFlow for the most accurate fitness tracking"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4",children:n.map((r,i)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100 dark:border-gray-700",children:[d.jsx("div",{className:`inline-flex p-3 rounded-lg text-white mb-4 ${r.color}`,children:r.icon}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:r.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:r.description})]},i))})]}),d.jsx("div",{className:"py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-sm",children:d.jsxs("div",{className:"px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"AI-Supported Workouts"}),d.jsx("p",{className:"mt-4 text-xl text-gray-600 dark:text-gray-300",children:"Each workout includes real-time AI analysis and feedback"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:e.map((r,i)=>d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:border-purple-300 dark:hover:border-purple-400 transition-colors duration-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.name}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.difficulty==="Beginner"?"bg-green-100 text-green-800":r.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.difficulty})]}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:r.reps}),d.jsxs("div",{className:"flex items-center text-xs text-purple-600",children:[d.jsx(hm,{className:"h-4 w-4 mr-1"}),"AI Tracking Enabled"]})]},i))})]})}),d.jsxs("div",{className:"py-16",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"How FitVision AI Works"})}),d.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-purple-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"1"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Camera Setup"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Position yourself in front of your device camera. Our AI will detect your body pose in real-time."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-blue-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"2"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"AI Analysis"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"MediaPipe tracks 33+ body keypoints while OpenCV counts reps and analyzes your form."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-green-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-green-600",children:"3"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Real-Time Feedback"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Get instant posture corrections, rep counts, and performance analytics during your workout."})]})]})]}),d.jsxs("div",{className:"py-16 text-center bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl text-white",children:[d.jsx("h2",{className:"text-3xl font-extrabold mb-4",children:"Ready to Transform Your Fitness Journey?"}),d.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of users already training smarter with AI"}),d.jsxs(Rn,{to:"/workout-session",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-white dark:border-gray-600 text-lg font-medium rounded-lg text-purple-600 dark:text-purple-400 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 shadow-lg transform hover:scale-105 transition-all duration-200",children:[d.jsx(S_,{className:"h-5 w-5 mr-2"}),"Start Your First AI Workout"]})]})]})})};class si{static async saveWorkoutSession(e,t){try{const r={userId:e,workoutType:{id:t.workoutType.id,name:t.workoutType.name,category:t.workoutType.category,difficulty:t.workoutType.difficulty,type:t.workoutType.type},targetValue:t.targetValue,actualValue:t.repsCompleted,startTime:We.fromDate(t.startTime),endTime:We.fromDate(t.endTime||new Date),duration:Math.floor(((t.endTime||new Date).getTime()-t.startTime.getTime())/1e3),repsCompleted:t.repsCompleted,accuracy:t.accuracy,formScore:t.accuracy,calories:t.calories,aiAccuracy:t.accuracy,formFeedback:(t.formFeedback||[]).map(a=>({timestamp:a.timestamp instanceof Date?a.timestamp.getTime():a.timestamp,type:a.type==="error"?"warning":a.type==="correct"?"encouragement":a.type,message:a.message})),createdAt:We.now()},i=await s4(Yp(Ur,this.COLLECTION_NAME),r);return await this.updateUserStats(e,r),i.id}catch(r){throw console.error("Error saving workout session:",r),r}}static async getUserWorkouts(e,t=50){try{const r=Kw(Yp(Ur,this.COLLECTION_NAME),Ed("userId","==",e),Gw("createdAt","desc"),ZD(t));return(await Xw(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(r){throw console.error("Error getting user workouts:",r),r}}static async getWorkoutById(e){try{const t=ai(Ur,this.COLLECTION_NAME,e),r=await uh(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){throw console.error("Error getting workout by ID:",t),t}}static async deleteWorkoutSession(e){try{await r4(ai(Ur,this.COLLECTION_NAME,e))}catch(t){throw console.error("Error deleting workout session:",t),t}}static async getUserStats(e){try{const t=await this.getUserWorkouts(e,1e3);if(t.length===0)return{totalWorkouts:0,totalReps:0,totalCalories:0,totalMinutes:0,avgFormScore:0,avgAiAccuracy:0,currentStreak:0,bestStreak:0,workoutsByCategory:{},workoutsByDifficulty:{},recentWorkouts:[]};const r=t.length,i=t.reduce((b,C)=>b+C.repsCompleted,0),a=t.reduce((b,C)=>b+C.calories,0),l=Math.floor(t.reduce((b,C)=>b+C.duration,0)/60),u=Math.round(t.reduce((b,C)=>b+C.formScore,0)/r),f=Math.round(t.reduce((b,C)=>b+C.aiAccuracy,0)/r),m={},y={};t.forEach(b=>{const C=b.workoutType.category,k=b.workoutType.difficulty;m[C]=(m[C]||0)+1,y[k]=(y[k]||0)+1});const{currentStreak:w,bestStreak:T}=this.calculateWorkoutStreaks(t);return{totalWorkouts:r,totalReps:i,totalCalories:a,totalMinutes:l,avgFormScore:u,avgAiAccuracy:f,currentStreak:w,bestStreak:T,workoutsByCategory:m,workoutsByDifficulty:y,recentWorkouts:t.slice(0,10)}}catch(t){throw console.error("Error getting user stats:",t),t}}static calculateWorkoutStreaks(e){if(e.length===0)return{currentStreak:0,bestStreak:0};const t=new Set(e.map(f=>f.createdAt.toDate().toDateString())),r=Array.from(t).sort((f,m)=>new Date(m).getTime()-new Date(f).getTime());let i=0,a=0,l=0;const u=new Date;u.setHours(0,0,0,0);for(let f=0;f<r.length;f++){const m=new Date(r[f]);m.setHours(0,0,0,0);const y=Math.floor((u.getTime()-m.getTime())/(1e3*60*60*24));if(f===0&&(y===0||y===1))i=1;else if(i>0){const w=new Date(r[f-1]);if(w.setHours(0,0,0,0),Math.floor((w.getTime()-m.getTime())/(1e3*60*60*24))===1)i++;else break}}l=1;for(let f=1;f<r.length;f++){const m=new Date(r[f]),y=new Date(r[f-1]);Math.floor((y.getTime()-m.getTime())/(1e3*60*60*24))===1?l++:(a=Math.max(a,l),l=1)}return a=Math.max(a,l),{currentStreak:i,bestStreak:a}}static async updateUserStats(e,t){try{const r=ai(Ur,this.USER_STATS_COLLECTION,e),i=await uh(r);let a={totalWorkouts:0,totalReps:0,totalCalories:0,totalMinutes:0,lastWorkoutDate:null,updatedAt:We.now()};i.exists()&&(a={...a,...i.data()});const l={totalWorkouts:a.totalWorkouts+1,totalReps:a.totalReps+t.repsCompleted,totalCalories:a.totalCalories+t.calories,totalMinutes:a.totalMinutes+Math.floor(t.duration/60),lastWorkoutDate:t.createdAt,updatedAt:We.now()};await n4(r,l)}catch(r){console.error("Error updating user stats:",r)}}static async getWorkoutsInDateRange(e,t,r){try{const i=Kw(Yp(Ur,this.COLLECTION_NAME),Ed("userId","==",e),Ed("createdAt",">=",We.fromDate(t)),Ed("createdAt","<=",We.fromDate(r)),Gw("createdAt","desc"));return(await Xw(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(i){throw console.error("Error getting workouts in date range:",i),i}}}rt(si,"COLLECTION_NAME","workouts"),rt(si,"USER_STATS_COLLECTION","userStats");const rl=()=>{const{user:n}=Is(),[e,t]=R.useState([]),[r,i]=R.useState(null),[a,l]=R.useState(!0),[u,f]=R.useState(null),m=async()=>{if(!n){t([]),i(null),l(!1);return}try{l(!0),f(null);const[b,C]=await Promise.all([si.getUserWorkouts(n.uid,50),si.getUserStats(n.uid)]);t(b),i(C)}catch(b){console.error("Error loading workout data:",b),f("Failed to load workout data")}finally{l(!1)}},y=async b=>{if(!n)throw new Error("User not authenticated");try{await si.saveWorkoutSession(n.uid,b),await m()}catch(C){throw console.error("Error saving workout:",C),C}},w=async b=>{try{await si.deleteWorkoutSession(b),await m()}catch(C){throw console.error("Error deleting workout:",C),C}},T=async(b,C)=>{if(!n)return[];try{return await si.getWorkoutsInDateRange(n.uid,b,C)}catch(k){throw console.error("Error getting workouts in range:",k),k}};return R.useEffect(()=>{m()},[n]),{workouts:e,stats:r,loading:a,error:u,saveWorkout:y,deleteWorkout:w,getWorkoutsInRange:T,refreshData:m}},BL=()=>{const{user:n}=Is(),[e,t]=R.useState([]),[r,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{if(!n){t([]),i(!1);return}try{const l=new Date,u=new Date;u.setDate(u.getDate()-7);const f=await si.getWorkoutsInDateRange(n.uid,u,l),y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((w,T)=>{const b=new Date;b.setDate(b.getDate()-(6-T));const C=f.filter(k=>k.createdAt.toDate().toDateString()===b.toDateString());return{day:w,date:b,workouts:C.length,totalReps:C.reduce((k,I)=>k+I.repsCompleted,0),totalCalories:C.reduce((k,I)=>k+I.calories,0),avgFormScore:C.length>0?Math.round(C.reduce((k,I)=>k+I.formScore,0)/C.length):0}});t(y)}catch(l){console.error("Error loading weekly data:",l)}finally{i(!1)}})()},[n]),{weeklyData:e,loading:r}},zL=()=>{const{stats:n}=rl();return{workoutBreakdown:(()=>{if(!n||!n.workoutsByCategory)return[];const t={strength:{bg:"bg-purple-500",light:"bg-purple-100",text:"text-purple-600",color:"bg-purple-500",textColor:"text-purple-600"},cardio:{bg:"bg-blue-500",light:"bg-blue-100",text:"text-blue-600",color:"bg-blue-500",textColor:"text-blue-600"},core:{bg:"bg-green-500",light:"bg-green-100",text:"text-green-600",color:"bg-green-500",textColor:"text-green-600"},flexibility:{bg:"bg-yellow-500",light:"bg-yellow-100",text:"text-yellow-600",color:"bg-yellow-500",textColor:"text-yellow-600"}};return Object.entries(n.workoutsByCategory).map(([r,i])=>({name:r.charAt(0).toUpperCase()+r.slice(1),count:i,sessions:i,totalReps:Math.round(i*20),avgFormScore:n.avgFormScore||85,percentage:Math.round(i/n.totalWorkouts*100),...t[r]||t.strength}))})()}},$L=()=>{const{user:n,userProfile:e}=Is(),{workouts:t,stats:r,loading:i}=rl();if(i)return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})});const a=t.slice(0,3).map(m=>({id:m.id,name:m.workoutType.name,date:m.createdAt.toDate().toISOString().split("T")[0],reps:m.repsCompleted,duration:`${Math.floor(m.duration/60)} min`,formScore:m.formScore,calories:m.calories})),l={workoutsCompleted:(r==null?void 0:r.totalWorkouts)||0,totalReps:(r==null?void 0:r.totalReps)||0,totalMinutes:(r==null?void 0:r.totalMinutes)||0,avgFormScore:(r==null?void 0:r.avgFormScore)||0,totalCalories:(r==null?void 0:r.totalCalories)||0,streak:(r==null?void 0:r.currentStreak)||0},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[d.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:["Welcome Back",e!=null&&e.displayName?`, ${e.displayName}`:""]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"AI-powered fitness tracking with real-time form correction and progress analytics"})]}),d.jsxs(re.div,{variants:u,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[d.jsx(re.div,{variants:f,children:d.jsxs(Rn,{to:"/workout-session",className:"group bg-gradient-to-r from-purple-600 to-blue-600 dark:from-purple-700 dark:to-blue-700 text-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 block",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:d.jsx(Pc,{className:"h-8 w-8"})}),d.jsx("div",{className:"flex items-center text-white/80",children:d.jsx("span",{className:"text-xs bg-white/20 px-3 py-1 rounded-full",children:"AI POWERED"})})]}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Workout"}),d.jsx("p",{className:"text-purple-100 mb-4",children:"Real-time pose detection & form feedback"}),d.jsxs("div",{className:"flex items-center text-white/80",children:[d.jsx("span",{className:"text-sm",children:"Begin your fitness journey"}),d.jsx(Fd,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})}),d.jsx(re.div,{variants:f,children:d.jsxs(Rn,{to:"/workout-library",className:"group bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 block border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:d.jsx(Hr,{className:"h-8 w-8 text-purple-600"})}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-3 py-1 rounded-full",children:"LIBRARY"})})]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Browse Workouts"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Discover AI-tracked exercises"}),d.jsxs("div",{className:"flex items-center text-purple-600",children:[d.jsx("span",{className:"text-sm font-medium",children:"Explore collection"}),d.jsx(Fd,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})}),d.jsx(re.div,{variants:f,children:d.jsxs(Rn,{to:"/analytics",className:"group bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 block border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:d.jsx(ys,{className:"h-8 w-8 text-green-600"})}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-3 py-1 rounded-full",children:"INSIGHTS"})})]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"View Analytics"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Track your fitness progress"}),d.jsxs("div",{className:"flex items-center text-green-600",children:[d.jsx("span",{className:"text-sm font-medium",children:"See detailed metrics"}),d.jsx(Fd,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]}),d.jsxs(re.div,{variants:u,initial:"hidden",animate:"visible",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-12",children:[d.jsxs(re.div,{variants:f,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-purple-100 rounded-xl mb-3",children:d.jsx(Hr,{className:"h-6 w-6 text-purple-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.workoutsCompleted}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Workouts"})]}),d.jsxs(re.div,{variants:f,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-blue-100 rounded-xl mb-3",children:d.jsx(Gt,{className:"h-6 w-6 text-blue-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalReps}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Reps"})]}),d.jsxs(re.div,{variants:f,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-green-100 rounded-xl mb-3",children:d.jsx(bs,{className:"h-6 w-6 text-green-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalMinutes}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Minutes"})]}),d.jsxs(re.div,{variants:f,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-yellow-100 rounded-xl mb-3",children:d.jsx(Ra,{className:"h-6 w-6 text-yellow-600"})}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[l.avgFormScore,"%"]}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Form Score"})]}),d.jsxs(re.div,{variants:f,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-red-100 rounded-xl mb-3",children:d.jsx(Zn,{className:"h-6 w-6 text-red-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalCalories}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"})]}),d.jsxs(re.div,{variants:f,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[d.jsx("div",{className:"inline-flex p-3 bg-orange-100 rounded-xl mb-3",children:d.jsx(Hb,{className:"h-6 w-6 text-orange-600"})}),d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.streak}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Day Streak"})]})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Recent Workouts"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Your latest AI-tracked sessions"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ja,{className:"h-5 w-5 text-purple-600"}),d.jsx(ho,{className:"h-5 w-5 text-purple-600"})]})]}),a.length>0?d.jsx("div",{className:"space-y-4",children:a.map((m,y)=>d.jsxs(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:shadow-md transition-all duration-200",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:d.jsx(uo,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:m.name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(m.date).toLocaleDateString()})]})]}),d.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:m.reps}),d.jsx("div",{className:"text-gray-500",children:"reps"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:m.duration}),d.jsx("div",{className:"text-gray-500",children:"time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"font-semibold text-gray-900",children:[m.formScore,"%"]}),d.jsx("div",{className:"text-gray-500",children:"form"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:m.calories}),d.jsx("div",{className:"text-gray-500",children:"cal"})]})]})]},m.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ja,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workouts yet"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Start your first AI-powered workout to see your progress"}),d.jsxs(Rn,{to:"/workout-session",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:[d.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Start First Workout"]})]})]}),d.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white mb-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(ja,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Real-time Detection"}),d.jsx("p",{className:"text-purple-100",children:"AI tracks your movements with precision using advanced pose detection"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(ho,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Smart Feedback"}),d.jsx("p",{className:"text-purple-100",children:"Get instant form corrections and personalized workout insights"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(Gt,{className:"h-8 w-8"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Auto Rep Counting"}),d.jsx("p",{className:"text-purple-100",children:"Never lose count again with our intelligent repetition tracking"})]})]})})]})})},WL=()=>{const[n,e]=R.useState("week"),{stats:t,loading:r}=rl(),{weeklyData:i}=BL(),{workoutBreakdown:a}=zL();if(r)return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})});const l={workouts:(t==null?void 0:t.totalWorkouts)||0,totalReps:(t==null?void 0:t.totalReps)||0,avgFormScore:(t==null?void 0:t.avgFormScore)||0,aiAccuracy:(t==null?void 0:t.avgAiAccuracy)||0,caloriesBurned:(t==null?void 0:t.totalCalories)||0,activeMinutes:(t==null?void 0:t.totalMinutes)||0,improvements:Math.floor(((t==null?void 0:t.totalWorkouts)||0)*1.5)},u=i.map(w=>({day:w.day,workouts:w.workouts,formScore:w.avgFormScore,reps:w.totalReps})),f=({title:w,value:T,change:b,icon:C,bgColor:k,textColor:I,subtitle:L})=>d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("div",{className:`p-2 rounded-lg ${k}`,children:C}),d.jsx("p",{className:"text-sm font-medium text-gray-600",children:w})]}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:T}),L&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:L})]})}),b!==void 0&&d.jsxs("div",{className:"mt-4 flex items-center",children:[b>0?d.jsxs("div",{className:"flex items-center bg-green-100 px-2 py-1 rounded-full",children:[d.jsx(ys,{className:"h-3 w-3 text-green-600 mr-1"}),d.jsxs("span",{className:"text-xs font-medium text-green-600",children:["+",b,"%"]})]}):b<0?d.jsxs("div",{className:"flex items-center bg-red-100 px-2 py-1 rounded-full",children:[d.jsx(J5,{className:"h-3 w-3 text-red-600 mr-1"}),d.jsxs("span",{className:"text-xs font-medium text-red-600",children:[b,"%"]})]}):d.jsx("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full",children:d.jsx("span",{className:"text-xs font-medium text-gray-600",children:"No change"})}),d.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["vs last ",n]})]})]}),m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl mr-4",children:d.jsx(j5,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time AI-powered insights"})]})]})]})}),d.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex justify-center mb-12",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-1 shadow-lg border border-gray-200 dark:border-gray-700",children:["week","month"].map(w=>d.jsxs("button",{onClick:()=>e(w),className:`px-8 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${n===w?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 hover:bg-gray-50"}`,children:["This ",w.charAt(0).toUpperCase()+w.slice(1)]},w))})}),d.jsxs(re.div,{variants:m,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"AI Workouts",value:l.workouts,change:12,icon:d.jsx(ja,{className:"h-5 w-5 text-white"}),bgColor:"bg-purple-500",subtitle:"Sessions tracked"})}),d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"Total Reps",value:l.totalReps.toLocaleString(),change:8,icon:d.jsx(Gt,{className:"h-5 w-5 text-white"}),bgColor:"bg-blue-500",subtitle:"Auto-counted"})}),d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"Form Score",value:`${l.avgFormScore}%`,change:5,icon:d.jsx(Ra,{className:"h-5 w-5 text-white"}),bgColor:"bg-green-500",subtitle:"Average accuracy"})}),d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"AI Accuracy",value:`${l.aiAccuracy}%`,change:3,icon:d.jsx(ho,{className:"h-5 w-5 text-white"}),bgColor:"bg-yellow-500",subtitle:"Detection precision"})})]}),d.jsxs(re.div,{variants:m,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"Calories Burned",value:l.caloriesBurned.toLocaleString(),change:15,icon:d.jsx(Zn,{className:"h-5 w-5 text-white"}),bgColor:"bg-red-500",subtitle:"Total energy"})}),d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"Active Minutes",value:l.activeMinutes,change:10,icon:d.jsx(bs,{className:"h-5 w-5 text-white"}),bgColor:"bg-indigo-500",subtitle:"Workout time"})}),d.jsx(re.div,{variants:y,children:d.jsx(f,{title:"Improvements",value:l.improvements,change:25,icon:d.jsx(ys,{className:"h-5 w-5 text-white"}),bgColor:"bg-teal-500",subtitle:"Form corrections"})})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Workout Breakdown"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"AI-tracked exercise distribution"})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:d.jsx(Hr,{className:"h-6 w-6 text-purple-600"})})]}),d.jsx("div",{className:"space-y-6",children:a.map((w,T)=>d.jsxs(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`w-4 h-4 rounded-full ${w.color}`}),d.jsx("span",{className:"text-lg font-semibold text-gray-800",children:w.name})]}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w.sessions}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"sessions"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w.totalReps}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"reps"})]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:d.jsx("div",{className:`h-2 rounded-full ${w.color} transition-all duration-500`,style:{width:`${w.sessions/15*100}%`}})}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ra,{className:`h-4 w-4 ${w.textColor}`}),d.jsxs("span",{className:`text-sm font-medium ${w.textColor}`,children:[w.avgFormScore,"% form score"]})]})})]},T))})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Weekly Activity"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Daily workout consistency"})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:d.jsx(uo,{className:"h-6 w-6 text-blue-600"})})]}),d.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:u.map((w,T)=>d.jsxs("div",{className:"flex flex-col items-center flex-1",children:[d.jsxs("div",{className:"w-full flex flex-col items-center space-y-1",children:[d.jsx("div",{className:"w-8 bg-gradient-to-t from-purple-600 to-blue-500 rounded-t-lg transition-all duration-500",style:{height:`${Math.max(w.workouts*40,8)}px`,opacity:w.workouts===0?.3:1}}),w.workouts>0&&d.jsxs("div",{className:"text-xs text-purple-600 font-semibold",children:[w.formScore,"%"]})]}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:w.day})]},T))}),d.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-gradient-to-t from-purple-600 to-blue-500 rounded mr-2"}),d.jsx("span",{children:"Workout Sessions"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(ho,{className:"h-3 w-3 text-purple-600 mr-1"}),d.jsx("span",{children:"Form Score %"})]})]})]})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex p-4 bg-white/20 rounded-2xl mb-4",children:d.jsx(ho,{className:"h-8 w-8"})}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Insights"}),d.jsx("p",{className:"text-purple-100",children:"Personalized recommendations based on your workout data"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-6",children:[d.jsx(ys,{className:"h-8 w-8 mx-auto mb-3"}),d.jsx("h3",{className:"font-bold mb-2",children:"Form Improvement"}),d.jsx("p",{className:"text-sm text-purple-100",children:"Your squat form has improved by 15% this week"})]}),d.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-6",children:[d.jsx(Gt,{className:"h-8 w-8 mx-auto mb-3"}),d.jsx("h3",{className:"font-bold mb-2",children:"Rep Accuracy"}),d.jsx("p",{className:"text-sm text-purple-100",children:"AI is tracking your reps with 94% precision"})]}),d.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-6",children:[d.jsx(Ra,{className:"h-8 w-8 mx-auto mb-3"}),d.jsx("h3",{className:"font-bold mb-2",children:"Achievement"}),d.jsx("p",{className:"text-sm text-purple-100",children:"You've maintained consistent form for 5 days"})]})]})]})]})})},qL=()=>{var T,b,C,k;const{user:n,userProfile:e,updateUserProfile:t}=Is(),{stats:r}=rl(),[i,a]=R.useState(!1),[l,u]=R.useState({displayName:(e==null?void 0:e.displayName)||"",email:(n==null?void 0:n.email)||"",bio:"",location:"",dateOfBirth:"",fitnessGoal:((T=e==null?void 0:e.preferences)==null?void 0:T.fitnessGoal)||"general",units:((b=e==null?void 0:e.preferences)==null?void 0:b.units)||"metric",notifications:((C=e==null?void 0:e.preferences)==null?void 0:C.notifications)||!0,theme:((k=e==null?void 0:e.preferences)==null?void 0:k.theme)||"light"}),f=async()=>{try{await t({displayName:l.displayName,preferences:{...e==null?void 0:e.preferences,units:l.units,notifications:l.notifications,theme:l.theme,fitnessGoal:l.fitnessGoal}}),a(!1)}catch(I){console.error("Error updating profile:",I)}},m=I=>{const{name:L,value:U,type:H}=I.target;u(J=>({...J,[L]:H==="checkbox"?I.target.checked:U}))},y={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your account and preferences"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs(re.div,{variants:y,initial:"hidden",animate:"visible",className:"lg:col-span-1",children:[d.jsx(re.div,{variants:w,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"relative inline-block mb-6",children:[n!=null&&n.photoURL?d.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto"}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center mx-auto",children:d.jsx(mh,{className:"h-12 w-12 text-white"})}),d.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white dark:bg-gray-700 rounded-full shadow-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:d.jsx(ja,{className:"h-4 w-4 text-gray-600"})})]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:(e==null?void 0:e.displayName)||(n==null?void 0:n.displayName)||"User"}),d.jsx("p",{className:"text-gray-500 mb-4",children:n==null?void 0:n.email}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(r==null?void 0:r.totalWorkouts)||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Workouts"})]}),d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(r==null?void 0:r.currentStreak)||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Day Streak"})]})]})]})}),d.jsxs(re.div,{variants:w,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Your Progress"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Gt,{className:"h-5 w-5 text-green-600"}),d.jsx("span",{className:"text-gray-700",children:"Total Reps"})]}),d.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.totalReps)||0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Zn,{className:"h-5 w-5 text-red-600"}),d.jsx("span",{className:"text-gray-700",children:"Calories Burned"})]}),d.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.totalCalories)||0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(bs,{className:"h-5 w-5 text-blue-600"}),d.jsx("span",{className:"text-gray-700",children:"Active Minutes"})]}),d.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.totalMinutes)||0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Ra,{className:"h-5 w-5 text-yellow-600"}),d.jsx("span",{className:"text-gray-700",children:"Avg. Form Score"})]}),d.jsxs("span",{className:"font-semibold",children:[(r==null?void 0:r.avgFormScore)||0,"%"]})]})]})]})]}),d.jsx(re.div,{variants:y,initial:"hidden",animate:"visible",className:"lg:col-span-2",children:d.jsxs(re.div,{variants:w,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Account Settings"}),i?d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Q5,{className:"h-4 w-4"}),d.jsx("span",{children:"Save"})]}),d.jsxs("button",{onClick:()=>a(!1),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[d.jsx(Yc,{className:"h-4 w-4"}),d.jsx("span",{children:"Cancel"})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[d.jsx(G5,{className:"h-4 w-4"}),d.jsx("span",{children:"Edit"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[d.jsx(mh,{className:"h-4 w-4 mr-2"}),"Personal Information"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),d.jsx("input",{type:"text",name:"displayName",value:l.displayName,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:l.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fitness Goal"}),d.jsxs("select",{name:"fitnessGoal",value:l.fitnessGoal,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[d.jsx("option",{value:"weight_loss",children:"Weight Loss"}),d.jsx("option",{value:"muscle_gain",children:"Muscle Gain"}),d.jsx("option",{value:"endurance",children:"Build Endurance"}),d.jsx("option",{value:"strength",children:"Increase Strength"}),d.jsx("option",{value:"general",children:"General Fitness"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[d.jsx(cy,{className:"h-4 w-4 mr-2"}),"Preferences"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),d.jsxs("select",{name:"units",value:l.units,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[d.jsx("option",{value:"metric",children:"Metric (kg, cm)"}),d.jsx("option",{value:"imperial",children:"Imperial (lbs, ft)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme"}),d.jsxs("select",{name:"theme",value:l.theme,onChange:m,disabled:!i,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 dark:disabled:bg-gray-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[d.jsx("option",{value:"light",children:"Light"}),d.jsx("option",{value:"dark",children:"Dark"}),d.jsx("option",{value:"auto",children:"Auto"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"}),d.jsx("button",{type:"button",onClick:()=>m({target:{name:"notifications",type:"checkbox",checked:!l.notifications}}),disabled:!i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.notifications?"bg-purple-600":"bg-gray-200"} ${i?"":"opacity-50"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.notifications?"translate-x-6":"translate-x-1"}`})})]})]})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[d.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Workout Preferences"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx($b,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Weekly Goal"}),d.jsx("div",{className:"text-lg font-bold text-purple-600",children:"5 days"})]})}),d.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(bs,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Session Length"}),d.jsx("div",{className:"text-lg font-bold text-blue-600",children:"30 min"})]})}),d.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ys,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Difficulty"}),d.jsx("div",{className:"text-lg font-bold text-green-600",children:"Beginner"})]})})]})]})]})})]})]})})},HL=()=>{var l;const{stats:n}=rl(),e=[{id:"first_workout",title:"First Steps",description:"Complete your first workout",icon:d.jsx(Hr,{className:"h-8 w-8"}),color:"bg-purple-600",lightColor:"bg-purple-100",textColor:"text-purple-600",unlocked:((n==null?void 0:n.totalWorkouts)||0)>=1,progress:Math.min((n==null?void 0:n.totalWorkouts)||0,1),requirement:"1 workout"},{id:"workout_streak_3",title:"Getting Consistent",description:"Maintain a 3-day workout streak",icon:d.jsx($b,{className:"h-8 w-8"}),color:"bg-blue-600",lightColor:"bg-blue-100",textColor:"text-blue-600",unlocked:((n==null?void 0:n.currentStreak)||0)>=3,progress:Math.min(((n==null?void 0:n.currentStreak)||0)/3,1),requirement:"3-day streak"},{id:"workout_streak_7",title:"Week Warrior",description:"Maintain a 7-day workout streak",icon:d.jsx(Zn,{className:"h-8 w-8"}),color:"bg-orange-600",lightColor:"bg-orange-100",textColor:"text-orange-600",unlocked:((n==null?void 0:n.currentStreak)||0)>=7,progress:Math.min(((n==null?void 0:n.currentStreak)||0)/7,1),requirement:"7-day streak"},{id:"reps_100",title:"Century Club",description:"Complete 100 total reps",icon:d.jsx(Gt,{className:"h-8 w-8"}),color:"bg-green-600",lightColor:"bg-green-100",textColor:"text-green-600",unlocked:((n==null?void 0:n.totalReps)||0)>=100,progress:Math.min(((n==null?void 0:n.totalReps)||0)/100,1),requirement:"100 reps"},{id:"reps_500",title:"Rep Master",description:"Complete 500 total reps",icon:d.jsx($5,{className:"h-8 w-8"}),color:"bg-yellow-600",lightColor:"bg-yellow-100",textColor:"text-yellow-600",unlocked:((n==null?void 0:n.totalReps)||0)>=500,progress:Math.min(((n==null?void 0:n.totalReps)||0)/500,1),requirement:"500 reps"},{id:"calories_1000",title:"Calorie Crusher",description:"Burn 1000 total calories",icon:d.jsx(Zn,{className:"h-8 w-8"}),color:"bg-red-600",lightColor:"bg-red-100",textColor:"text-red-600",unlocked:((n==null?void 0:n.totalCalories)||0)>=1e3,progress:Math.min(((n==null?void 0:n.totalCalories)||0)/1e3,1),requirement:"1000 calories"},{id:"form_master",title:"Perfect Form",description:"Achieve 90%+ average form score",icon:d.jsx(Ra,{className:"h-8 w-8"}),color:"bg-indigo-600",lightColor:"bg-indigo-100",textColor:"text-indigo-600",unlocked:((n==null?void 0:n.avgFormScore)||0)>=90,progress:Math.min(((n==null?void 0:n.avgFormScore)||0)/90,1),requirement:"90% form score"},{id:"time_warrior",title:"Time Warrior",description:"Complete 60 active minutes",icon:d.jsx(bs,{className:"h-8 w-8"}),color:"bg-teal-600",lightColor:"bg-teal-100",textColor:"text-teal-600",unlocked:((n==null?void 0:n.totalMinutes)||0)>=60,progress:Math.min(((n==null?void 0:n.totalMinutes)||0)/60,1),requirement:"60 minutes"},{id:"ai_champion",title:"AI Champion",description:"Achieve 95%+ AI accuracy",icon:d.jsx(Brain,{className:"h-8 w-8"}),color:"bg-purple-600",lightColor:"bg-purple-100",textColor:"text-purple-600",unlocked:((n==null?void 0:n.avgAiAccuracy)||0)>=95,progress:Math.min(((n==null?void 0:n.avgAiAccuracy)||0)/95,1),requirement:"95% AI accuracy"}],t=e.filter(u=>u.unlocked).length,r=e.length,i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl mb-4",children:d.jsx(Va,{className:"h-8 w-8 text-white"})}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Achievements"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Track your fitness milestones and celebrate your progress"})]}),d.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-8 mb-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-purple-100 rounded-2xl mb-3",children:d.jsx(Va,{className:"h-8 w-8 text-purple-600"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Achievements Unlocked"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-blue-100 rounded-2xl mb-3",children:d.jsx(dy,{className:"h-8 w-8 text-blue-600"})}),d.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[Math.round(t/r*100),"%"]}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completion Rate"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-green-100 rounded-2xl mb-3",children:d.jsx(Gt,{className:"h-8 w-8 text-green-600"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(n==null?void 0:n.totalReps)||0}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Reps"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex p-4 bg-yellow-100 rounded-2xl mb-3",children:d.jsx(Zn,{className:"h-8 w-8 text-yellow-600"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(n==null?void 0:n.currentStreak)||0}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Streak"})]})]})}),d.jsx("div",{className:"mb-8",children:d.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["All","Unlocked","In Progress","Locked"].map(u=>d.jsx("button",{className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 shadow-md border border-gray-200 dark:border-gray-700",children:u},u))})}),d.jsx(re.div,{variants:i,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((u,f)=>d.jsxs(re.div,{variants:a,className:`relative overflow-hidden rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${u.unlocked?"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700":"bg-gray-50 border-gray-200"}`,children:[u.unlocked&&d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx(M5,{className:"h-4 w-4 text-green-600"})})}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:`inline-flex p-4 rounded-2xl mb-4 ${u.unlocked?u.lightColor:"bg-gray-200"}`,children:d.jsx("div",{className:u.unlocked?u.textColor:"text-gray-400",children:u.icon})}),d.jsx("h3",{className:`text-xl font-bold mb-2 ${u.unlocked?"text-gray-900 dark:text-white":"text-gray-400"}`,children:u.title}),d.jsx("p",{className:`text-sm mb-4 ${u.unlocked?"text-gray-600":"text-gray-400"}`,children:u.description}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(u.progress*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${u.color}`,style:{width:`${u.progress*100}%`}})})]}),d.jsx("div",{className:`text-xs px-3 py-1 rounded-full inline-block ${u.unlocked?`${u.lightColor} ${u.textColor}`:"bg-gray-200 text-gray-500 dark:text-gray-400"}`,children:u.requirement}),u.unlocked&&d.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[d.jsx(uy,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Unlocked!"})]})]})]},u.id))}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white text-center",children:[d.jsx(Va,{className:"h-12 w-12 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Keep Going!"}),d.jsx("p",{className:"text-purple-100 mb-4",children:"You're doing great! Every workout brings you closer to your next achievement."}),d.jsxs("div",{className:"text-sm text-purple-200",children:["Next milestone: ",((l=e.find(u=>!u.unlocked))==null?void 0:l.title)||"All achievements unlocked!"]})]})]})})},KL=()=>{const[n,e]=R.useState("all"),[t,r]=R.useState(""),[i,a]=R.useState(null),l=[{id:"pushups",name:"Push-ups",description:"Upper body strength with AI form correction",category:"strength",difficulty:"beginner",duration:10,calories:100,icon:d.jsx(Hr,{className:"h-6 w-6"}),color:"bg-purple-500",lightColor:"bg-purple-50 border-purple-200",aiTracking:!0,type:"reps",defaultValue:10,options:[5,10,15,20,25,30],unit:"reps"},{id:"squats",name:"Squats",description:"Lower body strength with depth tracking",category:"strength",difficulty:"beginner",duration:15,calories:150,icon:d.jsx(uo,{className:"h-6 w-6"}),color:"bg-blue-500",lightColor:"bg-blue-50 border-blue-200",aiTracking:!0,type:"reps",defaultValue:15,options:[10,15,20,25,30,40],unit:"reps"},{id:"plank",name:"Plank",description:"Core stability with posture monitoring",category:"core",difficulty:"intermediate",duration:5,calories:50,icon:d.jsx(Da,{className:"h-6 w-6"}),color:"bg-indigo-500",lightColor:"bg-indigo-50 border-indigo-200",aiTracking:!0,type:"time",defaultValue:30,options:[15,30,45,60,90,120],unit:"seconds"},{id:"jumpingjacks",name:"Jumping Jacks",description:"Cardio with arm and leg synchronization",category:"cardio",difficulty:"beginner",duration:10,calories:120,icon:d.jsx(fh,{className:"h-6 w-6"}),color:"bg-pink-500",lightColor:"bg-pink-50 border-pink-200",aiTracking:!0,type:"reps",defaultValue:20,options:[15,20,25,30,40,50],unit:"reps"},{id:"burpees",name:"Burpees",description:"Full body high-intensity exercise",category:"cardio",difficulty:"advanced",duration:8,calories:160,icon:d.jsx(uo,{className:"h-6 w-6"}),color:"bg-red-500",lightColor:"bg-red-50 border-red-200",aiTracking:!1,type:"reps",defaultValue:10,options:[5,10,15,20],unit:"reps"},{id:"lunges",name:"Lunges",description:"Lower body strength and balance",category:"strength",difficulty:"intermediate",duration:12,calories:130,icon:d.jsx(Gt,{className:"h-6 w-6"}),color:"bg-green-500",lightColor:"bg-green-50 border-green-200",aiTracking:!1,type:"reps",defaultValue:20,options:[10,20,30,40],unit:"reps"}],u=[{id:"all",name:"All Exercises",icon:d.jsx(uo,{className:"h-5 w-5"})},{id:"strength",name:"Strength",icon:d.jsx(Hr,{className:"h-5 w-5"})},{id:"cardio",name:"Cardio",icon:d.jsx(fh,{className:"h-5 w-5"})},{id:"core",name:"Core",icon:d.jsx(Gt,{className:"h-5 w-5"})}],f=l.filter(b=>{const C=n==="all"||b.category===n,k=b.name.toLowerCase().includes(t.toLowerCase())||b.description.toLowerCase().includes(t.toLowerCase());return C&&k}),m=b=>{switch(b){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},y=()=>{a(null)},w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Workout Library"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Discover AI-powered workouts designed for every fitness level"})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col lg:flex-row justify-between items-center mb-12 gap-6",children:[d.jsxs("div",{className:"relative w-full lg:w-96",children:[d.jsx(Y5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search workouts...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",value:t,onChange:b=>r(b.target.value)})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:u.map(b=>d.jsxs("button",{onClick:()=>e(b.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200 ${n===b.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 shadow-md border border-gray-200 dark:border-gray-700"}`,children:[b.icon,d.jsx("span",{children:b.name})]},b.id))})]}),d.jsx(re.div,{variants:w,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:f.map((b,C)=>d.jsxs(re.div,{variants:T,onClick:()=>a(b),className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-2 group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${b.color} text-white shadow-lg group-hover:scale-110 transition-transform`,children:b.icon}),d.jsxs("div",{className:"flex items-center space-x-2",children:[b.aiTracking&&d.jsxs("div",{className:"flex items-center bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs font-medium",children:[d.jsx(ho,{className:"h-3 w-3 mr-1"}),"AI"]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(b.difficulty)}`,children:b.difficulty})]})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:b.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:b.description}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1",children:d.jsx(bs,{className:"h-4 w-4 text-blue-500"})}),d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:b.duration}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"min"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1",children:d.jsx(Zn,{className:"h-4 w-4 text-red-500"})}),d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:b.calories}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"cal"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1",children:b.type==="reps"?d.jsx(Gt,{className:"h-4 w-4 text-green-500"}):d.jsx(Da,{className:"h-4 w-4 text-purple-500"})}),d.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:b.defaultValue}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.unit})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[b.type==="reps"?d.jsx(Gt,{className:"h-4 w-4 mr-1"}):d.jsx(Da,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"text-sm",children:b.type==="reps"?"Rep-based":"Time-based"})]}),d.jsxs("div",{className:"flex items-center text-purple-600 font-medium group-hover:text-purple-700",children:[d.jsx("span",{className:"text-sm",children:"Configure"}),d.jsx(Fd,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]},b.id))}),f.length===0&&d.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[d.jsx(Hr,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No workouts found"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Try adjusting your search or filter to find what you're looking for."}),d.jsx("button",{onClick:()=>{r(""),e("all")},className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:"Clear Filters"})]}),d.jsx(Xc,{children:i&&d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:y,children:d.jsxs(re.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:b=>b.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:`inline-flex p-4 rounded-2xl ${i.color} text-white mb-4 shadow-lg`,children:i.icon}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:i.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:i.description}),i.aiTracking&&d.jsxs("div",{className:"inline-flex items-center bg-purple-100 text-purple-600 px-4 py-2 rounded-full text-sm font-medium mt-3",children:[d.jsx(ho,{className:"h-4 w-4 mr-2"}),"AI-Powered Tracking"]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 py-6 border-t border-gray-200 mb-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(bs,{className:"h-5 w-5 text-blue-500"})}),d.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[i.duration," min"]}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Duration"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Zn,{className:"h-5 w-5 text-red-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i.calories}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(dy,{className:"h-5 w-5 text-yellow-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white capitalize",children:i.difficulty}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Level"})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:y,className:"flex-1 py-3 px-6 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),d.jsxs(Rn,{to:`/workout-session?workout=${i.id}`,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[d.jsx(Pc,{className:"h-4 w-4"}),d.jsx("span",{children:"Start Workout"})]})]})]})})})]})})},GL=({onWorkoutSelect:n,isLoading:e=!1})=>{const[t,r]=R.useState(null),[i,a]=R.useState(10),[l,u]=R.useState("all"),f=[{id:"pushups",name:"Push-ups",description:"Upper body strength with AI form correction",category:"strength",type:"reps",difficulty:"beginner",calories:8,icon:d.jsx(Hr,{className:"h-6 w-6"}),color:"bg-purple-500",lightColor:"bg-purple-50 border-purple-200",defaultValue:10,options:[5,10,15,20,25,30],unit:"reps"},{id:"squats",name:"Squats",description:"Lower body strength with depth tracking",category:"strength",type:"reps",difficulty:"beginner",calories:10,icon:d.jsx(uo,{className:"h-6 w-6"}),color:"bg-blue-500",lightColor:"bg-blue-50 border-blue-200",defaultValue:15,options:[10,15,20,25,30,40],unit:"reps"},{id:"plank",name:"Plank",description:"Core stability with posture monitoring",category:"core",type:"time",difficulty:"beginner",calories:5,icon:d.jsx(Da,{className:"h-6 w-6"}),color:"bg-indigo-500",lightColor:"bg-indigo-50 border-indigo-200",defaultValue:30,options:[15,30,45,60,90,120],unit:"seconds"},{id:"jumpingjacks",name:"Jumping Jacks",description:"Cardio with arm and leg synchronization",category:"cardio",type:"reps",difficulty:"beginner",calories:6,icon:d.jsx(fh,{className:"h-6 w-6"}),color:"bg-pink-500",lightColor:"bg-pink-50 border-pink-200",defaultValue:20,options:[15,20,25,30,40,50],unit:"reps"}],m=[{id:"all",name:"All Exercises",icon:d.jsx(uo,{className:"h-5 w-5"})},{id:"strength",name:"Strength",icon:d.jsx(Hr,{className:"h-5 w-5"})},{id:"cardio",name:"Cardio",icon:d.jsx(fh,{className:"h-5 w-5"})},{id:"core",name:"Core",icon:d.jsx(Gt,{className:"h-5 w-5"})}],y=l==="all"?f:f.filter(k=>k.category===l),w=k=>{switch(k){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},T=k=>{r(k),a(k.defaultValue)},b=()=>{t&&n(t,i)},C=()=>{r(null)};return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center py-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"AI-Powered Workouts"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Choose your exercise and let our AI provide real-time form feedback and rep counting"})]}),d.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap justify-center gap-4 mb-8",children:m.map(k=>d.jsxs("button",{onClick:()=>u(k.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200 ${l===k.id?"bg-purple-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 shadow-md"}`,children:[k.icon,d.jsx("span",{children:k.name})]},k.id))})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:y.map((k,I)=>d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},onClick:()=>T(k),className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border-2 cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border-gray-100 dark:border-gray-700 hover:border-purple-200 dark:hover:border-purple-400",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${k.color} text-white`,children:k.icon}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(k.difficulty)}`,children:k.difficulty}),d.jsxs("div",{className:"flex items-center text-orange-500",children:[d.jsx(Zn,{className:"h-4 w-4 mr-1"}),d.jsxs("span",{className:"text-sm font-medium",children:[k.calories," cal"]})]})]})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:k.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:k.description}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[k.type==="reps"?d.jsx(Gt,{className:"h-4 w-4 mr-1"}):d.jsx(Da,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"text-sm",children:k.type==="reps"?"Rep-based":"Time-based"})]})})]},k.id))}),d.jsx(Xc,{children:t&&d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:C,children:d.jsxs(re.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:k=>k.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"relative",children:d.jsx("button",{onClick:C,className:"absolute top-0 right-0 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",children:d.jsx(Yc,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:`inline-flex p-4 rounded-2xl ${t.color} text-white mb-4`,children:t.icon}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t.name}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.description})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Target ",t.type==="reps"?"Reps":"Duration"]}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.options.map(k=>d.jsxs("button",{onClick:()=>a(k),className:`p-3 rounded-lg border-2 font-medium transition-all duration-200 ${i===k?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 text-gray-700 hover:border-purple-300"}`,children:[k," ",t.unit]},k))})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-t border-gray-200",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Zn,{className:"h-5 w-5 text-orange-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Math.round(t.calories*(i/t.defaultValue))}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Da,{className:"h-5 w-5 text-blue-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.type==="reps"?`${Math.round(i*3)}s`:`${i}s`}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Est. Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(ys,{className:"h-5 w-5 text-green-500"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.difficulty}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Level"})]})]}),d.jsxs(re.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:b,disabled:e,className:"w-full py-4 px-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[d.jsx(Pc,{className:"h-5 w-5"}),d.jsx("span",{children:e?"Starting...":"Start AI Workout"})]})]})]})})})]})};function Eh(n,e,t){const r=Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(n.y-e.y,n.x-e.x);let i=Math.abs(r*180/Math.PI);return i>180&&(i=360-i),i}function bh(n,e,t){const r=n.x-e.x,i=n.y-e.y,a=t.x-e.x,l=t.y-e.y,u=r*a+i*l,f=a*a+l*l;let m=-1;f!==0&&(m=u/f);let y,w;m<0?(y=e.x,w=e.y):m>1?(y=t.x,w=t.y):(y=e.x+m*a,w=e.y+m*l);const T=n.x-y,b=n.y-w;return Math.sqrt(T*T+b*b)}function Pe(n,e){return n.find(t=>t.name===e)||null}function QL(n){const e=[],t=Pe(n,"left_hip"),r=Pe(n,"right_hip"),i=Pe(n,"left_knee"),a=Pe(n,"right_knee"),l=Pe(n,"left_ankle"),u=Pe(n,"right_ankle");if(!t||!r||!i||!a||!l||!u)return["Cannot detect full body - position yourself fully in frame"];const f=t&&i&&l?Eh(t,i,l):0,m=r&&a&&u?Eh(r,a,u):0;(f<90||m<90)&&e.push("Go deeper - bend your knees more");const y=Math.abs(i.x-a.x),w=Math.abs(l.x-u.x);return y<w*.8&&e.push("Keep knees aligned over your toes"),Math.abs(t.y-r.y)>20&&e.push("Keep your hips level"),e}function YL(n){const e=[],t=Pe(n,"left_shoulder"),r=Pe(n,"right_shoulder"),i=Pe(n,"left_elbow"),a=Pe(n,"right_elbow"),l=Pe(n,"left_hip"),u=Pe(n,"right_hip");if(!t||!r||!i||!a)return["Cannot detect upper body - position yourself in frame"];if(Math.abs(t.y-r.y)>30&&e.push("Keep your shoulders level"),i&&a&&bh(t,i,a)+bh(r,i,a)>200&&e.push("Keep your elbows closer to your body"),t&&l&&r&&u){const f=Math.abs(t.y-l.y),m=Math.abs(r.y-u.y);(f>50||m>50)&&e.push("Keep your body straight - maintain plank position")}return e}function XL(n){const e=[],t=Pe(n,"left_shoulder"),r=Pe(n,"right_shoulder"),i=Pe(n,"left_hip"),a=Pe(n,"right_hip"),l=Pe(n,"left_elbow"),u=Pe(n,"right_elbow");if(!t||!r||!i||!a)return["Cannot detect full body alignment"];const f={x:(t.x+r.x)/2,y:(t.y+r.y)/2},m={x:(i.x+a.x)/2,y:(i.y+a.y)/2};return Math.abs(f.y-m.y)>40&&(f.y>m.y?e.push("Lower your hips - keep your body straight"):e.push("Raise your hips - avoid sagging")),l&&u&&Math.abs((t.x+r.x)/2-(l.x+u.x)/2)>30&&e.push("Align your shoulders directly over your elbows"),e}function JL(n,e,t,r=.3){const i=e.filter(a=>(a.score||0)>=r);t.forEach(([a,l])=>{const u=Pe(i,a),f=Pe(i,l);u&&f&&(n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(f.x,f.y),n.strokeStyle="#00ff00",n.lineWidth=2,n.stroke())})}const ZL=[["left_shoulder","right_shoulder"],["left_shoulder","left_elbow"],["left_elbow","left_wrist"],["right_shoulder","right_elbow"],["right_elbow","right_wrist"],["left_shoulder","left_hip"],["right_shoulder","right_hip"],["left_hip","right_hip"],["left_hip","left_knee"],["left_knee","left_ankle"],["right_hip","right_knee"],["right_knee","right_ankle"]];class eO{constructor(e){rt(this,"callbacks");rt(this,"currentCount",0);rt(this,"currentPosition","UP");rt(this,"isRunning",!1);rt(this,"intervalId",null);this.callbacks=e}async initialize(){console.log("Fallback detector initialized - manual counting mode"),this.callbacks.onFormFeedback("AI detection unavailable. Use manual controls to count reps.")}start(){this.isRunning=!0,this.callbacks.onPositionChange("READY"),this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.isRunning&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount))},1e3)}stop(){this.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}reset(){this.currentCount=0,this.currentPosition="UP",this.callbacks.onRepComplete(0),this.callbacks.onPositionChange("UP"),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}cleanup(){this.stop()}getCurrentCount(){return this.currentCount}getCurrentPosition(){return this.currentPosition}addRep(){this.isRunning&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount),this.callbacks.onPositionChange(this.currentPosition==="UP"?"DOWN":"UP"),this.currentPosition=this.currentPosition==="UP"?"DOWN":"UP")}}let ya=null;async function tO(){if(ya)return ya;try{return console.log("Initializing TensorFlow.js..."),await Jv(),console.log("TensorFlow.js backend:",Zv()),Zv()!=="webgl"&&(await CI("webgl"),await Jv()),console.log("Creating pose detector..."),ya=await ex(tx.MoveNet,{modelType:NI.modelType.SINGLEPOSE_LIGHTNING,enableSmoothing:!0}),console.log("MoveNet model loaded successfully"),ya}catch(n){console.error("Error loading pose detector:",n),console.error("Error details:",n==null?void 0:n.message);try{return console.log("Attempting fallback initialization..."),ya=await ex(tx.MoveNet),console.log("Fallback detector created successfully"),ya}catch(e){throw console.error("Fallback initialization also failed:",e),new Error(`Failed to initialize pose detector: ${(n==null?void 0:n.message)||n}`)}}}class sf{constructor(e,t){rt(this,"videoElement");rt(this,"canvasElement");rt(this,"ctx");rt(this,"callbacks");rt(this,"detector");rt(this,"isRunning",!1);rt(this,"requestId",null);rt(this,"currentCount",0);rt(this,"currentPosition","UP");rt(this,"lastFrameTime",0);rt(this,"frameCount",0);var r;this.videoElement=e,this.callbacks=t,this.canvasElement=document.createElement("canvas"),this.canvasElement.style.position="absolute",this.canvasElement.style.top="0",this.canvasElement.style.left="0",this.canvasElement.style.width="100%",this.canvasElement.style.height="100%",this.canvasElement.style.zIndex="10",this.canvasElement.style.pointerEvents="none",(r=e.parentNode)==null||r.appendChild(this.canvasElement),this.ctx=this.canvasElement.getContext("2d")}async initialize(){this.detector=await tO()}start(){!this.isRunning&&this.detector&&(this.isRunning=!0,this.lastFrameTime=performance.now(),this.frameCount=0,this.processFrame())}stop(){this.isRunning=!1,this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null)}reset(){this.currentCount=0,this.currentPosition="UP",this.callbacks.onRepComplete(0),this.callbacks.onPositionChange("UP"),this.callbacks.onFormFeedback("")}cleanup(){this.stop(),this.canvasElement&&this.canvasElement.parentNode&&this.canvasElement.parentNode.removeChild(this.canvasElement)}getCurrentCount(){return this.currentCount}getCurrentPosition(){return this.currentPosition}async processFrame(){if(!this.isRunning)return;const e=performance.now();if(e-this.lastFrameTime<67){this.requestId=requestAnimationFrame(()=>this.processFrame());return}this.lastFrameTime=e,this.frameCount++,(this.canvasElement.width!==this.videoElement.videoWidth||this.canvasElement.height!==this.videoElement.videoHeight)&&(this.canvasElement.width=this.videoElement.videoWidth||640,this.canvasElement.height=this.videoElement.videoHeight||480),this.ctx.clearRect(0,0,this.canvasElement.width,this.canvasElement.height);try{if(this.frameCount%2===0){const r=await this.detector.estimatePoses(this.videoElement);if(r.length>0){const a=r[0].keypoints.filter(l=>(l.score||0)>.3);a.length>0&&(this.drawPose(a),this.detectMovement(a))}}this.drawUI()}catch(r){console.error("Error in pose detection:",r),this.ctx.fillStyle="red",this.ctx.font="16px Arial",this.ctx.fillText("Detection error - retrying...",10,30)}this.isRunning&&(this.requestId=requestAnimationFrame(()=>this.processFrame()))}drawPose(e){e.forEach(t=>{this.ctx.beginPath(),this.ctx.arc(t.x,t.y,5,0,2*Math.PI),this.ctx.fillStyle="#ff0000",this.ctx.fill()}),JL(this.ctx,e,ZL)}drawUI(){this.ctx.font="24px Arial",this.ctx.fillStyle=this.currentPosition==="DOWN"?"#ff0000":"#00ff00",this.ctx.fillText(this.currentPosition,10,60),this.ctx.font="32px Arial",this.ctx.fillStyle="#ffffff",this.ctx.strokeStyle="#000000",this.ctx.lineWidth=2,this.ctx.strokeText(`Reps: ${this.currentCount}`,10,100),this.ctx.fillText(`Reps: ${this.currentCount}`,10,100)}}class nO extends sf{detectMovement(e){const t=Pe(e,"left_shoulder"),r=Pe(e,"right_shoulder"),i=Pe(e,"left_elbow"),a=Pe(e,"right_elbow");if(!t||!r||!i||!a){this.callbacks.onFormFeedback("Position yourself so your upper body is visible");return}const l=bh(t,i,a),u=bh(r,i,a),f=l+u;this.ctx.font="16px Arial",this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.strokeText(`Distance: ${Math.round(f)}`,10,30),this.ctx.fillText(`Distance: ${Math.round(f)}`,10,30);const m=this.currentPosition;if(f<120)this.currentPosition="DOWN",m!=="DOWN"&&this.callbacks.onPositionChange("DOWN");else{if(this.currentPosition==="DOWN"){this.currentCount++,this.callbacks.onRepComplete(this.currentCount);try{const w=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+Lr0Hj");w.volume=.3,w.play().catch(()=>{})}catch{}}this.currentPosition="UP",m!=="UP"&&this.callbacks.onPositionChange("UP")}const y=YL(e);y.length>0?this.callbacks.onFormFeedback(y[0],"warning"):this.callbacks.onFormFeedback("Good form!","correct"),this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(a.x,a.y),this.ctx.lineWidth=3,this.ctx.strokeStyle="red",this.ctx.stroke()}}class rO extends sf{detectMovement(e){const t=Pe(e,"left_hip"),r=Pe(e,"right_hip"),i=Pe(e,"left_knee"),a=Pe(e,"right_knee"),l=Pe(e,"left_ankle"),u=Pe(e,"right_ankle");if(!t||!r||!i||!a||!l||!u){this.callbacks.onFormFeedback("Position yourself so your full body is visible");return}const f=Eh(t,i,l),m=Eh(r,a,u),y=(f+m)/2;this.ctx.font="16px Arial",this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.strokeText(`Knee Angle: ${Math.round(y)}°`,10,30),this.ctx.fillText(`Knee Angle: ${Math.round(y)}°`,10,30);const w=this.currentPosition;y<120?(this.currentPosition="DOWN",w!=="DOWN"&&this.callbacks.onPositionChange("DOWN")):(this.currentPosition==="DOWN"&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount)),this.currentPosition="UP",w!=="UP"&&this.callbacks.onPositionChange("UP"));const T=QL(e);T.length>0?this.callbacks.onFormFeedback(T[0],"warning"):this.callbacks.onFormFeedback("Good form!","correct")}}class sO extends sf{constructor(){super(...arguments);rt(this,"startTime",null);rt(this,"elapsedTime",0)}start(){super.start(),this.startTime=Date.now()}reset(){super.reset(),this.startTime=Date.now(),this.elapsedTime=0}detectMovement(t){const r=Pe(t,"left_shoulder"),i=Pe(t,"right_shoulder"),a=Pe(t,"left_hip"),l=Pe(t,"right_hip");if(!r||!i||!a||!l){this.callbacks.onFormFeedback("Position yourself so your torso is visible");return}const u={x:(r.x+i.x)/2,y:(r.y+i.y)/2},f={x:(a.x+l.x)/2,y:(a.y+l.y)/2},y=Math.abs(u.y-f.y)<40;y?(this.currentPosition="HOLD",this.startTime&&(this.elapsedTime=Math.floor((Date.now()-this.startTime)/1e3),this.callbacks.onRepComplete(this.elapsedTime))):this.currentPosition="ADJUST",this.callbacks.onPositionChange(this.currentPosition);const w=XL(t);w.length>0?this.callbacks.onFormFeedback(w[0],"warning"):y&&this.callbacks.onFormFeedback("Perfect plank position!","correct")}drawUI(){this.ctx.font="32px Arial",this.ctx.fillStyle="#ffffff",this.ctx.strokeStyle="#000000",this.ctx.lineWidth=2,this.ctx.strokeText(`Time: ${this.elapsedTime}s`,10,100),this.ctx.fillText(`Time: ${this.elapsedTime}s`,10,100),this.ctx.font="24px Arial",this.ctx.fillStyle=this.currentPosition==="HOLD"?"#00ff00":"#ff0000",this.ctx.fillText(this.currentPosition,10,60)}}class iO extends sf{detectMovement(e){const t=Pe(e,"left_wrist"),r=Pe(e,"right_wrist"),i=Pe(e,"left_ankle"),a=Pe(e,"right_ankle"),l=Pe(e,"nose");if(!t||!r||!i||!a||!l){this.callbacks.onFormFeedback("Position yourself so your full body is visible");return}const u=t.y<l.y&&r.y<l.y,m=Math.abs(i.x-a.x)>100,y=this.currentPosition;u&&m?(this.currentPosition="OUT",y!=="OUT"&&this.callbacks.onPositionChange("OUT")):(this.currentPosition==="OUT"&&(this.currentCount++,this.callbacks.onRepComplete(this.currentCount)),this.currentPosition="IN",y!=="IN"&&this.callbacks.onPositionChange("IN")),!u&&!m?this.callbacks.onFormFeedback("Good form!","correct"):u?m||this.callbacks.onFormFeedback("Spread your legs wider","warning"):this.callbacks.onFormFeedback("Raise your arms higher","warning"),this.ctx.font="16px Arial",this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.strokeText(`Arms: ${u?"UP":"DOWN"} | Legs: ${m?"OUT":"IN"}`,10,30),this.ctx.fillText(`Arms: ${u?"UP":"DOWN"} | Legs: ${m?"OUT":"IN"}`,10,30)}}function oO(n,e,t){switch(n.toLowerCase()){case"pushups":return new nO(e,t);case"squats":return new rO(e,t);case"plank":return new sO(e,t);case"jumpingjacks":return new iO(e,t);default:throw new Error(`Unsupported workout type: ${n}`)}}function aO(n){return new eO(n)}const lO=({currentReps:n,targetReps:e,workoutType:t,currentPosition:r,elapsedTime:i=0,caloriesEstimate:a=0,accuracy:l=100})=>{const u=t==="reps"?n/e*100:i/e*100,f=u>=100,m=y=>{const w=Math.floor(y/60),T=y%60;return`${w}:${T.toString().padStart(2,"0")}`};return d.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-3 lg:p-6 shadow-lg border border-gray-200",children:[d.jsxs("div",{className:"text-center mb-3 lg:mb-6",children:[d.jsx(re.div,{initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},className:"text-3xl lg:text-6xl font-bold text-gray-900 mb-1 lg:mb-2",children:t==="reps"?n:m(i)},n),d.jsx("div",{className:"text-sm lg:text-lg text-gray-600",children:t==="reps"?`/ ${e} reps`:`/ ${m(e)} target`}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 lg:h-3 mt-2 lg:mt-4 overflow-hidden",children:d.jsx(re.div,{className:`h-full rounded-full ${f?"bg-green-500":u>75?"bg-blue-500":"bg-purple-500"}`,initial:{width:0},animate:{width:`${Math.min(u,100)}%`},transition:{duration:.5}})}),d.jsxs("div",{className:"text-xs lg:text-sm text-gray-500 mt-1 lg:mt-2",children:[Math.round(u),"% Complete"]})]}),d.jsx("div",{className:"flex justify-center mb-3 lg:mb-6",children:d.jsx(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`px-3 lg:px-6 py-1.5 lg:py-3 rounded-full font-bold text-sm lg:text-lg ${r==="DOWN"||r==="HOLD"||r==="OUT"?"bg-red-100 text-red-700 border-2 border-red-300":r==="UP"||r==="IN"?"bg-green-100 text-green-700 border-2 border-green-300":"bg-yellow-100 text-yellow-700 border-2 border-yellow-300"}`,children:r},r)}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1 lg:mb-2",children:d.jsx(bs,{className:"h-4 w-4 lg:h-5 lg:w-5 text-blue-500"})}),d.jsx("div",{className:"text-sm lg:text-lg font-semibold text-gray-900",children:m(i)}),d.jsx("div",{className:"text-xs text-gray-500",children:"Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1 lg:mb-2",children:d.jsx(Zn,{className:"h-4 w-4 lg:h-5 lg:w-5 text-orange-500"})}),d.jsx("div",{className:"text-sm lg:text-lg font-semibold text-gray-900",children:Math.round(a)}),d.jsx("div",{className:"text-xs text-gray-500",children:"Calories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-1 lg:mb-2",children:d.jsx(ys,{className:"h-4 w-4 lg:h-5 lg:w-5 text-green-500"})}),d.jsxs("div",{className:"text-sm lg:text-lg font-semibold text-gray-900",children:[Math.round(l),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Form"})]})]}),f&&d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-3 lg:mt-6 text-center p-3 lg:p-4 bg-green-100 rounded-lg border-2 border-green-300",children:[d.jsx("div",{className:"text-green-700 font-bold text-base lg:text-lg",children:"🎉 Workout Complete!"}),d.jsx("div",{className:"text-green-600 text-xs lg:text-sm mt-1",children:"Great job! You've reached your target."})]})]})},cO=({feedback:n,type:e,isVisible:t})=>{const i=(()=>{switch(e){case"correct":return{icon:d.jsx(Wb,{className:"h-5 w-5"}),bgColor:"bg-green-100 border-green-300",textColor:"text-green-700",iconColor:"text-green-500"};case"warning":return{icon:d.jsx(R5,{className:"h-5 w-5"}),bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-700",iconColor:"text-yellow-500"};case"error":return{icon:d.jsx(zb,{className:"h-5 w-5"}),bgColor:"bg-red-100 border-red-300",textColor:"text-red-700",iconColor:"text-red-500"};case"info":default:return{icon:d.jsx(qb,{className:"h-5 w-5"}),bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-700",iconColor:"text-blue-500"}}})();return d.jsx(Xc,{children:t&&n&&d.jsxs(re.div,{initial:{opacity:0,x:-100,scale:.8},animate:{opacity:1,x:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,x:-100,scale:.8,transition:{duration:.2}},className:`
            fixed top-24 left-4 z-50 p-4 rounded-lg border-2 shadow-lg 
            backdrop-blur-sm max-w-sm
            ${i.bgColor}
          `,children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:`flex-shrink-0 ${i.iconColor}`,children:i.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:`font-semibold text-sm ${i.textColor}`,children:[e==="correct"&&"Perfect Form!",e==="warning"&&"Form Alert",e==="error"&&"Form Error",e==="info"&&"Tip"]}),d.jsx("div",{className:`text-sm mt-1 ${i.textColor}`,children:n})]})]}),d.jsx(re.div,{className:"mt-3 h-1 bg-white/30 rounded-full overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:d.jsx(re.div,{className:`h-full ${e==="correct"?"bg-green-500":e==="warning"?"bg-yellow-500":e==="error"?"bg-red-500":"bg-blue-500"}`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:4,ease:"linear"}})})]})})};class uO{constructor(){rt(this,"audioContext",null);rt(this,"enabled",!0);this.initializeAudio()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.warn("Audio not supported:",e),this.enabled=!1}}createBeep(e,t,r=.1){if(!this.audioContext||!this.enabled)return;const i=this.audioContext.createOscillator(),a=this.audioContext.createGain();i.connect(a),a.connect(this.audioContext.destination),i.frequency.value=e,i.type="sine",a.gain.setValueAtTime(r,this.audioContext.currentTime),a.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+t),i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+t)}repCompleted(){this.createBeep(800,.1,.15)}formAlert(){this.createBeep(400,.2,.2)}achievement(){setTimeout(()=>this.createBeep(523,.1,.1),0),setTimeout(()=>this.createBeep(659,.1,.1),100),setTimeout(()=>this.createBeep(784,.1,.1),200)}countdown(){this.createBeep(600,.1,.1)}error(){this.createBeep(300,.5,.3)}milestone(){this.createBeep(700,.15,.15)}speak(e){if(!this.enabled||!("speechSynthesis"in window))return;const t=new SpeechSynthesisUtterance(e);t.rate=.9,t.pitch=1,t.volume=.7;const i=speechSynthesis.getVoices().find(a=>a.lang.includes("en"));i&&(t.voice=i),speechSynthesis.speak(t)}setEnabled(e){this.enabled=e}resume(){this.audioContext&&this.audioContext.state==="suspended"&&this.audioContext.resume()}}const Or=new uO;class dO{constructor(){rt(this,"lastMotivationTime",0);rt(this,"motivationCooldown",5e3)}getMotivationalMessage(e,t,r){const i=e/t,a=t-e,l=Date.now();if(l-this.lastMotivationTime<this.motivationCooldown)return null;let u="";return a===1?u="One more! You've got this!":a===2?u="Two left! Keep going!":a===3?u="Three more! You're almost there!":a===5?u="Five more! Push through!":i>=.9?u="Final stretch! Don't give up!":i>=.75?u="Three quarters done! Keep it up!":i>=.5?u="Halfway there! You're doing great!":i>=.25?u="Quarter done! Find your rhythm!":e===5?u="Five reps down! You're warmed up!":e===10&&(u="Ten reps! You're on fire!"),r==="pushups"&&e>0&&e%10===0?u=`${e} push-ups! Your upper body is getting stronger!`:r==="squats"&&e>0&&e%15===0?u=`${e} squats! Your legs are on fire!`:r==="jumpingjacks"&&e>0&&e%20===0&&(u=`${e} jumping jacks! Your heart is pumping!`),u?(this.lastMotivationTime=l,u):null}getFormFeedbackMessage(e,t){const a=({pushups:{low_back:["Keep your back straight!","Engage your core!","Don't let your hips sag!"],elbow_angle:["Lower down more!","Get those elbows to 90 degrees!","Go deeper!"],head_position:["Keep your head neutral!","Look down at the floor!","Don't crane your neck!"]},squats:{knee_position:["Keep your knees over your toes!","Don't let your knees cave in!","Track those knees!"],depth:["Go lower!","Get your thighs parallel!","Deeper squat!"],back_angle:["Keep your chest up!","Don't lean forward!","Proud chest!"]},jumpingjacks:{arm_position:["Get those arms all the way up!","Touch your hands overhead!","Full range of motion!"],landing:["Land softer!","Bend your knees on landing!","Light on your feet!"]}}[t]||{})[e]||["Keep focusing on your form!"];return a[Math.floor(Math.random()*a.length)]}getComeIntoFrameMessage(){const e=["Please step into the camera frame!","I can't see you! Move into the frame!","Come into view so I can track your workout!","Position yourself in front of the camera!","Step into the frame to start tracking!"];return e[Math.floor(Math.random()*e.length)]}getEncouragementMessage(){const e=["You're doing great!","Keep up the good work!","Strong and steady!","Perfect form!","You've got this!","Stay focused!","Breathe and push!","Looking good!","Nice rhythm!","Keep it up!"];return e[Math.floor(Math.random()*e.length)]}getBreakWarningMessage(e){return e>3e4?"Ready to continue? Your body is cooling down!":e>6e4?"Let's get back to it! You've got momentum to maintain!":e>12e4?"Time to resume! Your muscles are getting cold!":"Take your time, but don't rest too long!"}}const I_=new dO,hO=({selectedWorkout:n,targetValue:e,onWorkoutComplete:t,onExit:r})=>{const i=R.useRef(null),a=R.useRef(null),l=R.useRef(null),[u,f]=R.useState(!0),[m,y]=R.useState(!1),[w,T]=R.useState(null),[b,C]=R.useState(0),[k,I]=R.useState("UP"),[L,U]=R.useState(""),[H,J]=R.useState("correct"),[ee,ae]=R.useState(!1),[D,A]=R.useState(null),[N,M]=R.useState(0),[F,z]=R.useState(!1),[j,Xe]=R.useState(!1),[At,Ct]=R.useState(!0),[ke,se]=R.useState([]),[ge,le]=R.useState(0),[B,Y]=R.useState(!1),[ye,Ce]=R.useState(0),[Ne,je]=R.useState(null),Oe=Ge=>{const En=Math.floor(Ge/60),dn=Ge%60;return`${En}:${dn.toString().padStart(2,"0")}`};R.useEffect(()=>{let Ge;return m&&D&&(Ge=setInterval(()=>{M(Math.floor((Date.now()-D.getTime())/1e3))},1e3)),()=>{Ge&&clearInterval(Ge)}},[m,D]);const De=R.useCallback(async()=>{try{f(!0),T(null);const Ge=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!1});i.current&&(i.current.srcObject=Ge,a.current=Ge,i.current.onloadedmetadata=async()=>{var En,dn,Sr;try{console.log("Initializing workout detector for:",n.id);const Qe={onRepComplete:at=>{C(at),le(Date.now()),Or.repCompleted();const ht=I_.getMotivationalMessage(at,e,n.id);ht&&(Or.speak(ht),U(ht),J("correct"),ae(!0),setTimeout(()=>ae(!1),3e3))},onPositionChange:I,onFormFeedback:(at,ht="correct")=>{at!==L&&(U(at),J(ht),ae(!0),(ht==="error"||ht==="warning")&&(Or.formAlert(),Y(!0),setTimeout(()=>Y(!1),1e3),se(bn=>[...bn,at])),setTimeout(()=>ae(!1),4e3))},onPersonDetected:at=>{if(Ct(at),!at){const ht=I_.getComeIntoFrameMessage();Or.speak(ht),U(ht),J("warning"),ae(!0)}}};j?l.current=aO(Qe):l.current=oO(n.id,i.current,Qe),console.log("Detector created, initializing..."),await l.current.initialize(),console.log("Detector initialized successfully"),f(!1)}catch(Qe){console.error("Detector initialization error:",Qe),console.error("Error stack:",Qe==null?void 0:Qe.stack);let at="Failed to initialize AI detection.";Qe!=null&&Qe.message&&(at+=` Details: ${Qe.message}`),(En=Qe==null?void 0:Qe.message)!=null&&En.includes("WebGL")?at="WebGL not supported. Please use a modern browser with hardware acceleration enabled.":((dn=Qe==null?void 0:Qe.message)!=null&&dn.includes("network")||(Sr=Qe==null?void 0:Qe.message)!=null&&Sr.includes("fetch"))&&(at="Failed to download AI model. Please check your internet connection."),T(at),f(!1)}})}catch(Ge){console.error("Camera access error:",Ge),T("Unable to access camera. Please check permissions and try again."),f(!1)}},[n.id,L]),Ke=R.useCallback(()=>{l.current&&!m&&(y(!0),A(new Date),C(0),I("UP"),se([]),Ce(0),je(null),Or.resume(),Or.speak("Let's begin! Show me your best form!"),l.current.start())},[m]),_t=R.useCallback(()=>{l.current&&m&&(y(!1),je(Date.now()),l.current.stop(),Or.speak("Workout paused. Take a breath!"))},[m]),tr=R.useCallback(()=>{l.current&&(y(!1),C(0),I("UP"),M(0),A(null),l.current.reset())},[]),nr=R.useCallback(()=>{l.current&&l.current.stop();const Ge=b*3,En=ke.length,dn=Math.max(60,Math.round((1-En/Ge)*100)),Sr=n.calories*(b/n.defaultValue),Qe=N>0?Math.min(1.2,600/N):1,at=dn/100,ht=Math.round(Sr*Qe*at),bn={workoutType:n,targetValue:e,repsCompleted:b,timeElapsed:N,accuracy:dn,calories:ht,formIssues:ke.length,averageRepTime:b>0?N/b:0};b>=e?(Or.achievement(),Or.speak(`Outstanding! You completed ${b} reps with ${dn}% form accuracy!`)):Or.speak(`Good effort! You completed ${b} out of ${e} reps.`),t(bn)},[n,e,b,N,ke,t]);R.useEffect(()=>{n.type==="reps"&&b>=e?setTimeout(nr,2e3):n.type==="time"&&N>=e&&setTimeout(nr,1e3)},[b,N,e,n.type,nr]),R.useEffect(()=>()=>{a.current&&a.current.getTracks().forEach(Ge=>Ge.stop()),l.current&&l.current.cleanup()},[]),R.useEffect(()=>{De()},[De]);const kr=()=>{z(!F)};return n.type==="reps"?b/e*100:N/e*100,w?d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl max-w-lg w-full text-center",children:[d.jsx("div",{className:"text-red-500 mb-4",children:d.jsx(V5,{className:"h-12 w-12 mx-auto"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"AI Detection Error"}),d.jsx("p",{className:"text-gray-600 mb-6",children:w}),d.jsxs("details",{className:"mb-6 text-left",children:[d.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"Show technical details"}),d.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded text-xs text-gray-600 font-mono",children:[d.jsxs("p",{children:["Workout Type: ",n.id]}),d.jsxs("p",{children:["Browser: ",navigator.userAgent]}),d.jsxs("p",{children:["WebGL Support: ",(()=>{try{const Ge=document.createElement("canvas");return!!(Ge.getContext("webgl")||Ge.getContext("experimental-webgl"))}catch{return!1}})()?"Yes":"No"]}),d.jsxs("p",{children:["Camera Access: ",a.current?"Granted":"Denied/Failed"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:De,className:"w-full py-3 px-4 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>{Xe(!0),T(null),De()},className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue with Manual Counting"}),d.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Go Back"})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Troubleshooting Tips:"}),d.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[d.jsx("li",{children:"• Make sure your browser supports WebGL"}),d.jsx("li",{children:"• Enable hardware acceleration in browser settings"}),d.jsx("li",{children:"• Try refreshing the page"}),d.jsx("li",{children:"• Check your internet connection"}),d.jsx("li",{children:"• Use Chrome, Firefox, or Safari for best results"})]})]})]})}):d.jsxs("div",{className:`${F?"fixed inset-0 z-50":"min-h-screen"} bg-gray-900 flex flex-col ${B?"ring-4 ring-red-500 ring-opacity-75":""}`,children:[d.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20 p-2 md:p-4",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[d.jsx("div",{className:`p-1 md:p-2 rounded-lg ${n.color} text-white`,children:n.icon}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg md:text-xl font-bold text-white",children:n.name}),d.jsxs("p",{className:"text-white/70 text-xs md:text-sm",children:["Target: ",e," ",n.unit]})]})]}),d.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[d.jsx("button",{onClick:kr,className:"p-1.5 md:p-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10 transition-all touch-manipulation",children:F?d.jsx(q5,{className:"h-4 w-4 md:h-5 md:w-5"}):d.jsx(z5,{className:"h-4 w-4 md:h-5 md:w-5"})}),d.jsx("button",{onClick:r,className:"p-1.5 md:p-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10 transition-all touch-manipulation",children:d.jsx(a1,{className:"h-4 w-4 md:h-5 md:w-5"})})]})]})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex-1 relative min-h-0 lg:flex lg:flex-row",children:[d.jsxs("div",{className:"flex-1 relative bg-black",children:[u&&d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:d.jsxs("div",{className:"text-white text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),d.jsx("p",{className:"text-lg font-medium",children:"Initializing AI Detection..."}),d.jsx("p",{className:"text-sm text-white/70 mt-2",children:"This may take a few moments"})]})}),d.jsx("video",{ref:i,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx(cO,{feedback:L,type:H,isVisible:ee&&!u}),d.jsx("div",{className:"absolute bottom-2 lg:bottom-4 left-1/2 transform -translate-x-1/2",children:d.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 bg-black/50 backdrop-blur-sm rounded-full px-3 lg:px-6 py-2 lg:py-3",children:[m?d.jsx(re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:_t,className:"p-2 lg:p-3 rounded-full bg-yellow-500 text-white hover:bg-yellow-600 transition-colors touch-manipulation",children:d.jsx(K5,{className:"h-4 w-4 lg:h-6 lg:w-6"})}):d.jsx(re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ke,disabled:u,className:"p-2 lg:p-3 rounded-full bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors touch-manipulation",children:d.jsx(Pc,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),j&&m&&d.jsx(re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{l.current&&"addRep"in l.current&&l.current.addRep()},className:"p-2 lg:p-3 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-colors touch-manipulation",children:d.jsx(Gt,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),d.jsx(re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:tr,className:"p-2 lg:p-3 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors touch-manipulation",children:d.jsx(ly,{className:"h-4 w-4 lg:h-6 lg:w-6"})}),d.jsx(re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:nr,className:"p-2 lg:p-3 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-colors touch-manipulation",children:d.jsx(a1,{className:"h-4 w-4 lg:h-6 lg:w-6"})})]})}),j&&m&&d.jsx("div",{className:"absolute top-2 lg:top-4 left-1/2 transform -translate-x-1/2 px-2",children:d.jsx("div",{className:"bg-blue-500/80 backdrop-blur-sm text-white px-3 lg:px-4 py-1.5 lg:py-2 rounded-lg text-xs lg:text-sm text-center",children:"Manual Mode: Tap the target button to count each rep"})})]}),d.jsxs("div",{className:"hidden lg:flex lg:w-80 bg-gray-800 p-6 flex-col h-full",children:[d.jsx(lO,{currentReps:n.type==="reps"?b:N,targetReps:e,workoutType:n.type,currentPosition:k,elapsedTime:N,caloriesEstimate:Math.round(n.calories*(b/n.defaultValue)),accuracy:95}),d.jsxs("div",{className:"mt-6 bg-white/10 rounded-lg p-4",children:[d.jsx("h3",{className:"text-white font-semibold mb-3 text-base",children:"Form Tips"}),d.jsxs("div",{className:"text-white/70 text-sm space-y-2",children:[n.id==="pushups"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Keep your body straight like a plank"}),d.jsx("p",{children:"• Lower until elbows are at 90 degrees"}),d.jsx("p",{children:"• Keep your core engaged"})]}),n.id==="squats"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Keep your chest up and core tight"}),d.jsx("p",{children:"• Lower until thighs are parallel"}),d.jsx("p",{children:"• Knees should track over your toes"})]}),n.id==="plank"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Keep your body straight"}),d.jsx("p",{children:"• Shoulders over elbows"}),d.jsx("p",{children:"• Engage your core muscles"})]}),n.id==="jumpingjacks"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"• Jump feet apart, arms overhead"}),d.jsx("p",{children:"• Land softly on balls of feet"}),d.jsx("p",{children:"• Keep a steady rhythm"})]})]})]})]})]}),d.jsx("div",{className:"lg:hidden bg-gray-800 p-2 border-t border-gray-700",children:d.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold",children:n.type==="reps"?b:Oe(N)}),d.jsx("div",{className:"text-xs text-gray-300",children:n.type==="reps"?`/${e}`:`/${Oe(e)}`})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold",children:Oe(N)}),d.jsx("div",{className:"text-xs text-gray-300",children:"Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold",children:Math.round(n.calories*(b/n.defaultValue))}),d.jsx("div",{className:"text-xs text-gray-300",children:"Cal"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!At&&d.jsx("div",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs font-bold animate-pulse",children:"FRAME"}),d.jsx(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`px-3 py-1 rounded-full text-xs font-bold ${k==="DOWN"||k==="HOLD"||k==="OUT"?"bg-red-500 text-white":k==="UP"||k==="IN"?"bg-green-500 text-white":"bg-yellow-500 text-white"}`,children:k},k),d.jsxs("div",{className:"text-xs text-gray-300",children:[Math.round((n.type==="reps"?b/e:N/e)*100),"%"]})]})]})})]})]})},fO=({session:n,onRestart:e,onNewWorkout:t,onHome:r})=>{const{user:i}=Is(),{saveWorkout:a}=rl(),[l,u]=R.useState(!1),[f,m]=R.useState(!1);R.useEffect(()=>{(async()=>{if(i&&!f&&!l)try{u(!0),await a(n),m(!0)}catch(H){console.error("Failed to save workout:",H)}finally{u(!1)}})()},[i,n,f,l,a]);const y=n.endTime?Math.floor((n.endTime.getTime()-n.startTime.getTime())/1e3):0,w=U=>{const H=Math.floor(U/60),J=U%60;return`${H}:${J.toString().padStart(2,"0")}`},T=(U,H)=>{const J=(U+H)/2;return J>=90?"Excellent":J>=80?"Great":J>=70?"Good":J>=60?"Fair":"Keep practicing"},b=n.workoutType.type==="reps"?n.repsCompleted/n.targetValue*100:100,C=T(n.accuracy,b),k=Math.round((n.accuracy+b)/2),I=[];b>=100&&I.push("Goal Completed"),n.accuracy>=90&&I.push("Perfect Form"),y<=n.targetValue*.8&&n.workoutType.type==="reps"&&I.push("Speed Demon"),n.calories>=n.workoutType.calories&&I.push("Calorie Crusher");const L=()=>{if(navigator.share)navigator.share({title:"FitVision Workout Complete!",text:`Just completed ${n.repsCompleted} ${n.workoutType.name} with ${n.accuracy}% form accuracy! 💪`,url:window.location.origin}).catch(console.log);else{const U=`Just completed ${n.repsCompleted} ${n.workoutType.name} with ${n.accuracy}% form accuracy using FitVision AI! 💪 ${window.location.origin}`;navigator.clipboard.writeText(U).then(()=>{alert("Workout results copied to clipboard!")})}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 py-12",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i&&d.jsx(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:d.jsx("div",{className:`flex items-center justify-center space-x-2 p-3 rounded-lg ${f?"bg-green-100 text-green-700":l?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:f?d.jsxs(d.Fragment,{children:[d.jsx(Wb,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Workout saved to your profile!"})]}):l?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600"}),d.jsx("span",{className:"text-sm font-medium",children:"Saving workout..."})]}):d.jsx("span",{className:"text-sm font-medium",children:"Ready to save"})})}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:d.jsx(Va,{className:"h-10 w-10 text-green-600"})}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Workout Complete!"}),d.jsxs("p",{className:"text-xl text-gray-600",children:["Great job on your ",n.workoutType.name," session"]})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx("div",{className:`p-3 rounded-full ${n.workoutType.color} text-white`,children:n.workoutType.icon})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.repsCompleted}),d.jsxs("div",{className:"text-sm text-gray-500",children:[n.workoutType.unit," completed"]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(bs,{className:"h-8 w-8 text-blue-500"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:w(y)}),d.jsx("div",{className:"text-sm text-gray-500",children:"total time"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(Zn,{className:"h-8 w-8 text-orange-500"})}),d.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.calories}),d.jsx("div",{className:"text-sm text-gray-500",children:"calories burned"})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(ys,{className:"h-8 w-8 text-green-500"})}),d.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[n.accuracy,"%"]}),d.jsx("div",{className:"text-sm text-gray-500",children:"form accuracy"})]})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Performance Summary"}),d.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[...Array(5)].map((U,H)=>d.jsx(dy,{className:`h-6 w-6 ${H<Math.round(k/20)?"text-yellow-400 fill-current":"text-gray-300"}`},H))}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:C}),d.jsxs("div",{className:"text-lg text-gray-600",children:["Overall Score: ",k,"/100"]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[d.jsx("span",{children:"Completion Rate"}),d.jsxs("span",{children:[Math.round(b),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx(re.div,{className:"bg-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:`${Math.min(b,100)}%`},transition:{duration:1.5,delay:.5}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[d.jsx("span",{children:"Form Accuracy"}),d.jsxs("span",{children:[n.accuracy,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx(re.div,{className:"bg-green-500 h-3 rounded-full",initial:{width:0},animate:{width:`${n.accuracy}%`},transition:{duration:1.5,delay:.7}})})]})]})]}),I.length>0&&d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-200 mb-8",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[d.jsx(Va,{className:"h-6 w-6 text-yellow-500 mr-2"}),"Achievements Unlocked"]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:I.map((U,H)=>d.jsxs(re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+H*.1},className:"bg-white rounded-lg p-3 border border-yellow-200 text-center",children:[d.jsx("div",{className:"text-yellow-500 mb-1",children:"🏆"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:U})]},U))})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("button",{onClick:e,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors",children:[d.jsx(ly,{className:"h-5 w-5"}),d.jsx("span",{children:"Do Again"})]}),d.jsxs("button",{onClick:t,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[d.jsx(Gt,{className:"h-5 w-5"}),d.jsx("span",{children:"New Workout"})]}),d.jsxs("button",{onClick:L,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors",children:[d.jsx(X5,{className:"h-5 w-5"}),d.jsx("span",{children:"Share"})]}),d.jsxs("button",{onClick:r,className:"flex items-center justify-center space-x-2 py-4 px-6 bg-gray-600 text-white rounded-xl font-medium hover:bg-gray-700 transition-colors",children:[d.jsx(F5,{className:"h-5 w-5"}),d.jsx("span",{children:"Home"})]})]}),d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-8 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Tips for Next Time"}),d.jsxs("div",{className:"space-y-2 text-gray-600",children:[n.accuracy<85&&d.jsx("p",{children:"• Focus on maintaining proper form throughout the entire movement"}),b<100&&d.jsx("p",{children:"• Try to complete the full target next time - you're almost there!"}),y>n.targetValue*2&&n.workoutType.type==="reps"&&d.jsx("p",{children:"• Work on increasing your pace while maintaining good form"}),d.jsx("p",{children:"• Stay consistent with your workouts for best results"}),d.jsx("p",{children:"• Remember to stay hydrated and listen to your body"})]})]})]})})},pO=()=>{const n=L_(),[e,t]=R.useState("selection"),[r,i]=R.useState(null),[a,l]=R.useState(10),[u,f]=R.useState(null),[m,y]=R.useState(!1),w=async(L,U)=>{y(!0),i(L),l(U),setTimeout(()=>{t("workout"),y(!1)},1e3)},T=L=>{const U={id:Date.now().toString(),workoutType:r,targetValue:a,startTime:new Date(Date.now()-L.timeElapsed*1e3),endTime:new Date,repsCompleted:L.repsCompleted,accuracy:L.accuracy,calories:L.calories,formFeedback:[]};f(U),t("summary")},b=()=>{r&&t("workout")},C=()=>{t("selection"),i(null),f(null)},k=()=>{t("selection"),i(null),f(null)},I=()=>{n("/")};switch(e){case"selection":return d.jsx("div",{className:"pt-20 min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsx(GL,{onWorkoutSelect:w,isLoading:m})});case"workout":return r?d.jsx(hO,{selectedWorkout:r,targetValue:a,onWorkoutComplete:T,onExit:k}):null;case"summary":return u?d.jsx(fO,{session:u,onRestart:b,onNewWorkout:C,onHome:I}):null;default:return null}};function mO(){return d.jsx(C5,{children:d.jsx(A5,{children:d.jsx(FA,{basename:"/FitVision",children:d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[d.jsx(SL,{}),d.jsxs(RA,{children:[d.jsx(Zs,{path:"/",element:d.jsx(UL,{})}),d.jsx(Zs,{path:"/dashboard",element:d.jsx(Zl,{children:d.jsx($L,{})})}),d.jsx(Zs,{path:"/analytics",element:d.jsx(Zl,{children:d.jsx(WL,{})})}),d.jsx(Zs,{path:"/profile",element:d.jsx(Zl,{children:d.jsx(qL,{})})}),d.jsx(Zs,{path:"/achievements",element:d.jsx(Zl,{children:d.jsx(HL,{})})}),d.jsx(Zs,{path:"/workout-library",element:d.jsx(KL,{})}),d.jsx(Zs,{path:"/workout-session",element:d.jsx(Zl,{children:d.jsx(pO,{})})})]})]})})})})}BI.createRoot(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(mO,{})}));
